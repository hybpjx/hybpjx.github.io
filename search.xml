<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Unidbg_hookZz_Pointer解读</title>
      <link href="/2026/01/22/Unidbg_hookZz_Pointer%E8%A7%A3%E8%AF%BB/"/>
      <url>/2026/01/22/Unidbg_hookZz_Pointer%E8%A7%A3%E8%AF%BB/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="哦~这个密码无效。请检查后再试一次。" data-whm="哎呀，这些解密的内容可能已被更改，但你仍然可以查看。">  <script id="hbeData" type="hbeData" data-hmacdigest="e594192e809da84a4fe9231fb5a87ba6e4bd70a35f82cb4971e27aaabd04bf7b">ebe2c567d855d28a8c084b1127675fe291f9f5d0bf258899b195dd47074eb501e3f07e0ab47621189daf85fc0811f743e8a328437988af3d00649225892c30e857473a6dea93795fad6ca9254017f52b7e10f26b6b627ccee99e61f85434f446994cdb5f9da379332bf838572dabdbe907a04093bea7f5d0e9f9d99175591c30415983ae14b8191b7ebf9565c42f8e2eaa1449ed3f261b27f3e744c4b0d5db4767381adb684558ce0c64c73cbb8383a9bce57155f9201a8481a50181b77787bbcc5ec7bd8aa98ab557610c97ff295ff899ecaaac4b8f4d9a96436d5d0afe76fc883f6257cb3bdaac8f7d2f8093270bcc6866147b5bc8694ad518c48423b7a6d41598d9bad15b1d9111664e9c1e289cb14b474f4472c853148fc84dc2fc37ccd1e0f8418894b7175031ac332b5f4cf83f39d6767c87303efcaf258a222a40bf9a9f5f14d08c1877c262f438ff517c8aff4a7a9eaf350d2229358ff466b3ce699989b12d2da1282103f6b31af4007ae216becc0a632813050a676d21e84c922271c9241f545efe4476f1530ad51f7bee0bd07bc451f6ed3db7cd10c023104cc975432b23499dfce1bb71fea2d819e8d7a3e1c511d33efeadac0e44c1bb672b9e3d6d1b223b0e8d4f9c992c8cc1b68a75630e99aeed0cfea87f5302f9ac7656a0a00a254c01ba9406cd67e2643a1f75e640ee78494196691292105dbf245f011a70fc394d1e77b11f6f6deea80b390768305b7a45f582edd15385919582496ef0e9ff186be0af68f28c852f0b1f90a8911052d63491543485da0fa140944c167b6cb5eb536aebb90e8e63b041635772aeb23e531563207843012c8ed4f46550575b99c7673a1ad2d781354eff9d0dd0c047e4cac98a2278640b9c6976160522d3588d358aacdaa2afbf840f0ef2fe6877e131d13b4f79c1e7446a2e134587a3815686eb377764e849a3ddd26b169eb5f73b8125f71a273ab736e935a301e0c38ed72b0073f163dcd6f8f992309db8e3f14a0d71ac7c382bf2e3561abdfff329f229a3f961466f0615590972bd3dd1bd8392c25c7cd475d6cd7227c388da2b6eb4831c30b2efceed28317db3493d8d8ebe88c845b1fe539db4a2cf047ffcdd74322a6a10955e2c5c69377e305cc793f72d9e460a24dbc3bbc3d14cce7e27611538482c5be7e542e2afbcf29da056bb7e1b012895a6c65cd8bbcae556cbb3120d9446c211d62640214bc504d02ea02744fadb209d97843d88a7ca3520d7c1255178513301a575c0ca730e9264e1131f9d259a7b766617632cccce55fa4aceac79178d65787f9f6389a50229f659a83f483cef00175900d28eb1f24cbed57294257174d7ce03382767109be2042e6be0843015269437cdc28a656221ae67adb975defabdbdc51a1f60819bd9a9a8615a429b949ddb3bbda8de6742813dfe0b6bb75d62e06899f5d7da9642bfbdbd196258b3c9a70adba475e5d4aa865337bf12a8e4bd9fe98fcb5f444ec60ccb34ead460cc6b489f9cb18f9c2beed1c2a6fd6845840f8aa7731201d67f673be859460eafe0f1750e0b00073cb9c248af0c73fc6b104a25e8739b2a44883c5d1b9523c268a5411f4a7d20621c9638d1b442e604b5fff5a6b4067c1071871de10abdb1807c664c7c8299f9eb2a3145c1a427e5e83049c41a60906fa622dc380642713e7bb532b1f72d4042b80a99e53e0d41a9d354a1efc0f2800b99e78de1e5c259503364c69452b2cbaad9adf223000c97cad73e0b28213a8b9a6b4570a6ec566d2a75ef36cb4254b71626bd57eb741e963f821f915dade5b8100a055d18515c3dce3bdd1bbc5f5c39c9aff77458b7940b3c45fb918d018ef819ddc1772545f3a5f95b6b8dbfb5660b4892cdafe694335ad63bdeced254ef73d21b16ca03506b1bbc13c5d87bd3689af0e9ec60e32ede6f35e8bcde711bcebe99505364332beb96432e5fd44e5898ba997eb2673bb01bfb24cc95f13ff624c363bed02add09770502486bcab33fc0922a70defceac92a7d267b8776cd82693d0ac7f35c2b1f2921cfe99e91050284b384075a5f6198efa20ce96cd937d966d922878e8f761b7b14676caa2c6e19c6d5de2644a98d9a21d58374be2003c78bad76615be85ed4805cf6b29c1906c34bfbb2ae75bdad516c9eb5c49f88d0b9f6dba8176a99be83ce5c5b3501de0e3ed6b6676e5f3e4cb1fd73cbc201ce81a5788060ec4df1a0273e8b7eb95645271edd4c8be51411b30292cf7d34ffe20a48ecd741cfe8010a971aefdb13dc218292ccc0e484fd05b987822059cc7b9ec4985b3ab885ab7d03b65a5a5fcadd92a57c886232eb8c68d6d3a348778be15ad0318e071946c84ce859e6973a855e0ac14d51b16f2c3933433fea0002c21e80b170a7e61468e84ba6ef6ad83b2146a2e9ec53bf3f920a472b3e3593ad06402c3acedc5bcc0787fd2774609ee1e24febaf1822e2247c82eca149a038cea507980efde087d7667bfcd2efeefa87c24a9df9c4da447cc97f2531f23f930e9c79c0b539b89ac0f45090a6a94b78e690909eac9089ec655c97f0b1684925d8dfd14367e493e21dbaf43284fcceb22a9e39ee43b1cd85566d6e17c292ac6288ea8f60b165613b3e85ccc836e1442b3652d109f93795ba6239e84718a1ce9975dead5121f55fd1b9da229a74275e34a932f92382e8b1b59df9a5f340d03203a302bcec50154931038fcb52d45c64f3011c6d432321f8fdfb2cbb4fbb9181422da4bc59884924e3a6dc8d741302da8d5befbcf36612c7c8ea02b9b7559fb2763a77e3f812f1e6c78a0123da3c737899bc6a472f153ba5966a3bd8d0f2f95fcd14374d55ddf789168a5f8f9e1962da2f36d881aa26faacdb13ff2de12d0dfcdbc81be42d38619d9ccfafd93e29b1563fb2c4ee8a977a256a844ee66973277a9bc47a0d16106343b1feb9d389b25b3fae7e0c9962fc1271a786af25488be34a683d06c01908247163d3301993d32014f9afe9cfdbc2f54cc5db02642de8ee4fc7f7692f7ce26d39f6bfae6e55c2cc490dbf50105061f0293f227f2ad2c69b6deb04e9b7068e75701c6efd0755918b14d6e592916d4cdee9823b4c8f250b31ca4c62d02f2682e07a6663010b92e1522fca7415d5cf3c713b0f8b92c4c49c7babd9069f12b0bab670aeaea03929e0465a3e7214cb497f7afcbaf60b8504e007251f343cc861fce7032459ffcc5bd0e298d5edcaf0ee6abc3796f7f344fb66a988e476749924afdfbe6160cedbd7e49a44c4f77e8982041b98935cca103d253011ead831e779dfef3972138df2fea58d9f922045bb791793d1b4a530616b63ecae7833bd2114313f73d8d9da010e685e7a75625333a1f6c6330aa96fe5f9fa39c1902da683928976b4af9e8c8e8386b68c06a844f854848ecd2f22a435d5220b3284704ec1f85dc2af02003f45f56347cb09905827d5b6766d98969c58f9eb67e6dc88032b0db6bbb7470f4bac6890ea895794731f85c27c726f7b38acfe469843987c30c8f7792fca104dbeb05238b1bb53e5f14c7d69f3d2383c9d45597002c4585e664d9093666984e3758e8cff10303d8ab0690dcc143cba95748e8f92cd9fe150c61acd4857c1ae3d6010f0f6d31852c23fb61f8f91c5f4e17aa49fef88ee8c876ebb8f3a3474cf7ff6f36426c202b42e9ea042bec979f536477c67a57d2b7abc85ba44e50e62fc32619b5f9d7882a344a6ce255d46986a639133828f4676a0f18a0ab5e62a4d77d1d9af6fb56a4d57ed159fb552320e6eb03f42b67dd6a2a68d22223858dbc8d85ca04bae8a900a53e0c742d0f011e7d60ad895c476511621cb4eaf3be99e52b1da56ca8fb894e51cea81dfdc8b646a8619d817dc2117d6ab13818b1a3a2f273010c068e16082c21a0c25508d9fd7319adb83b0f9db2186f9a19de63132264363fa62e6a9f13ffdc532137d930ea6b32a8ece31dc64d4ddc85270d379ac66c801a52cf096856d700f02b55d9209fd4e694ae3d8d037dfcd1e06765be19c4f6cfc9bcccbe6481a303907c38a528c8f972e3f5bc67851b894c38443e0507c8ced106c8e329c356d39aba29079a1bb5712a9d97259cf6f2a1007fbc31723659e294e7d91ac7ec1f7b0cc459f0e9244a8b2b37a1334671641f0670bd5cfff789d13f3157992da24cf91a65cd66ee4d221328229517e9bb1c5f02af99f1b8f175e348b07d2c4d698b43253d33ee25ab27782e0867184527901b0b26a952827d52287083e76a1597eb3db326dc6eab1a7c4553ebc83f0c44ea8f10f1cd62341d5877d71fe8d34b3ea904f958b5c71c36c4228da60b3d7e5e3c8c51849d8b09650db863db6fadccca70d2b8fd535d9a70994dca2df0206edfa668d93d6e32ed348e8441134f29d2f9ce7296f63eee86c4c3023d5f35081372c6afc0d28f3b6fae9d961263225bffd408474ebcd5b87d8ecd2505b24992b7be9267153b3867d0c9f33e4231ad4c12854e15e79c4e3f20fe50c60abb451dc3c87341b58619357404de1942dee4a064427b1dbbfb50418b53250b9229d1e4b57423ed120d625b383762d50caf5f2b4650fa11d4d26e2bc4b7af6814ce37429d6b79e5067d39f1e7f84f5f2d999b2b3302f1e870a55e631a962a505220ac8a23d04d281133f907b5afc36cf6ad2e2443b14682037b44558189b9e2d615d7c263244eb6e9fc023243861646e9a98b5d105e010990b3f7d9733d26c9aa81f4159db8e2e2324c6fcaa85a8232af8bda16686a82181e676f8471742b8f11ef73b723a0b724535faf0ff7f6e34402405d4acf543e7bf6125bb32fb2b3c5326809f8c21dfdfd3d6ba95cdaf06808c8c1391edf851be6a6334d8f03bc1106b4205936c5b041054e019e7fd410a88be0160b2642c837435f58fabc0ef50eb71a77897ea57edb7a76e3469914069a43f7f9a62fb3ce74a38f709a7da9b3dbc9594b1c5dab339adf131c031201995aef824e9bf5ed2c6215c0b08f64fa1489632535d49b337a01c9fc17dbf9ff2d45cf5399b65eb6b774a48c230e7a524bc42fef41769a3bf28d44b15aad65ebd0cf208cf13f4b3375e9ea50d5286a7600a63f0d72d75122d79be9bd8be7ccb02678924dce478a0ff8333443fa6bb8e0b1dee3966cbf668e6d88f9dff8e63ea52320cc0bb18d0cf3aa4517e53726343f8c508a14629b07c110410c87cab45103c47f30913ddbc060032f54be7e2ac1de4b9364b741526e6fed2d5a94bb851da8701f6defb071853cb60fdd238eecbe98268a3374a2aa936820047ab54b99388f8958ed7b3f4b689faf9e67fea606c61dabb22983f26a504036e3392eed162baf6e079ca3897c4b358326d9e87a39e8bee9a98c6fdf7cf761271edc7ab0cca2617ed8dfc605e9400c86d1e1a78f8991273fe46c91b4357320a0c0437ec3165c8faead6cf395b193d496070a138043325509e59bce804461d1ddb2cfbfc850c07eca19d4245ef9254f13e9489d84dca15c6895a73a5f079cf7f342527800c0a73959611de1969265c89aae8e9d4ba39abd27410fb5d633286ad062bcc017968366a447a12116f94026a6c1c090a93e1f2ca779bc3d19a6a50fc3982e1df2d0208d6629dda739a4f27dd369d67fe3dfaae3af5fd79fc9245f814cf307c004d85240e466e7a1aa29b763aa3dde8c0c38c83e9f3585711022545aadfcddad8cc9082140b61900dccd8000e2e184938daabad45aa8fe2ccb40eaf10e07380115323869fe0fdc3235a242344f731d2aedd374018136b870dc065e4346797a1b759fd693329a34d12d3b90f74ff2708a3db2e35f82f237fe01329c89591eebf425a47044176584becb867b136a43048f62beeda4948ca139cf0a256e0f44aad1a8361ef6a4cc417be86a8d84398fec03dfaf5152b625d1774df0fab0dd1ad91c98b92284b8596499e8dec5dcd587ce8f86bb53d3e75edb9c96c9145f6691f7bfec8d7aa43efd59073cf0b1dd74c707f58e552abe6681cd8d0d322a05def2f5f3e4d5ae25535320bc73002d4735c89b1ded1c915a0a212e295b01f5da1261b106f8297d723363ce76f79a6c5ff180854515f712ed8502386487395acedcfc64652164305435f1c88cc211dc8167933a8e838714688f3e7f9336fe9aded4c3316a2f07d0dabece8b85e0aee128efadfe42c9cb8e145d9af27e9a99ffb9319aea6c079696685d54f681bd96c7edb99faab2b6dc3188378067c4e8b98b3bbb6f352f8042e88ddd044dd242b79a9503c61acdcd078e496f624baa9d2640e0894833c2780e7f85888bea6c7da310954519b4822f59eb0dab0cc34a45374334bb34946bcd3218a8244e940881c05e3641f51c39a20ae93a64217fca7b21409a669e9a44df6138e05522dcf41427378cf1e51e92e57c8009c22e03c795ac6e10d72df3d6c01adc6c5d5b4eb85473e6f266d581f3b5997f75e53876e43eb935d8623b873ed76257f63441fd9ef7061d3df98e3570cdf5424e624228d81c01f3a145f217624cccd66d21e3bdfb4b2e7e940377141fefb5cced6411d8bc4f0a6f8b4fdd6d2c7bd3d570883d8862ea1b40809cfb5f2b120ebb45b627c95e4f157ea3e4c123652221f106b5189324060162cb1ef8a97866cb03be42dc880df7e5278cf5fc5584420fbce9ce441a8110006280d2487df45050926e0fbb0f66ee07ed13b1e33675c15443a2df3bd5420c1e8d07359f89fdec1c5adee0ada18f6765d996b4910c71d172adfb200d8298d5e5c015a5300616bf63c8a0b39f4c17216213ee67440ac25eb39b28b3ab0b9dfb9630f617fe157f624a8b2df1163a07dd4be054747edbe030e9524a6908214d525fbc9957cb75450fa3f314f3bdb6362c316e18089e05a24b8f4059b1f1d048407ead3aa642bf9ce88a8cc2a58859b745996ebe2b790206c74786456e8fdd01ac0aac973dce688be8f5d184013363a92191dbfdd1dc21100a4c192862eaedad19a6057959b844525659a07a8e7adfdbdd2c3e949e5490c3bdfe7c6a9412447507ac43d6a2fe1aa02f4a5b513d8a883054523b002d8539898d08cf62fa3e202856cb338aad20491c13a31e1c00c98411a4fcaa9acff6075e65f36fd6995380f6867971e3ec5a0e8771fa6f060052691c0d4cc388b05ca5c155d48b295330837ddb894f027659df480c05a221fe19459daedf5e4906d304ec34b4a18063a4c24901394bb69a15e1ae3c221ba5e2a3c51fb4b24fbeacf6383bd1ea4366e59e2f54ee6e0f399361c1d2dfce0853e616fc95413018cb4c68692929edc7cfc764d90098fe2a601a9369ebc96992665ad0eac174a81472252b4a8ef494dc18ca90aec2c30e6261e5cc1bfa3c14b0fbd509e6ef8657ac154839f34f87dcdacc1a177de9ed582528f24ebdbe292dfb79fbeaec6fc835f118b50e31e219111de30e5aee4540f6048f292642f44527046ccdb0a73dbf3341f09394e16d6dd86b43ddaa3a4b407ce1369ec66c56d2d3e1bd4efa71000f7f9fa7c9e6e9c5249843b063be2a4c62a6e60f43073dd8c1e63374fc692178939b57b32f8486a6353723e5d14e9004abd006e1f920921f8b71279c535f93210ef1674c2a7a0cdcbb699c2ac6304f070527fe1f2ab0ae1df5e18d45d4e3b0c75ae5e8bd15735960a31c7c8a8c31aafac5aafe449dae823294ba7d0f620129fe28096559b94405f1bfeb18ec3a2b510209859a286106c2ae3db8ed5c9b4f17551721c0b3261af6e0e9079579c8dd852d6564286acaa574d33bdb7a4c7331a31d9871898bb873bc4bc5ec1b3745bcd7f56c1bf97cb8ca48308766b82307f99b160ea03a50810ea7b53f5bbb39f4332fec45784dc39a62ad9fbbdee37d1b4edeaf4fcc24d208a9559929d4f5437c0e0611407ed57b8637c98e027723c00c31bac5e581105843f21d855ecdb1b3cfdef5c6c52d031f737591b1430d2ed1c37895ad3056cd2ae7928c36ff0cd45d0744cfa1405252e0bc02fcaeab999264d26fd4364a7e1d1e2e2a83dc5f0c163612b643b5542e796e2f08de346043e0e135edaf95058a11889edd1f81dd1c1100142cdf39b726bef91899fde85a55fb52dff54316b7e6a9f4e241e783d39cdd32807b60730e4e1280ae4295b16fffd80cb307bddd9e40d7ff311d2265c2b1b7cc779f97b40f56ed945c18909af9e96ef032bd256f6195392fcdf72d2ad47039ca4af1151efaca35161ee488f2d247789426b313f872c0d595a0dfae69b44c2c4c7bf142893bdc1d3d24cfe54f7092a602358f6f300443bf9d059e3fb3c93e82b5099be296182970567138dac075affff50ec48a138fb24b1d787277e621cdb2ccb0a648544d14562c0ca213c1114a4d71d885c7a04f4adc019b8d4f46ad6e2017dc27df7d1e3b1f4344a6deef88df57713145f0ee3abcd70f045f1cd67ea572151002c404eebe327f2cef73b889a7f45788c6432a649a03fe4339c848396fff217bc789965d8220a32beda7d0cc1633255d9f25e6b2c388f97f532c84717e5f615898eed8a8546e49e79965c7d06c96d150ffc88154fd435ff635ea06614ab055aca87a36ad32e51db75ffd0ff39941cf4f6afabba8bce3e10bc8823b613210bd149b920b78a0d2d04cadee0c78da009714e9ab0ee1d66a5b13b31f5b10ba8efb455ac88f1fa96a97a4f11e9f9cfd3b4209b27b426bba3728df5c36a7ff7e970d96f3be86767a924bff0d5f32d1173ed5a2c9463f77cb9ecaec8b4b89234ef1556ffbfaf4c2afca16a755f211987896f26be1b3a27ec45ff5530a37a80857f67209e1d65c0a95257ef5833696195932fee4e8b6a2c0c40380b1079f33366c612b5c3de30142d88a9b3fb1b78536aa5efb6ccb93af80145fcebfa178db3df5affe80ff8d5b26e46806ae2de71bf467a02d9a007ea0ed72403158521a40b218b1d842ef722524f34ad2f9534e8d8a39e16c04981a72c98e2b7a09983993e6dbbe7365484ebd84688738732b0d174cc2618e4eee6377c2b085094ccce137f00e503032906be1beee5fec39f9184829f4f9d5ac80f69b8c45bb8a4619401b83486f5d5760bd496c4c9d7fae27cfe3923fadcba1029dbae61b13ba7cd43ff4d56ca53138a8d8af2b0f45586cb454418ed3c7148e04b1c5453504abfb40c789cf92a6cb73e15c8ea39f5f62c5d28f59551ede5544ad89026ea3d4189366c59b4d8c327b5cbe89057c95c90cc3f8a4ce2b60adac8bb4e6cc606f5a4a7e78e00606f40405716461d15d464aa4b27a2b8663df93212b10a0cb901c5d1ee46e025ed45b6c4b0288ee26819756af6f16b10d428e52325dca4097d0e5ea762e4e32958258cae8d94d3d49ed4c6a24dbca7256088112b0eb5f18366af417bc0ca4471a4d8341310e24b86636a50b3160966d679185cdbdbf3fee09e68a2898eb745048d9e4dd5612ba5155dabe4f7e997241195607159c98ad4c277c28c8572a4adf9b9cf09dac9af11c2d7a203d91acbd5addbcb89f2c8460e19fdf621952c7b086e30c81e1f6a2a969e8e23bf66726aaed274fbce74208393ebc8c07f257fa352ddf1fb0b0dd08a03392a3f1bdb83f60d7bbc5453954c6365d1339e1a18409d7fd4736a9184d4722ddfe4e89b1710b82df6857904e1626e1e986add0f0541d8fdf947475535d23b3d9c55095db7e4d7c63bfb43fa4cbb2d94e5b32545a5b977f591d90a0e2d978ca6d0057d4f27201cad5d94d2709f70f54ec0ce4832c8951693f19915bdb7f52cc36fe6fc0cd1fcc9044bbb950ee931fda4f4ec9aa35baeb194ab368a00d6b9d0c475a5833df95368267b032686a21367c62a40b50d3da5ad5ef6278af03b962fc6a343c0e447196ab703217ae748a6a6c5dd283e26e9d4984ad51ba68d2c519591e8f29895d7256c37a9d3e4171f6580cfff81aa1a353b2e99ed635161a1953fdf17c100dd1439a36fa02b3a594123c73293327b2da9c499c7003235dac5116a026924a648acc52677d95783052b26df7134eeec1ee7ebe34f9ec915f03821a4f5875ca782776dc8aba03cfdcc105885363a43912566a2eaa58158eadfb243a852477ac12ce0fb457d6a58357cd5778b1365a50c567f272c3d8a123d06538e687a243181bb874628b7e5af324f49c2d74027208be9d742ea720bc649c5ee29dbfb821b0675040fc2e0dafa960f2971ede07d36a7643fb184e0ee6865f55b0a7624623cbb0db76c18a8c2ff161c2b9fec8fed40c0c2d767493abdd614c3bb054046f3aee408fdf44afa5355d3fabcdcfb8b722ef55a18a90aecce3ff2e338bdbcd7f85d46682ae9727fbf7b95eccc30e98d024b206b636ff100eb3b7edb19a6e53acc3bad8420fd750080a2cd9cf3fc86f58b9d865e7a34be161aec0fd18c33efd7d2f852703dca26287d98f0a3b5837c446ced27f43af50834b36b2705f8cbbc24ef7cd6d11da91c48f226295b6ebbd27c84d15ce947cbcaede0659733f6089b1dac14aa8ad6a80315ab0a2005830258e187eb1d35bd0a645a37bceabff53617e91e5a8d128ef3a273edb320f415ec4f200927a25b2143949cdb87a566fa18da30e06c6a37bad37b9ca0f82a828efcee7bbcf72946cc75634bf123cf36817bd4357a4fa1ad12e3457c7cb2e51573857f7415c305c68c3177b6f85e27ffafb85a13d0a4adb7272991e869513f039847641015d97665a20a689c0cf81cb366d03c74b83a9931077b7c93334ba2e6799d5a8c711fc94c93aadb304815eb8bc4745612aed444c3222e5be305ffe5edb960730f53bdd99393c39a7dcb2daaa5a1313dbe0d9035f17431e9da3a393525cbead0e44a7e7ebe6a31c10cf7ffb6e4c4ce78a8b331be24a1f5b37bcbc0c9e1bb5c90c14fe6997c2534cc64146c26808ba39e63ef0377a5e61af45d0c43e75cabdeb9da34718cfddbb3f484c97ab9912899a043b1a36a60aba83d25a2cfd03fad0995713888fe93fefabf768d7b2b7ae7db2f0fb87a31e50c8c6f3139793e866ef17e99b399326211d46713992e491e3fa4c49cc2c7de649e07cdb0449290352ea5e96d0cd9baac5d9bafa7fd329369deeb9baa33ec7e058f205a7c25357545ad507b89413c30536c287ba5ef298069987139677ec6a389809011d7ed815728de2ecc37db0ba4d22a32657e67ba04dc80bf4228571945a44b83c72c52e86153a3ebca5ab7da1bd1567f1dcd59cfa3dd627d70a588a8beaf0599272a60843ae5d88a6049da91d021aff9d0ccfb7f455701ee1bdeacee589eb088473eaf8b900b4131b646a814f10b45cf00d370f3b37e0c2af5e70ce0ad655034952a4b1402c6a7f08e939203c04206fa93aeda5d8a32cda021e3f2b1218e48afc2fea78f0783a772031e650e469cffbb98078d7f1d9aa0d6d8022ad3736aaea32f2baf94ab2fc5e9243fee83b31f1836a3f89965cead43948ec022a696c73099b27d691ab7bec0e7525198c6729c35f604d404c256ea4eee2c96a624fa4f8db1a61c96a2e7c8972f04d14b3ca907f5c642f9f5e17fb6f5410087f7d6716ecd87fd0db2e8290e953efa961a7038c49c99de5814b3191c2d90d65a661b50a260468b99ff46bc5c7a2c02d61fc21dd8109905ea9216b6ffbdd52896105009c7404a3ceb6b9923d39aa4f460a5714100a20d599f14e9dc76820309a2c4145905a7ef626497c46f78e0fa4023874c888537118528957b007568dac6947fc58e9f8db997fc77ab26e77d6225861869e04ef08600dfcbf03eaafac2f24b0d4eba902484696dd5046427f2c9fe795b97c84c9204fff15cc280e095d9fb639c2627e9f5fd83e0886c084bfc5652a9f1c9ff97311181072064072ed84bba31f54f25e553d3cbf154b40d49a656e01992b1c3683c68cc323182408e870a0367855ae88a00c41420cef982a4da743be1f493fac41750e5a122d28cf173527dd025b4cdff6fc4a547b9fb77b1f4fd6a8a59f78dd45c4a0b13440d761171761668f1d1c4f84553a9cd7ece0d70decfbad2779fb18c430b3a70537be6b5bf42e19061c44575b9961b85f4a2cd12b9c204e9e09076b75bc9c1ff103453f05751b8c3aa9d65937687e4871b5cde19af60c7e512029af6b69a94a2042301c200ee76a7c013c48a614823af5d67025537d3db9c20d10d74ce993deff4b05460010b66496d2763176f2db9d360093ea125feccb3cc82e0c935a1e2a6f5c1bd9801dd0e7d2add24441170e81b594c89490ffc054edd12e719a7b7865b925a3306c7df53f862304b1b853610343135fae3059840754fada777ffc6207afab3ae0ff37b9ea0365e9ca5270e66a0e63d813506490646be9b21c79c56bedb614f7da31d8aef41133684c28820e1f6a55d2d708750beb6e1554196f9d733fb38bde5d340962c6824fd5cda39572c217f7c19e7d7c4100d6409299ea244c7c734687d9c41ec4d13a1843f113574486f8926f8ff132847459ffbe81f5e18abede27c0479991ac7028863b705b9dc85a7bf823557a8b3caf6d861db6f2e265912f11c7f005931caa592f53f3aefccd39f80ceb22ec72b7ee297527a66b94aa9fb5f25706557388dc44ae711b09f0fa157a88b0514f93bb9efb674eb1b2f610b8c673110e2204a7af56f80f167b98042cf455c8bf16acec5dcd63b69abaeb6c41aadfaa4f85232300bb569f4cede7a1b34343539d2a60c117e75de42af89d982ad4bd5e05b1d929b1c3a337520c019bcc29680f1b63a674c350a5eadd01406b9738a1eaa1c59ebdbb4e3c8cf34f36d0f6d0fdc8fb7f0a56726ccf3bbab5db3c88ebf424a87daf24db27c870ddd7d1cab35d6ea6c3e59e1001d5fdd07b1f3f44ff3f6fcbdf2940e7b6aaf366dc9f8800d68b77e6429339da1ed4e66773f02af1f8253d5e9eb9d6be66da0cda7bc41bf3950a5a034592b71c2162b816915a1508f41a930a596e0b020b750924f9508617a9f8251554bd708c117931fa8848a6b7453b11a4a7e659535df4bdeee23c9606812b9e3c67501e39f9b3e99254b99d131ca4fd55660ee506408405fefe49ae40c6d86f07a4c4906184b4fa46ff434895120b5c257f4e97038fc8f976132be9ca17e0475996eeb1b51494c252588fe505c5dec9c8bb8cc5a9c66b67a17006a1b26359cefb2c98016938df4b2a3d645b1ea7aecbc844e904ea32f017aeb2b4b4c15da272bb9569af2582d23de151eb79e1d6900d32baa5ea535a9db3194c615a4539e09fd2834fb77878938d7242fa7162a9a2b8849407ffcd8a2309f417ad3aecb006f64bd27b4889f093de2180b901bf40ed72459cae55cdba24a840c9a3927640ce6af331e9c01b384cc1f8c3a74c8a53b0caf5b55889d70b00d9c1e10d29808341a9255237785d5d4d7d766704e554482f1cf53d9133083cceb52e93bdc4c27dd5c751f1b1cd49dbc4f0553167537c8c0c3bb47ab28507f0389892f3227b67fcc30ea13a9398c04970d97283399df23f81302a67ec59a4ebdaad041fc6e992ab3226d45fcba73d3cca97b81e788d7eb3da70f94df1544ec023966025f306e691e87721e4765c9cca34c09e910b772b928cd200f65c5909d53c3e4ae58c6851a030f53b0dec4eff0cb5018a88044afa9b76c4a8de232dd75e979bcd806c00542f73d12c895e455e77e4e948bf434503bb407e44d6e0ab887fb1716783c1bc6e879cadc78cbee21e5f7e92cb33bcfd54c5e78a3c081cd42c5e2a5932b90462f3228f030a67606d7f18f4cc4acd65d0c9aa29419ecfe034b22c55a3dc6f549702c029f00896b679c9292e6aa38eea87cfdce58eb76eb5bf8dcfa3e3e13b2fc7806fd5699e0fd5161c50ebf038b44842cef59d18f9e475557fc776c609869463534eba73c4948a3c78a0d9524f123ce204834afddc5e2440ba8419206fb74d6f230df3978ec557cc943604861f3928f6ad19e7f7095f71def7f00dc83b0bd83f6b309503d74fe4bf31d26dc1893a752f14484139403beb6dcbab9977238a2599964e8dfad28feb0f859613310af361ccf888715f0bca9ccae32be60d5a26b2a43c053d8c1d8ac5e78a9143805f2a7434630f8234ac170bc7205761ef91b5420a3b5c69ba9f92d59b15a774292b4984bf9d5372c85ab1105da6974bb1775d1ca88f6aee3c1ff37e3fcc3b8041e35af8a84dfd0c7a764b4b318b5de110a73e41e77496162848b4b251a1aa71d32decf5ff92e539761fa1277d4c50f343acdc66a2e617b9582ba65eb524455f7686460889c16503f71f9c75e8dc8b7676e87764e8219b1e0c730728676ec81ce24c174bcb402292aa4e8075a9b6e3b7272ad74d8f555c9e613920158e8e8b9bf2afc7538d7a3fc2e787083e72462059536417219558d60b78b3aeaf1f25bb613e4a8f895f928f1aef7028f561a0076d60f79c0edafe84b1f8be35b53cec97e6cc3d88c95b54a85c265b27b3f18d373b7ababb0bd5a60582ecb87f703a96472a977b71767a2ef67378fd73c5febc596c0a78143bb106f513be41e6a04230aa5e7044d14f47823a838566e10f3e0524614325c8748b47947dd21bc097e148ee0062e0456c90d8216ae8931e9feb84dbcc819def8ecfd6b4660144a7fd5273ef463a26b6ac2eb47a8088b37f71f708dab9b2976b32d15f1f095480dd3d504d490af8fd272e6a0b492683966bfd8426a40de3af1d3b74d0691c05fc8bc3b5e6622a95235bdf7c4dd5ef2ff538e46a133c215d6e76dbd307c4827c653a9e7bfbe93e96cbaa98c459df094d201782286f7bbd1b4cc1749b57625db6ec75d6dc69e5bfb103b9c8510d53a9f3a6acae0603c2e0bb2486c2d5286fa636f635b31c81c61968d3bb31cd9d962b00a08f9ecfb3ad8658c313353be97c429c6a726ff93a2efd217cad645a05d93c0a71e71c1707121620b562151cbcf0a47650e5d9bc301210e92acd2dbfd66cf82670a25add18c2efe6b0c4d6cea02b02bd468a568818f0bc3358dcab910dc8d0e3e3a2718291900953f6805abc414d1f4020c8388ad671e0493b317ff22cdd3a2cd5c59d919037de2af1169a0fae116c7c4fbea668bcff2642aff122649832fc11884b54712c7e6fdb556944fa5ad511e8f89935ef6150784671ec51e319251334cc6005bf9100baac570e99702b900aa78dc59207ab8fb11744447d297b4898e2e3907cc7f64216409fce9c6ca9c5e9d0b86ba784a190871eb85adc854f8720f4c172d7c473b8bae65eb6c8d0e2927e02a9b27312181f7e8fa40c1caf84bc72dde1baf00f1b0c792eddd5056ad4aa90bab1b7308d9b158e3972cfeace0fa742f0e242263d7ed708d2d84537dcec0fa43a0d104dcd893a5090f751f60765e5fbf6f1e76efb4975ecbd5c53cb7a94d4b9f2ccae965e00f821683eca78512d376615648028a74683adcf48e6fdfc52afc2cbd882f69c8e08a87003acd1e7412a9d8eb1327921b3225ed00440f3daeb9864be3b0743700611b231a56ccdac3a1a6a7fc3b2c3e06223ac9cc589ef1763b04432649c491fe77bd24b635045d6236670f7e7265ced5d4056fb8b50570d3404771e522c708f9fc27d4438d81d146f059ccab70fcd6a4be879bde41f6aa55c59244edfdc480d63fb00890326f57e6d52b71396184d235889450e29a29c7bfc0a1828e1d215cf85e1b0ba7a56d234b624f1bb0970112efdfcc885efedfc63a6bf86d3525e85d813bc131904956adb8ae86ed2a6ea3875581a0bae72a5ff0511667df9533ddc6dcc9c77c3c2df57cb570c54750386318700654c9513b076b422bfc590340c1d95cbf7d71181a2a791fc691c4277677ac18aece22ca17dcce27eb644476d4966bbcba9d820d5a16277cae96b8f5cfa1a72a3cf063e87345d77acfa735c5480a7f363395fb6ee5847d359b319ab2c9f89777a6df62722d36b9891199e15b847d51bb7ad7be2839f259270539583f0707bb325f6ff92033dc2d39d1cd5453f13eef6a58ebfc9daab8b48c5b049f8fbdcc98a1ce44014110c1861847b7e3db154a6ed99e7e0e8ad823a2d4f070a6620614306e9c1ed8a7d2bc3185b2848e976a76d3440ec81ee42ad4c505a3703b5abe366ae88a0a6696b0c15c2a95b3a090932e837269b766fc0f542f84c37949885c3663499931d6aacd110fde8659c874b3211a48965ca148cd55ab8a035f056bd1a49d46a6cf956f63d237b30dc4c35eaf4ccea4822c37c8405066c446a40f3ffaf91d0bdbe385d46441a81d1d7d77d3e67b94743774c5a4af6c3a3b90f1cdf66655abed508b9fe4ead174a59e268c177632fbafb4771af37fa0b13c1092ab743c84fd2d687c61db7813ef7edff5905c8710a81a56818345ffefebeb2fceb34e9c59aa391d7bf0908cdc565ffb0acac3ad5bf6b482a39dd0f1f82a9270187a576c391939474d06749f849026720ccc436dc64ec0199da2cd56c8d6fb7e3ca9c42377d2960ae51502440d2eabdaf79713e346e34d91b5120eaef8a8a2a7d488e30333c017603da5d875c249aeeae3c5f8728ee107ece2ecdc979fe456cdfb217a8247a6ccad7aea7f3e97ae55c735c90a3d1fc79ae5e55c50886d5e677db0fcd52a4fb04cfcf7e15ad7e722afbdddbddfb26c0b58b9cb20359dd8b2f393ebae7d13402b1cad1d0158fec9a3d32eb1001681f0b06378923d8b009fe9ebb5d3a3342578ce0b2261e8df836006145044c6a2598a0f92ea8aab87a3c366cb25ccabd6cab0236bb38e395909095aec9b5812731e65422c9064f7f72691a48c79f797266dd234af2e4344c13ef1fb94b309af69c624206373127a18fd8a76cac075484384510a9fc1a4d6f96e1bec2de72570f49194d95748d1952805c6b65db1d3713d91b70a9ef7a16851ca7028f887ba6466c765b00c937aaa6e174574cc37ce5f223d003ef9f5a3e14cef089c45cc373c1eb9ea40345a629f5fd8bd6804d3c832f6b4f81c916c6ce1d7bb7aef022d78f321d3eb54dbd08caaf7d4e07ce37e7653639b364e3590d2536c208cbaa2a44c4879b6afe8aef74dae79795b08d3ad4d73f6c739e8296ae63985e0728ffad05554b6ce18e7431aa5c35d4ab31230daa4d2f6b95e0d8da6526802e8763dd2653098c0a750271c08abb630454db31a1f1934e356acfbfd191c3c9c390c0021ff85e4bdd093842854b0b3261d018b2cede4639049ccd4c8ec39b2ddc5500d5bec4508b09392748e8cc4155cd49fcc8a7b64020dae7322ed8fbf36c9f3839f63c7c833229bcc4f90ed6ab1397fb9d2a188836792c647791db78382da690e3e3c2de3950e9093d635cc435753f4d530b407974cb501cafac63c9e07a252175927903e5c0f0c6d4dc87cf20cee048c349ca039899b50209478c75d6a30ab3d8acdac781ee0ddf9ad1e081e2551ed1e732352ab9af85c8c6ff0fdd6f2291c135e33de018d0102c2a8380adb4e3faa7e7761b9be54d141562fef391e87cb768b348a780019db3e343081adb4bc20422158a4a7bf469ac90cffc67ad67d33ae5095b4178e298b6df577263446d2fe2e682c57552bfeccf71d275b15382963aa736a9ac47381f1e3c39ac89f9bb65fb257ff70be580ab00335c9806b75a6974b1f9e5bdd2e5b75eff783e4692eed34ac6abb96730569881505a14cc3ebcc5a515aba30d521775f94815b074690e9ed6a892a0cb9bc6e687b8c12a6cde32ecd515b509d8975736dc5ce73694464602f27cfd750fb5afeda5153f181d1ff9838a8fe438491661c217f1534a8dfe073c5ded03f82412607d219da345bb0eb2bac729862e172711bacfb6542c4bb84aca2384b190b786f54cb050133ff0e47435ab00d66e4b517c1fbe0d8f66df1063bad15d5309acc498fd9c4bc4a3b1ac98f974ceb3dba7a7b3f3e4682fa4bbb57609923ca1d550e804771b3b10e3f3877c5a9f1880ca07216da4d46a0174a789f0a149637dc07ac5f325bcb14687f4657cc043c70b94900dfb94cdd7d8249804135edacfe6da2d69430f8eeba91b2e74ad8292f8c71a8d1565ee957205867bed646e4ecb4ad43ed0f65920a71e29f1efa03f9dbd053e397682f0e0a74f290dd93439d09c1c38bdbbb89a6373fa21a6654a9a070947a386ebc452be701461695e3418177ee73b8c8d7789fe9f2d4042aa65562c78eea00a0e5f6a18a007e1d8b95eb5bab6a5387c17b80a7842441d1f45a3fedc21573b81f4da26229285f6dcbeb3faafe602827b0b845b904965857c338f1436787be3c51434e6529f95ac5842ee2522e2213eea3c375a32fa905ae3bdbe8c4f3d17f843b1c30904d1ba31a4e000b0ea2f13af562f9e27c0303c38c0b8f9bc02a4370cb4d3d072e8ea6db9cedf9701ce91fad6916dfdaacb6f845f43a44d916ce456406b1f807b1be8caea26e188abe5b813a549517d4793b416b5b26285a7946267c73f945de1c2014688642b70632e5b2b241835806c70c69fb8c9ebc33159ff15d77c620acd3555f931ee70b4c84fbfcff69678fe90415c14c41247ae76d1235d8b5349224942a3c5d548c86352cec0fc64d254b491d0a57f51082f0c57d7865f2ad17be92029512f2c644f0aef79b5c7f48bf92ae7d07e1d83a0f8beb9ffeb7c5d782b74ff578e1ef5cf48b7eed14391e508e376a2f055ee83a4bd6b813b699ca3619de66d7f74fae7bf28e2f6e6c293e8133590be1f8dba3daa7c3afc1e01b2f7faa792a85377c5d2fea7b48fbb195773a3b2ed590a40c817e3838f979770a9844bcefb1fbfdc3bcad17f0f61cc19a3335268d5c4be769962c202581d7f1ae3130b34e7aa5f2b141ef8f8a277696dd5db8993e6a4e7b77523fa34cdc066f4eaca433153dc96565fa371df096434ce7453bfd87fa6c1db6d285ae6adcc9a9dac800d9d81bc979e54812d9879c8018686436169a99bc78100b92bc4d5e60fcde2c28945e87ae017bc14ca31fe3821c673277132070617da14c153ab0549dac85d1ccf54aaac86b18061e7858ae102f9e17e4aa7d25f736e5cf3f53b2c888c101f5c1942d23f6df7d6c02be09453f43409a838b8fb390cce3cbc32b543c1881199aac0faaa5a9f54c65d97c2c400a6a1201c67e20d6889eaf067c139995d5060a746aa89b75234f9b643c25400b81057b545419dc3374add84b22a0ea2c85270f58ff17c428ed36a789df3f01787aff52f69e0b2733cf214006a9fda60616f08e2af5291519003a81a1520ecf1771da3ffa351700915b01eae636724d77d1e84c3737f33b6012994e3678e69ee8408743dfab8b18700dbf408ae2d6239d884353a73b72f36273d9c0ce235dfd693ed96f15838be8922a523a99ab69dd6c449af42669dd4477786693aeced102a62e366ef9a36b53f8745b1ab0f27b3f76c9a65c5dbb5870ffbe4effdd94130e5d0c77af7a31391705109380cabb5ecc56a411a687b09d88512c17c8e4c06c6c36d6908435196d9968debdd559167da36a1c38b8ecc5362b68e06e7f68fc5ee7b20d9a5642a29f6f68ef0df335f30dcad6dd288c696b4dfe36b5e97896e0a231177dc0f97329b0b98a7c16e1f5910f9fbcf0d34f6e9473f272ab500317e672cd9df55829b0ab7bbaf2c82f0823fc114f9ee0c5a5c88fbb6ae2abeb9044b6bd04621b4bd9e7240489faf8e721206f804c65050ab4df26a053aef51f66ef120a05cf80809a4ce1586e9ecce26db63342bc5fdbeed53cf4970686b771a7cb999384d88ee31d4266426bb4d1f30687a32e84ba01d5861f3741ab244f56d913f4c2bff3451d8eb79bb73ec34ac24a74ea8b92d6080d38914d4817dff717e25f39823105f3f2d594a04ff6d024f0a04a6a032cc54d4a9bc1aa7137b908c622e5a080eeb98800faa3264ee732357f031f1b5a5ef57ee69a299f0af0b9eddedcfb042cf8ddb0c60ec51348113f92c2819672a27e578ea3731216571e9515f641d0891667c2cc40e79e63e6e820d02d7cac38ab604314e7cb7afe71aadf934cd2596d50d3e766c5c00dd012581f73c462e13251d31351a68287d6e8793982728e806651d606b0205224429a76d0c9b4cb2039fd77956ade0d97157f56b166bd8a757da21e585e8f1babb02214cf1ab6835a9fbf868dde7103b75f840a4666ff873aa00d46dd604d30bb1cb13f06bdb08b03ee559f811a98cfcc506e1197b12c416eff2c1436a29c5924a5ea21937821dbe8d24c5224170b3d5002009d6caa21c7cd7d8fee8201cd1a0ab8c6524260dffe9af9fd7624f41aced02abae400e3be59c7858aa674bcfea93c25e69a06849ae0e804a01d9548981eccd570e4caa7b19ee278429e0dfa05a0f3ca4c33ef1b256e7f2965d659f77f07443b5298b60365d8779a37f2785508ab2bf43bb221f36e865bece976c3bfef6263dcea1729f2f8479f38f85a5ae69da8fab246833c214cc22e3b977dd0f82e103fae3c56f47d09d4e7804dc4c6236343ea1324d4ce8a09e91067d1e30e1dfb22e9bd9e81776d894af9b24f6c4986a91dc8cfda328eea5a8e6abd4796f17fb2594c158067df2e85f492aa8b9e28577dd4a12c4c8628920f67dce60762187a3626085d8890814370901d79f7a65d5f1f9d135587ba98bacd5777867b7af1fdd612747ad5e7cd50980125aa934749893e4409add0abb42f7f7ca6871ad4c415a2bedb66b426540aaa1fd7bab67d57b2479f1fa283f192540e5f1a07f78fa4fca70eecca7e5d6815e581c22714e47b31de87cab2508663066a390d2b989652ae0500c8202456b3807d484ef6094aa2bb567b22dcdfd0d8e36afbba8047aceb29ec042876702394c5133411bb0db8200a0731253d94dc543865e20353f2f9dc6abc3cfccfe9e20c0fb85c2d109348efcf8b8722b2266697a5ae148596138bbda7c1a93533bf72e6f4bb890f42ef05166c2b58a417842461592f88830de8b1912e924e3dc05a394862bb49f3bbe14213b19983cd974d8e5327a3f61a675e73ea0ac1d2161c154faebbe34e97b0c4e450fbedb4be61feb1e01545c3afc74ac9dd6e0c279280c649a7061578d06746fc3e62537ff8248fe70369342f954044911c7cf5950621b791c7ff66dd6b2b68dbed2577821466a15350b7c252d79ace503c57ba5a4b1ee78a6b9837d73cd9e5bdaa68dd5009e9c2967888ffbf81fd4b89d53cd1275812bab66663fe3a15b62208b8eea314ae254b707cf00cc34e05d430d9fd5b4fb747d44cba5200e6bef83d1cbc46045825173679e5343a7aaba4985e7fd8f275dea040d975acd37ae8075e0234923cceefe2312ff36293310df5c0ca446c68e13d99bfc55c6a910588c96ddc151521d75e4029b8a9370b34950bda12005dfafa5529dbe57dc7c390792e0ff07fc1bba181509ff89dfd5d196befb334e460928f2fcdcbb42a1ea872ddd98ffed180bac9a3f8e8113cc6c73b0af259f76e36d0c18ce78d87ce960d1cf4c1028ddfafcf7e3ec9fe46d7d3986fb9a8a130f702e5510a67e704721f8183274563be0054458eda36be598c8d1431c6e8967c9be8b48746a8b6a229d4c63c22547797dca53138cbe88fd9dd23cefaa227b251eabab874624e4148bbd962ef5cdb51aaaa8ba649d40bacfbc955270069c013cdebce162f388a12015836f33ff73438434937210ceec83468d90c7c104c802fff6f6b7b006d29a92ed2d63dc8af9a33a9a8c1a51b84455c6feefe201bbccbd2d9426bdb477f0208034a7183431e772c6d9a1fa63c0eeadf95dd7d0863155b72eb6f79eef8516e0ebcbc49c2cd6acbdc2dda92a038c4b1f0d59f0917a610e1a605331293c2c622a7b460f01d633dd1b6087f737da120d81a424348fd606525300da28a93738677df914b257664533bee8eb7445f29250d0619b08d89266e8b1a07155d31c853fd6a8842c973e7bed4498ebd06a5c7bc5002b816466ce6a80cf99c10e99d1b8ce554a9084bfb7ce652cacb301741d3991a463f67ada8a491162e6be61e5c1981119c8bb30dbe8dd7229d485e5a99c0e028e585195dc4ddc69c9e60b1a9181e5821c0c5032e50fba737655880e04dfb1b95f30e4e5d1c0570c7cefb9e4c77113b7ef2b09c7ec35cbd7a1b0f0c25ebe3d0659613ef1855bfd9a5d19ef4c1f12af43e6436540645adced0ee6336d10b1508bcac95950083f6c1ca72f8b5f3d0f633b2fcb9b788109a6f787fac7c04e90f020bac04053d1ead7fc494c6c4d552bdb13ec046f92fc3235bf0ffb0631d531d42f017db60000e96ac425177ac7a20266bc4bb50ac6589d1733a393fb9aa37af5a29e1efe604e5cb9e22c2fcffba61bf8919a346e1604f4de09c0017fd2d1f288ca483e3296b8521b6b85264a98207f04d79dd06518bf013da83f2d7e07bef77d90075558bb2b13e53a79038af6f493ca0de8e173c3ce3a0b8af9c923418310d14343f34dbbdd8c4771d714d688c4b4f2bec9f492bcbda527cad1fe844cd12dff9270c0a5a7b7aa2ce308182c908f785473f97f5e7ac9c9e631db45cb288cd0ddd91ebbfd26ae574da5251d2f4919873ef5778619d3c857abbe5e9c11afc887781df56fdd44dfa1da9ca0bde1d24c78010910f71a29c4a470ae3d8efe43813fa763b92d4c171705eda9dfbd2334d8b1051a221a046566e9c1ffb9e3d1b37d305140ce89f19f316e1fffa07e5e73e06c58a07f8eac972a3c68036479e8808a0af96c455dc2292ae973ad0287965990907e1ee92db5dc75e57248bb1c84c9a3d0f7a48f9193506ded078b514b6f22e654587b5dfdf87db7ef5190c7b2cd10461db94aeb2bc8c54dbb205a89b2c646f5c7559b6cf2b294fd89cc87e3c9fcc82c10689d1a9f629b4b6beae0a8b5665c179ff904bbf7bff8b6e64cdc5f31658b63780a059febba5c8a136e745fd0af5709da0b2f1c2001bd75924e48ad9790c839fe0168f38ea67db8ef1277a00fd20118172cfda51cd6de44344e375d1b7d8cfbf429876e671d7d089286444970af41bc6cd055c375dfb79a33230ee547a34f5cb19b6a32d8f79c90d3840bcdfcaa09c2ff9826541a44ec331956be025e73341afdabe8cfe4612a1848eedf8f0588533b7a78126465d2ac611377a13603335d8b02fc6599aebe65629030099dd29a1fa6ebce1f10f7ebae89061af84f193d9a73380b7c13131039e5799861e3526d65e064461c6161f28504b287d44ee4e1802d9dd3ea7aac80abd530390abab882d4c2c1be243091d8c14238ba970a9e21de982dd5ca01b8831bd4ee17ef6d943160196b7a9d72a3ff638b29dcf52fab36d3c566fe4c25d7f72fc5e98005bf6d781e68bdaf5f80bccdfa41f908c6700f9326933fa8d4616c92de469bec4e9554a63be1d4d6f787def570722ed91dd2c1259baf9e109bef5ab670f74555d2338a5d09e680313d47dec4b4292fd6496af2d93208c527d5fc3494de32f30126321e17a3858da46808467814018ae356490ef4e1f40554a6e9c4ce0808a5ffe92dd7cecd855fbf20f3d9feb1975a69fc16707025450421b490a89ed30cab0d62dfb23b18414d8e8aa7d5e180020ea29f8250421678d862ed5f60f15377ef3717b5ffb7fe5e34d384d3894f8565658bdb0638be4a1bc8c9c84026b5623f7091279e79e4a7dca29973efeb40b07559583cd20d36546ceed49f060ba28038a4b04c261425d337d4ac7cf1bb7a0fe9300fbf38fcd323fd0a61bcc93b9acd342f7e960729db081d0736815243f4f263ce83d8da2b5746ac089d5eb2b05c34805a56477eae48c889976ae215dba67d3164288cb58dc129fb27b9b7bcc73301e8d45aa5a34812893d354c8b867b86bb2b7f1a8fd11195ad2513a25d35df4ae4b73faca3e8f4d6813da0f6097d68e53b9391622b5bd49cfb7571b4533f34aec7d2be7b2115c7da6d18e45ba8b992c58faaa0d1969220ba24101451192a4725ce9af56ebc3784ecb14d1030724b4fda965f2268d91c689dcfa124fdb61595ba18b51da16f2289572f2a1a00398a0b1439f526f438574ad622acea67042fb8b191a0e1f013fa75ac86f5f69c45c465b4e013a274e0c95eb059cdea87e6ea54c90ebbe252a392b8271909098f7503c588fbdaf5a6d6914738c627d25895c6e69240e5fd09ff19d9d89f18b711c20f5caba8520d07d8a7106706183578a13ac335c31597bf46d85f671081af99aa301e2a31e31f8f65459a2df7a8ee2e556bdc69ed14b999196a6a253c6f75be6e3c5b157cfc392b0a5b23dc9cdb27ccb35290a95c5b2fc2f3b203ff07b98f0243a7489af67aca68fd78d57f4d240655b9e5dc33d3037d256f7a9b7265b4db89ef8697ff00fab15e6ef3a98b2923a1fddd890c6666afcb315e80f2e3c9982427bf91888b85abce435c1f80693757936dbf322291e0b82758ed6c92bc7a9e3efd701b364a060b2912b3ada82e100622e442e94e14efc6d8591ca3ae58b8d77a495f23b335e62a357651b9614cc8c694bac00dd9710ac0c73deebe1fcfca65594acc7e44b8e1d4e7d05cb0e6aa53c8a718070b92a4010ecb78b332abab8eadc9a3eaeb4c10e3a02faa263ec5c63267a5f9cac110ad619380215c38ce711c23341a48d4af5b91967e23f360a2ba9fa879be54088a4a87c6f6acf8fda169e3db1a2c236f81dcf0663da6b9b1343048aa6197779b2dfa7a593177799ac635e1b07db8b8f156b01e64c6d0822f5924848dd761730b7b9404248073838b1322010f9bb932cd7eb43cc15a398ba6e3ace550d1a2cb4fda90103b03dc6a9fc01f6b2165d872227a0ce63abf00a568ee6ae60b7130cbdff98b4f352697eb4072329ad7add6133fe0024847c1feb1c627a40a9a28d6d0540a2b3912fad5b8d0e7e1b655a72791ed56f45b8e64e6d95431886d2c596ea0d3724975b54c67429b765a3bf91beed35292c86acf47e4bee69b15002027fc97855d64cc92ccf3c801f2ac4c29fc93d3c6b6f6a94c80eaebad5f01b07457092aaf22b0194bc71a929b71baeaa06802c1f7dbeef4259045fc901ec0024c7c59fd854aa0f9d50e6abc1fb8636b4acca8b5de81404fbf518874670ebbf825c52c5e6518b548698ba252110b5c4d7217d5f863aa0731626fdf65b4992f8a429f97e5c87243bbd649b97f75ba4fc8fa050a6007831dd745cd4742f0b88acd8f00e61029a0cb0ff6adcb6b499aba35bcd6a0a6c3673058f8c5d0a28e70a0ff883c2845f4f1bf74b23313ff98ae26bd1b13c6859652bbfcea304a200a8a779a5fce37c0078811853ba3887f05eecbb14ae8ea4fd8be9a11feafd6aee748f46bcdf523202c4fa318e56c5cd8f74bbbab01534e4956a7cda4736f5fb85122edd5cd8598dc607fdc72df3680d1a88fdd91ec2d92f86df7256da9ecf26c276f0e85cb41c000519f2d10bb57ade40af7ba9ee6f55f4b19019ed5b5a5ef2163b51cb6672dde28f389e2a19928e913a3eaff6c4f6413c1181dbe6077d5c48c9082589e3c1f5382916e79400aa63b4880015a63f734bd83653dbaf927a51f3219f9c3c8d1ecabd015c02519ed4af6a8507ff8b049d039e501d14a82dc5dbd245478ebc0398c211ab204a11891e560d8f83a56b842bef6da1842be082ebf92e0337877ca18fd89c6dcef026477e2aef06805fd9b47b840b93af4f978b7e173e86a3b240d95102c13d25ba17b13cb96e470c2a7df2d78b9fd002536f860f53cea8b4aabb316379ddf687a2760184bd655d990e6e38e9ee24c95a0ac6ea316bfbd9e9347bb52c8d9608da1869db744ed4f57d897071ae142a571edb9ef966db777b6b7c7f63f96573681b63845c7d76639cdd53328c6d81f9059acc849ce8f21b632197b829d4dec206e9b9466fb57c17247c07c55dc0629272b3a6244ae86109272388f3d81788d6c2eb2b2e3b673ebed49a38aea6935d3ffb2e16f242a89a98d2c98632866cccd84abb7b0ac1f17c5b51c58cd0a6aff7bdb5e036b96c31bcff79b507985d3b7520067359bc5039399172058b696752a7020aa61ad15faf7278a00dcc5fcff8c3a0b53009a13be68a3ba086f630173538c842c55b95e9336761a5e9e109e68d54262cb90bacf04702bddf53f79f82177e2fb075b1338323bd07b60d8e5a2b13403000103190930f32b7375484531977afab4436a1af86d17e3adf61ccf4831a585f01bf9df184a4dc26089cad3fb842899b21e56da5f73e5d2c619b32765c9c09edbf67f82cd1dc001d74ed501dc88f6ba03e7e262f5ab89030546452d623eef3dcc9d3fd9aaa7ab625ed04533fa0c4d3f3a1a39fbb7bbafee898abe00ad642d906b9c16be8106fd944203837e0bb197d0632819ac6f1c1f10672c4197724d17db515b20755a975e7885bd26e0cd6ce4aa173ce4ea61a9f9507edaa955b73b65b70d2208a781babfa1b965d11242fa3822e8be84328bb4b01553fb8736d61907aa77d3263e5079b4fdee9e3bad24e483b24edf0d5279e8274cc674fc89cd3fa276ebfedf9097c7fa8e77153e175ae1084b3e372a491d63be932eb10e89b904970ee504e3d94886af7af1b0d8f779af4767678f4ef50c5782450eec30531c9c9dfc397376991a665583da6da2a97c86acf14f2efe24ddbd8df5a5d6e2fdbe25c32ed894eb5d26a5b690495a4444357f00d1aeb214ca3add349c0a03dc22bea83bf7144a9d1d7f3bd25b2a8793ba123670e5ae971a4fc06ae1593195ec40e7a26547293b32a656ff395f5579ea297de82b742f2c1765000b7459680d72ba8751c4203c5dcc2e799ead2167fbcedc650a874fb469d23b7133a8a9f4b0ffad0af49ee1be37f44f3204f59b142f9e235ecdc81001d21c0013e98b988e055ea36ccdfeda7d00ec7ff4c169f5cb87a245a931254734301765df28d7bdd69098aa0d82f4451b9950f1f5eb1c3799c601ed5448453b813d35c5253f12b963107c53c99f6973750d7c87a7f0a7adc6309b3d073c402525600539ab5b75e52de8eebd282bebb02076fca7a506ca596484c3d9b2906e39c4c2d927cd78e09c62edd99c221759e97f3c74f2cb578a401c34153ff3f13c3fb616e8165df2a97f9c028b842b5e5d222e3ad8ee4dd939be0af1d63868031663387551978f669b6be3d0e734b38db45ba8d3004f7149c7aef2ff11cc5ffec59ccf6394a9e1bb59d9062d7c695c25a60d12d57f57c05624f2d5fa51b0202cd3b6fd7f81292dd516fa638cbcdeaacdc18171d1fd1b4def33223a9dd515fd3fb570534eb1e5c28823d808329a9e018d30cdd7c53924a7bc8ef0cb27e5b36b5b360999a209867e4c55edc918409cae4df21442672eccdf93d515e2776ec2b91dab16b6ccc3ad9614d49ac1e05deccad4e5a074d97b8815102aad6f45c053bb40a9df27e42185f2359fbedd65a39b7a1ddeab01f20104eaf2c2bc1d19e1ebabb1374fae14c64c48b8170c236144d2f1f1ab604b9ad75ce34687532b937fec3cce20c92700b120114df579767789d51fa26f52f463472c7c48b2c62ba53309d6610d9509db1c6bf64106cdb3ddbb484c1d21a999db94c4b59c810d8f4880a2776a378d3bb2dea23903627484cb99ed80435bef40be1f76ebd85285e811c6c74e13c7d24301119db4c2b14e64fe547ca6c4cf4e9844cd50bd599b683dc8d3ce7dadba5d2dfec1392a6e13fafa836f547be2daf379e449c9112b43bcfa928c7c3600e961522fa4516f55845561f89396e656102d4a54f67c69f5704594606fc65cb987b2174ce9de417d23609c97c97d3df317292be933a1231803cee4f00f126b415fe8aa64806e8635654bd5f4d3302bd5ecbaec80eb7d27f4cef96f7e4c0b3999d733ae653a0e1efb3df4b0255e401e7706ba4e79428701548100b87afc16fd35f7f57322463d420c299c2c9f6bd71db3b66899a2c400a3eae2d23c8bc463de32eb23934bc11a5a8b3352c3721a23d750dfdc644358f3ae8b2f4d87f724e6da146003f6915fa278557bbf78b3abe19db4b810b3a975b19527c7289058e52288669d0745d2e6eb8b2f39f1a8c1b815f1264eb3f36efc799283ea8b626c92dfac79832b49d80522be08544efeadbcf52536cab26fecf92f46e163ac8c8c90039074324cdef2382cc5c228f1e8484b8867d9aa3a57cc6abc64d8e1ee5b72719e8b29fd8c1495030ece35abc028370cf95b9ba7aa3f56114cb4c738883db075245f2c761a0f1028b49389a79ce30943cf4d8d137a1107331bee733a40c7437c78efd8f3edc3512ff977489f00287ed8650e1275ffc99ffaedc1f8e385a6f80998ab3afcbd51931adea597028dda63506066aff002c33e237137be76288756add0c567600108167c1e6b0f5d14298fa762c8f1bcb152cfbe73136cb9377895fc6387e0a8c31797e5ad09689501bfb1de22d95c78a9cf1162229912ae521a647831a3440dc4c87665209fa09afe2a14b014424a7461e6c1df8123e217726c2b926c54d61cedfa67e254e0dddae94ea366ae77f140dd34358c673819dd72c0357f3d02de830bdddcde8e7d8e607b8dcbd1c55f3e1f07192f830d9aa89824f1593449e0fc665bff66488ab1d958c8ed5e792c3ab95f844415a8f30765d9da18d601a0072e91b591ec3f3c10c613a37f13ba40dd0571b9085eb9056642d2bb6a3540d32a55dedfb53aee6c4aca1fef387a03016f01557e5bfa48d2fef17de4001622850e860a3c56717c5bb2f56390de52fe43a1f6ef93d37bd73bad1fb846d954a97069fec6cb9c2261cc17e379a7c95fb1c1d2f6ea6ade05927ce00102819b707287e49849e1e39c36f5138831b259429a2e6960175a6e6243a99281ae1dc260cea855669fc502800d7e202e336542526bcddaee36c9de79014cbc64b52da0e714941ffa9c7812bb3ea644ca0272271f57cfb42749772e4e2094a15bdce602af759130e0e658851b7f64e062361fc25f4030080b7e6798eaba76052ab9464afbc51a701b26a6ced347670e020bb54119c938405cb8ed1eb749981672f2f5d6b6c70996111fe5e46d256e77e3166ba0c397c427112730060429291a26d65ebac66f989bb22c6df1ee088c1f8f47848588c7fc3fe99537a3bfa4897ee519972b12f5de8d90ccc9c05af069e2b23bf06db578b1182b43771ff33eb069ee5b7e82b36ea48b92b357d08ba57433fb2a7a3280f2d6b93449a79e2918ed5431eb67b42afb8a743cccab60709fbff260006d996f8537a402eb1890a557d167e068eae5d40181d2e8a560f044fc9d0e141bd26978018f3defc1572adc33a4c7a3494315d848f2ae392c6ff23a84568ad1542059921b581f04d7c44201fc847bf3893104a4e6191901dbc96d37abb30f2b338673d4398749f82759212f933ed673bec5d0c305339b7b870af01a6da17913a8f83e1016a83dbe5b9ee3250e6e621c7296105e4a343101c6a95386e1b05cdb3a15bb4e0d4f5abf87b407487ffbd96c392387d5ae94aa89be78c1c3f9bc61804e438d05f3c404320976c5ef5fbf493a68287fa9c1eb5a7f3cdce6a743494962df0bc6f4c264319ab19efdabb93a1da1f509ab282b330327bbb6d825e2dadec4caa19c5ab35b5335fbb38c1b62dc4a27e9b98429097b68a650e0e19bc21d0b11bd664ddac0ee562c638cbedd99505620c369403425a83339a37996484e122b61d9b611dcec1c6290c82c212c2e28f20e539434e061d1815532944a70d50aaa2cf71bd36c5ad063e822cdfaf3341f6b72cea337a4f99258549557189e79625803a8448d53f38337ae4584c2efbdadccd5f6ba305c43e40e9612009ee8921298da32deee69c6af7936ab581ca918674d43e2b141f289b0e3b962a5a1f77e3b0945b8e5efd2d1386d446ffd6fbcc6286f5cd14b2ffe04f75837b118432f14550c9f5968281e884ce8d37472ec9158234ecc6c3aa12b3ee7f4ec247b278b3e4e83e115d2536455583126517e5df17f294a18da8c651816f4c60fcc4dea0284b2dfdb58ba243042a4d78dea54dd6a20e113754afe6ef407d215458f52976527deb2b6eaa81877d1cadb9c04211e6039becf12a47c097d9d86d737507276c8e13d34e82d0aacb62c33c50bb58b1f7ee0bfb739a0fcb40fc84072db235ec65d51b2c1ae0a853bfab96d3896b233dd77839fe277f8bb1d330edd53bdb1f2cddd9c3a6d070895cc1a37f579aee39182a4a58f22622aa7b290a0ee97bbee32fed57d1aaf2b3cfc344864bd16682532919fcb1405093ab4e09872d8040b6412e95e22d897a30aafe71a5f596971b70de235a3e8be078caacf5fe7db72c5d859a1e2c01115ceb58061dfb900d1d4a036e78cc39561f5dc569deb4e1bf1b73a11cacc089bdbf3d551dc30304c7bdf14f97dbe52f9fe6b35edf6bfdf6dd8a9df141fbf2604a74c16c5446aa644c9aef3d2e5cb2ee4a0cf3cb029fc5fe13d1fda8752963444eeb2538c1f221f6e22c5aaf210fa0943b890a35e11febadbc69977ad1f0046cca17a182d04a3c016312af27d01b1a9cf2af09d02a6b426204a04fa0f4d83ebbcf4eb7e47182b2d90c138e906b46ba2af3efd998f713e6e362e1e697f710bc5f0b5732ae72f7fa12964e2a0664b3f57609bf10af98efce10254839cb403ecf3a2ebbc4f381b8467246d42ae157565e0237df4b5800978ba42e28d6d7520a89955b27e4eb7d66076d57cd2f98f587ebfe89be07f6e77fb8f96f7ba02c44f09321f2e9d10a12d67adc88cf9901f7fc8ac69f7fdf5e29bb3b5b113126bf1dae584c08b7e2da3185eada7aa5e6850ab7a940cc4d4509fcfe274614e0213d0f316dabf5e51b0dfbeac1aa6ea65d1c612c152b53fdf799ceb559149bbda78525be98d738ff7b1e8f4a3a1eeea4119b4ddcf9c08dbd34ca9012270d5247bb98eccfc58e10487b9986ee08943445f1d38af3815daf37502b6fed4bd613eb42d2ba604395e2f6b9ac92690f598ca509e6deb7440afa1f23bfc6f01d8115a82c895b73bfb8fb99a9c2ed785dfc600a728fb2ee914d7c93ec17c767953d1fe2fbab18fe59c71735379e4a6f32d6caa3dfdf6ac3608dac85f0000d1b9b231673f048a566189492cdd2305ef17b160509f86c2f8109296d2d50ae4ceb275c8dda5cb1194297654c8b4a8356a6352b34c935860f73dda66af347e4e9c081817371152b372b800e6c7a84b255ca839889c97c068f4411b1bd8e182d886d051169931d2751907470300687cba6099e1df18fd9b8c96d94f150743e233dc755870b9b7142cbb381a3e0fb15f4f09a4a1c1d4ecf9190a33c4ff25911c96d43f3e82658f5a43997da4b1432cb4505f19b4cdd8360662c6f89315f8a0213350b5fbed35a9055e2a6a3c572dc72c4184776869748ddb4260843c36475027c4b30f1a9968c8ff7957b140e9448e98f0ca599f3a9a2e12df0f41cb146791abcf61322ba78075272eae07243cfcb8f8533ddeac0e6a186fb6ab9f0bc7cf3b8182eed80a61abf1fd5b89ede91e7a5efcdae62c5329cea3b32de6f2eb30784357adee43efd86270b5dd7abc36cf9b421c2cede318c9a49a68ce5d7524cf838b25b3ffccff449277df2dc40eafdc2522936e2f5d56c785b2782d34308ebc29fb334a7db8893672b3ec58b45b66f6d1412073f27eec31e4f3cc23348f456673b11b922a32cc731834387d83c5dcbf95d3b10cc7f6defc9188cd4385e732f9f06d4ad59b1015effb5f2c63b59da05040ee75d639b4b6c3602dee5bf1b4f2462a992dfbe72957c20eea3b6a4a959b235a73d3c3d1ed60a1bfec39917f8bb3494505de700dd1ba6d6b482a3f7c322c315500cd3da94c140167427c7246b72b9081b8ca6f1cd3ae08d1229caf7c4a65ead89bcce9a36654d565cc48c2ed5a7d91755399f5b5b2ef4fd7857757551b088d599bf69846eeb8591d2c3570b28c5bb2b000b88514a1e9464d9c7583657b2037cc704968c26a25565c355ca96f04f71019022b8216bfb0f6c44ccd5f0379ef7055067911719d3b7a3743e72a32f3d1b1c929ed3f865a365e49b9e98c3d8150e38506c409fb95b7a13e50bd674caf5be090f2a468d112d4de1f3527a0cc986d6845921ec3a022904b9e55437c0f4921bd811d30e4d66e2a31b56feb5599e5d9baab8983a73b53b779021f50585e4ff9dcc9f313c4dfabcd02363cc17b11c5a894b0a02809f0489d44d75115fd98c5e45ade2ef2576b4a9e62d7f873191406b817446154d77f46d6ba864fa8a10d8293abb033ae93bb24bba16413d352369cba89e92eeabdf748e00b0cac9af4203921e8602555eb544a71d8fc01245e6ecd85f00364dd07de3b20da39c6f612c5357e21ce762a23565363f8434ab950e53e607ccfc4d010583ecfeaa46e8bb2e24d0e4d7e9008c56ed5f2c4315745aac3537a5e609a5c71d4991e8db9f61ef0f2cae91d1b626575e2169c42a730215eae58f7453663e28da9a71b0d27d4684ce1279dace53d59f7fc8f9870878120a7c63f87879f678ebab794b17099dc2f6bb5f942e7bfc79745f979b343e9f661b59b7ff76e58ceca93aacba1851505c8d6bb749624e81aea0ce28835ffb3fdf364e1e415a9f635296c953e30210a93a286335b9a3f0704c06d6c316c9c8a1c9d375a79de1acc19c780d04da11511b2a72cf2f0569b71000582c3442eaa052a10066fda69e3c16e0d494d5914ead12b08f20c5829a8ef47bdd0faf965b2198a43a79f547ce79572b67305870717232026a5ab3b9362a98800bd719bf0c9d9734306b9b82ff73ff775acd92abc327416c017842d034de96ab329daa016c9e21e78afd4571b0f7ada8cf3246a6f23e6c460a9b14bd2aa20d20a663e200022fa2851ba7ee94cde9fe5c193adb984cfc65b98e7920b31779b5a2ef45882c74552fc198b98884f06f5bc7a193495aeb37b14b638820fe32d7d31e124c351a441c56a57513e86d06f3473c659f0ea2fbf5ea9610770c1a081366417cfd5905de52037c8a1383f9093bb8906ae6dd6e18150bb89ea1e92242e94252811978af9fe6eea3faae819032774a710e89248a27c5366235b4e557593f319352894ec0a68b6ae649ccb6a799609e378c9a0de1d9b320006feebc028ccaaa5f35fccb04a3844ed733775149851c0e82dc269bef8b6cf19b009afb2532efc6d9ecf3a1fac11a6648c09da320fe299410c70f9f975303b2b1a9c31855bb88119ac074734573da705a7ef055a44cb1e6abd5cc57d323c28d17cb8daf343515f390ca04b0e738bacec5ca13ff94a68006e729d62a2319765fc162d718eb88ed45ebbdb5285b4a09d44bedbd55fda6edcaa5b4b16e8093482991041480d1a14aacae519a6a26f0c8f9c0d77e935a2e333d858a9b4da04411570432ff925372a6eb492f46f69e310d18d741b9acfa6e0174ca5b8f1f958c93138926f9ec04a0b3d77ffa400e920f2ddbaaa536dccffec4d9a214563d5e8f7524de1f34e14196cd2ba483ef64c7f8eceebe713b6f7707d7ab521b94448beb64182968eb3cef4c0fecc703964b32ad594ef04393d24f536c79fe39d3baff810c626bc5a127d960da6cf0b48bb0182ec0c0825c4c775538bec4bda69000e7fd3f88e693b8360e7c9fd4b07b30207ddeb469732e4e8fa5e62729a16e4e15f0de4dd943f9303ed75dc65b3e4a720dd9a549f444cb7aeb163fdb288114fd940550fe256d0e7db3bc51fa2a6173630fe5b84b0bbf01f686727070682308a9e13c833bdb36081145448df5e7fd4c086d2c62cbaefe316f9e416655d537c0b9c6837b9e1b2a2024c7518e9db5e144009333619d42a0f8e8effdc213bf50beeacd4795b278a7d3ae6a6b1e67c0da57c890f750baa9153938607557882b9a5d1a91bef272399687b263c9c29a765b37178ede209b1a4f8c71a3360f1987da11e16efdd6c72ee0a88e1589033cfa9b66e77bc8119d10f5130160dd0216f172f9c660a6cfd081f06b113427524c13ac4b61accfd8abf5030cc5d72e37809ac4c855948fb4898e24f01efec375968fd602932738984def4fd89d85e8f6c265ebaf269b0f9c3495193d5fda4ed5a4fb9b9333c78e332e5f8b7030f3528390350c8548f491089390814d3ce137b2e06bbf21c74ba36f095a86c8147a15c57ad36d36618cfb58c4c95c21dd9f97500fe7fb60e77ee29529398d5eab2a7fcebbf6017fe1748dc77b82754f0df0c16f65f63f82246cc824a9f9cc48baf1e18bc8f16a9c8630e7192a2cb07c6e615b6d4e24421ae3b26383f607d711a633b26de1d42fe3775f2acd7479a39d3c7db68b91102cfe46e7e913d911f3b48d9ebbcf1fdfe321d6fbb4fbbf050409191ac3023a91a74359504b4d1d5bd116ae75accc6fcddb3cfc33bc304d521099314bcc80196cb26e997eb897bd4c7b79dfe59681ced46ed1f52825b71aed46fd90bd88d9a0697b7b58fc083a13ca88d7e08bf3090df48616d1550e992543ce3e76fa333a7adcace64d7d9b8fae2a4049f28071b022e000f68b142c9bd25d82a1c8545bb1999af39ed635ae24c1df313036cc7350b53a4a6f90f1d0713c1c700c3a8f571daac9ae4ae39d48efcb0e8ed6fd9b81048eb6e838ba5aa46179dab9b1b9242faf58da49e29d75e8443348405fc9a9ddba07caf8766f93d2619ff17c369f1393d1824bd82b09690aeefd7c8cabb35a31eee7360c33e3411163dd55e92525febec41f08040d1adf4113fed14408cd3eaa7e48e8accfb15c5f94659a94d409f6ccea961bcb18a5b8a34d8086c44b7ddc79ac9007eb58ecbc98aafcbfcb4d6540dbacdda3a0a7c94cbecbffcebc33bc35cc61b31ed83617c82ac0d324a758ebcd3f54cb5d61e4979822a3af9a9f17ec4cfa6fb3b675dbff3638d0d71e9160f0c88b76243f76413906dc04317f290a26f56051ed4b8fa726ef78c0899385e77f39a892e8f466c4b4b3c834fa68972bb740278bfe7eb86e6d2d91364d45902ab3f36a158e3a3a46084af2bfaddaa31b44da6e56ad75fa8992aecd46ebdbf1a9d0599a31071cee37bcec80da3c7da682602959c80a7c0474f7b4c997cc24bfc5d2601a1311326679a4c08e320c0b6cd738835952dbe97df203a5f985b34fdae944546d6e54a545f036f3cae782650f2aae8b3d0b2e5e6c375094056676aaa66fb3faaf3d274773d9e50835323d11ee07c0d81580fb43ad8e0f4fb9068fbce31901fa14e771b0c5917f4c7c60a4b05c8a888469b6afbc785ed18b66ca0e62a98ae9dc4cd7f9b52daebc400f25a336a8336e65ade4e3cfa3269716333510212a2cd566e46977942735afe3e6d7c60ef9f3ff4ea4940c5a81de299171637ce2f09b3a4b06fe178567d362cb2aecd8d4d470b51e6fdddf80f9ef4efecb4211c2f165218a5fe21850847cccd5575d3bcefa1bf52c96d7283aba264f34230a3e850fc0a618867abb6f958e5d8d133d79fda312739496868484407f515c4d1b63754d8cd4d74ec11e0a7d2b6cb785a91bbd7d2a10f789abdfb830645b97d8f822845aabcc8bee6b8da025b61b5a26377b6c4638964eb3c6d44062130c221495d845d2bf0a16a1a8b9ff892a0131db67d6895f723dbdfbe459f9a0b89af0e5d92e95c36f8a201fcff445538cc11b08233cf15c04670ed6d43c317c2de2db6429ad23ba5d5cb3033452a38d032329da5c5347d79d7f63a807709a00eda4bf041313b7a5d093382bf2ccb400841c9244801ff86d1d4e414ee17f012ebdef85a415ee6c1807f1c6e6df523fe232eefcf0abd62bf7e8656dfb323853452f2d55ab5cef54b441e35ac0b704bad790b36c7223c69ac550e537952bd37918ae54c66f9ea6f1d40d241b805a2230f3127fc85a5af45cdb775316bfe0ad28506e2a78d081199b6613823e287d293cf9c0c92d33fd3e88b7759d42afe08223a886dd5eb99a6fd2bab2189fa7ebedc68199be9db20008d492497886f5cef3e7695454c0c9d51d3467e986a2ed2344802088214c0e22b06f906afa0e6263b6fe22060782ac0da72c8fd78fa635c8d88e3ec987d622d1bfb1a772b6fc869e2f16c4226cc38d9b2f4decdffa0f5a0c314911ce0571ca965977ddd60095aaa9250dc850341c0e6ee7d022ef05027ab6d886a1a2f9c592a22414e4a73b3e45bc655211493fe21c1a5aaa94a64273b354f4f1acda1d7ce2f57f860a954c0272dca14eebd7d6986c42545eb72f90914f6232d6a5ce6651218d573f51667064026105fd8a64fce1ed76900c575337ba6ed652a354788ae9e8ebd497ec11586d8b143a31eaabfd784f92edbd7e206aeaf44b3d081943c56b5dc38dd270905b28e64c232896b55b0b39a4f32c5ada2bf27ee35ea7b8afa60cc1385164f26c15a445a188ae4569350aaf01c6e27e5fae21342ec0cd3a13f2b39931dd5e575e497489b84e7f89a2167b79f085f6dab56beca1b2b190a20d10fa5f5ebb9bface034bb51fdac18401f7f6200722def762e7cdc5470715ebc39fae72717207dafe82e751b37522590f92ec64e20d1a94d22d0e69e8bdf480a0479d8268b66d4d3295f7604b6d1c58511c93fe1dcf0010ba7832b16feade3965af8a0eb285afd16f4849f55ffea3eb4bb1bde3f1be211dbfa4bf15ee2ed4277e541094cacc05e77ab3411e5588ab9ddb96d63258fed1c7fdfeae286c438a9f8cc184459511fc09f8bf9c073b093a6392382d6f50bb787b129ac8ed685633fc618039c35517520ece63f353dc4d58621db4639e203cb316afbb57d81c232418da004d4e9761f63f6e3362cb195a37280f2a3980b6a621254e925381227b5b485eacc7461be43ec93ba9b385f4e92adccd150c786fc90b0ce72a05b8f50d19da51ab54a0c904effbca71e855dd003357d145d2f73de7d4e88936f6a079199ee32a6927b2c18307a29512ab9ba895b28beee96584a996c6e3e359ca3a5aa3b4da09ef6e1f5f75b93e691dd7f023101812d5730e764a10fcc1eed27c85be6e564093e6f58cce668dce44a9473e85da16cd7abd7a0173d9271969434895862e75d1dd84b8439c1440efd24a17a0265d27abe3319509a03119af5327b329d58edec09ffa37492471e86596bf3d46eaec6a0cf7fd196d69436ec417612f6ac5b30dec0c048c664f93945693889ba69dd2c80793ebf146d00c31da1b076e060bc8a58cbfc4746c0f36ecfe34c1180deba8a0e0e21197efb244f1db5a672f9f6df6479c13f622f2139ef7dfdddf9acdcd58a08459848b059d9131c2c10bf4891b9d7e4e4e2ecc75110ddef5c1359f01a067cbc6a24eb5996ff6577bb3d90606609da84f2b61ba2d27229cc88a98138ea765ab973dc625ab45b4b4d306efeb3b0b68faec3ce92d70ec633ea57edadeed637b2b25fb93dca2645394370911afb72c3934dfd49822638b1a411919a1dceb6c303ef5acea121632a1499f0c380f762f1cddc793479b0eb5e92e6eebe609d35049b06f3cc4c4d90a945c085a6b70fbe7f1c47e60564ff29ff84ee06d6fa50b738bcf0b512ed112156705a326d33ea6f181b547169c6081ccc9fc11a4777865b8b84265b52c2420d4da601a6878480c8b7530f82da380f8e4f07c1a8fdeca8b29aed78a754ae0ec550d30d5e0064b3313d5181c3f92f33ea28077d931a4aee3cc39bc4055da6e9dd6f72db4c6aa33b29a36816d0a10c9ad3184362e4b45977605ce3cf4521122f6f0dcb4954ebc6868a1c8d28342b9291c8a4c44b1329da41b2c4ff963c30ceb2a7868badec837c7056d56340e1239963d2da5f95669975c5ec64dd72435e59dc5fde59363cb5ca9082917ce0243f8bacfb6aea6475a29100f5846f0fad49b9db41e1997f506cb6fd15f8add9115664f14e8f5f493e502657bb47ef2fd904d133f5858c4e1794554692cd70bf5e470413838a3d0885139ad5b4f7721551bc97a55e2b4d40dfc4f46b7991f7537795c12bb23f5baf9e0c80ea2f07911f15bda6a2283a19a0b9a8415d8de7199dfc20b9a3f821711006c6a00862f6baaccb0fae0412d9f514546f3c5770bca4b83c8c44ba86cfdc1e725327c6cc221810fe1446715d339cea9fad968b28396a9b4d3bde273f62da362c253cbc4da723b837d1b3085040244fda8f7014a9d441ec04eddf4c89eff5a15bdf8e5bee5edc66a86828e636507a83879007cd4b54074e04d31ff235f2c2d6ba93546bdea0fa00daba8208bb4e6be510ea30c656cf1d96c17ca80b1fd1c2c1c555011c5ea606437a15d932b1f0a4e73da3acc809992ff4c8fe09ad326046b419febe21ab32d120129992dda0a6337f43a60f9a63d34c1d7bf7bdaaadd4cc2352adeccd8de228ca3863e4bb0a00c89e829c8ce2e53ab986a67de407ec8423f453d7c8df2122b900ca6cc33fe3260375ce09946c5679bbccb48220f59b0591c003d7ec706c9cc2b156cddb924e6b93b6a41d6cf75f1970f99479deabd45d037f1149faeb1f6c0a1718336938adb435522ab0b827a2c95417c6eb03e4340b7db97a7021edde37737c51ad8b9ce0d90843a21fb745464cd2110a9340e8aa5c3de92913c4c3da423649b544e6a2817ab201ef4c99db55cc3752f3a8201bb6bddc2b76e8e2e9f39e5da9f63bd1817dd7b95e407251af9c3cbf49aa081735111811afeeb20fbf06bda50f6c6efa7f93104e5bddb477b417467b9390a3b737c544a4b6fcd9897104c5090693fe68706e045605e1c15de2ac8c567b60fb34017fa14a2d47f5df0fd97f593999c100273092b2af5518c13b3b316c6dac4399284ca2e8f52ba11e99c74ca3ef5a817296acd41eb9d31baa526805f648ad673abd96144be11be019f8af3159f9e92999e96a4a958f903240f772d8342a1fdfe0748d969aaf99022c8565ebcc9dde7d558773841950c2ca68e7af174173c95a830740657e56e6453faef36514fbc0e24219ba5f79e4ecb21002939012881e51d0b57ecb69cb7dd5ed08de911ed8d53245a0881797be67a0ea2fe3d7c67cc1130253f50048d9ff41956f3cd505d5766e187bde7ac199f8f47b0350d1dfe52e173ae798fbac3b57871143a20438b841683b5358b622ac1d1449af832d678e717519d1dc4c8962173d5b3e35cc8afa985735d3f311c398b12f396ba2cc6fa8f25f7f913c04043c79c082e2d2bb62c7ad7f9e938503e1daf26a803ea3fbc50674522fa4a4091598cc22d0cc40166edf5f5ad966ef35aea77185f6aa0c251c2e607739b96c3d264b90273ce75c7e8499ea15ef96d1445ecdc90c2243f96e48ca08230bcbfdfb6223e31239b6c76cfab490afdc48778a8df4f90b20dc28be390c786dc954c2eab28fa5a1e4577821cc986642f99e4eaed2ff4d904f9f13b39b719eaa0e5c2e18b8a17c7f534df21a07cd24f04093c71432e2717037c3f505ba17168b96b9bf82d60dd270f5fb26869f86c9c33d2585f4ab4feb0dc93c2d8fe8760205c737638a8fa94a29775c8659c839164d134a692090acdc1f72d5a62cf99cec445966d7704eb5dac2db7e87442ee9508ec2de90e5de2e985ce34c58845af17fc356abea7291f6b15ed46b086c35c84e73a625ebcfb2bc751a95bf1b005cac3bd9b25bb8984fb0568b8db6af0c0dd6d4d9f46a3ad43959741d8b85af28fb6309280b52a9b040a729672955b05f440cc62457fea96be56f601c48eadb3b3cacec0d31018c08201be0751d14fd674009650a8b84c94a5bf073f28cbc0f2f98a845684065b0d6ee194d96b6f9f44ce311d8467043597957d99a3a239abc50384754142248de1a6bb83fb3c8602bf219382247c750c694881772b35f7c8d47a80d4e482877cef8f808f2d7b629bc469336eb7aeab7a4e02159472865157636f84937e58bf2bf42e94d0332bd0d657af7ac6ec60bf69952fbb1f3d66c482cb9feed7724c4601a41e8fd451643acd4531c03229905ae415f857c7bd43705657dbb374bc740facd9ef16b48aa6bb50b07f1e54d01836c1e888eb77f589afe176033c3bc4d11872518252a2495d8dbfd9405d77919a581a9214059b5782adf42d2a9be147f977c81b3ba7a6c244ecf06da863820266c4fe2932db566bc65e22598320854adcbe9d7a59c1c265b3b81d85efead379e2b76d9776441397e29d6995a614c9248f529de603456c7d74869068d94f7b4e01d948f0df8c2a2c3105c35016ebead4ff6f2ed527870ba2158e766459fae7a598aa44739205a57726d9044fe82a18e7d8cb1f85b1b2cbd03b8f3f23dcc12c29512d0e300d4b1ae96a66144feabad600580d4a0f29125996108defc6eff9a2dfc0b353b7db77b5c9633d9b465a09e46d8077b5597983a11c90a9442499cd12f581f44a1711d658fc790bc4c648a91075ab3be7ded84788dc20f62dee86ecc36946f2e1117a6eab61fb48129bd72d54d08185cc4005ed6701c5edda60981c08d9fe170b2049aa3aea4fd1ccd914cd8a125d1ac85b9cd0140a2e40e5e05f5ef4774aaa05af09fa269bd0d27e85e4d3a9e844755cd75dfdd8aa8417ea97feb3fa940a2ba5ac32c761ef9dc6e7c00daec86c1486c7e20297766e3a27efd9ace9f6e2e60ce2ffe6122d276dd5b5ecf558301ff7c215b0b5a628b0af20e369027c848ac09bb585974c4bb0d46036940c864639b2908596bf68c86b2e98ca82eca90291aa0a99ec61e4b3f0e49b47cd95f835c389921dec4a8517cb3c85e9713c1f4192200b68ee3defc6962dc385cb36b2cb36cff09830b19e5b6db7b941e1ae4e3dc7908faa15bd9efb245454c01f842f2bb1c717f501fce0d358f4a7a9b9d562aa3d920d141cf2b6aca0c2665c6838d330cb1f09c827139a32b2a3ebe67bf824f8c429c40b374eeedfda2af55d192ea362651f2e217f32602a61f406bf1364f1f64904fedc477c1973e5883420d8a77016fa47d0a7cdda569f5f254be7f0be422c89de9641822c5e44de02c0adbec372a4e3a60613a96a15954f92e9afc23ff8f145859caffe248d5427471f6f74742939bd389f0575a392e56609fb42d2a4770fb18e691489dd34106478ed089321306a3095f23c4f474553e268c9ef2b292f044b3400300345b2c2738383d7718d1177794549f8974825c346fac42fcb6143a0d55ddc9ae51b9a9b228f85ce8fedfdd03e37a8b5f593f8e07248f5941db5df73b4f58a7a8b5d87f6e19aca90fb6aecccad42f2a8021b8d8db9b55dc209bb84c0075ccca145cf413344b5d36295afbeee28f7b3f99f75fb98bd07b4cbfac65860f5772286504ffc01c2a32b70c55075f1aea39a1a372e465df7497a85c089669e34c7c724e14fd1516e46b3043f149ad5fade5ac0e2a0b9edad2283975190853819a108c95aab423849af6a2edd06a6feefe0c426688f8a3d8142ec5ad92d5b4a221c0fbcc0c43c5172587e8b92a835f13dadd35e4dc958cd0ddf950f80f2611f68853b3c1d69cb418ff5e087441eedec31af260fa7007f4116cdc25b4fc5a2a0a7bcfa0dde51532861b912968744a4fdd0cbeab911d80635cdeec13a513b5786b0330b3800d8bea56f0cfd82f8c09d43bdb3d78a0f4e4ed701d4d80c0e57d12c963f254efb90fcc3defcffaf5ee3ef7edfb6c663fee574a52b6bf9181eae8c19e35bfeb384a0fc4aacd5b2929acd616d081dc68b115dd2504a0c84a43fa8800d50c000a9ad292b8d41402817e2826d09dee7baddf7860032d49b3a96266b024272a534f5e15829e0b4612f48c92ce2856c69bb5eda6fdc11b27ff33b14b860129fa07a952d456d734432a402a684f1bb5308d41e09167394ab91e3c1cbbe109a86166498285fe0db1a1b7e5d0b671a168144793dab98db7dbf9531abfc852166fc49651df6368e138fa938845beed8fdb108c8221e1d5e845f48a4a49be8fb2efd13843de4b2933af3a7de6645fb6cb537a9f7ce3fbce31e51f66e1780da1ddc799918e7f65fd6ace313fd2c568b5b14e9b8cfc60c48c4aa1af4f301e165527f27b3c392fc127872d227aa36737c5ff1b848fb3c0cd621ff5974841afd55729d2d19d033bf4ed2c78be50015f2bf989dfff220f580009546f1b86ea45f57904f9788c5659edff30ab0534bac90724863edde76317a340980727aec54725fe85bb9d82196eac92ed3c07ea19cdfeba3c4d208bd858fd1336fdb0c037855dfe790631c76aee672011df11f6b8ac3ee2d005e4411ebba0e88477dd6e2715bb77ac7f99f47b7e04d35c45789b18870c3da59f5e71d99f5c706868b4637e6d5db416928f2da42075abd67609eadaee915cd4cfadb9c468629a605b68e62337611f1d39d2315e4f9707d0000b8939d34274766fd87407231b55cb1d4352f9b40d6d75bc911410f1c3e4dc329386f5b083eea7539ae86c9445eb151ab1695f52e91d576e3794cb08196cc6a05aa0c19c17954863f87255d6202d2c45e4b6cf420e95e5cd9ebad030e8b633ac0a4c0c7f5e4687f876e0baec700ef2d43419581dbcf8ac50d1e0c3568f19be503db57ed3ed63634837d774e4ba77f528ee7c6522525dc189ded70668920074074ba4296b7add214e644e4bc1733c741c1e5d1cc8174cc376db390d825ecea2d829a19ea10eb3f7b4558a923904870254c3598b87443844ad38bf188e32c10673478aa5ea3efabe70a705710c634b45ccc0497197fe27648dd3cfdde10d68936787f516fa14e9be53245adcfacf0d4e9d37f0df2a6a4ec650e76ed5d1307ea7f21ffd572a4a9e6026a75128101bad42eacfc3631e3ae94ee6c12c95564dbf524f2902732db3667418cf5ae05b0f1ba4663ffacfe371bab682118dad819408a2a4f5bbb9dca00fbfea3534148067532f45b6cf07c4eb342dcc00fd92ace8a4d81370e53c3f4ac309093be5c6c9d39f0693eecdcaa3d67783e67dfd8a0de382b59c5b3e829f026b938d3bfadb3330b3bc9b53d9cea784c0f7e00f52910abca584de6688e81ea006c0536c9dd33c8c31e818ac3599a9e9480ea9fd181e5a6ee24ae4acac0e837030b2b46c7266c1e16bd9cad913a2658b913f5428c8f58564abe7bb536590fa749dbba1e217bdf79f85e1fc5c71165dacb088237b0dcc239886545a4e27014da05402cf3504ab95802ab901a818f49f4b3b3bdda1f2511ff9c11685e1cda4cae1b494c411969a5372065ace2ee46aa4f4011ef8e14bac30e5ba03dafc762d375d613a596bd691ff03e5a15a23e2770ff013810ab1eaae846fe928350b329740838857fd1fa8740d4ebc7b70002d3aa3fd18fb9b7e60340a2b3815cbdd216feb3778426876fe4f8cf18d9d4fe6fe1e459af561b036145f75371a39069b7eadaa137c26e599f7fa758c437c4e4efdab9672ea3cef15b7c147a523b025743582ca30cf38a72257493817cef9ce77ce1806844d6b44bfcfa0722c0af0bdd5bacf03532714bb7b471dde5f2b685aca12cf7bbc17b2d7f9b10d909766bcb0c6006a2427af5b11d97d9cfbca62c2d94591429c5d46ebb6b64b34af762e0c3de0446f700d847dfebec7432d84dc8ae0be03b5d817a34c8b31e512d96db5d41dbcaf6eda4b8d9eac5b40e40cb60dbcb6f5676d139af7e3c875b56b6a80e47ef82c4741e1144cb75073754b91f446c39cb3e7441a262e42dce2a545209875853483e0d63d8dba30d2dfae9278b08803b9f68887967c3f242f37c0568befd9b0cf0e2d094c1d99c3b549333b2f410e3f98eb977e683766c8061ac9f2d553970f250c859300e2f6ad5a97d9720597019c000ed581e394bb93025c23e42030902db2adbe9e5fd0787d0220eaa8e7242e0920649c9106addf58a0ac3d88a22ae1437419399c01eaf7e59678dc73303aec5e4ea83715e6dd5839277ee08d0c3c3dd64a82b9c56236105c26f63bd09742b8bd2be7744133412b8c3832fa753ef1247ab67eb66b8d96c449aa6ec33359e3364e49256502b38799ec936b160a68109e1db7d59137f0b83e21202c4c3c93be6b6d94ac1c064330561ca152549f87aa60f6090ab6f39a1a69bbf4b6ba32aecabb020505a4c78e3ec6c8e7938da7cc4c67bd0b29225cfb6c5049b98a9bf83a182ca8f3ad5575697c16d9565f5c0e067f2fe2cf01f3001f1d0db80fb434a73baf273b679fb4d6d2dfd6325a8c2504b1804a6788abb4e867eff4d2730f06acfe6bd142ea7198d199abe06070e8bbae21d0973ab391fc363232daabc7d49e3290d48f9112d9384e5b66f535b6a55c3baf20c0b69c2a4a38fe3edc7e509cd8403dedc6f4b22a1a33454482358fc1c9b5491c0809027c72b0464b07c301709649f8d10758694689a2ec895f71725936651f67075adebf6593d8756ebe9528ffa7351bc35a2beafe5c30275ef6fb505124062dd49492522fee42cdbe4f2a54d5a17d78d9952401dc893cec233a69f977cd9de3491819d31c0cd99d4dc5d0b16bd88d1cd3c290480803869e8fefe1b7882588a9e785ab31a4165f12c1700ef2b352047e22fbc75b3a845cf29eeb64827ba7a8bcdac4268fb0aba53bc9b669c228be36b5c4ace4d0df53c78d5596880af016246c592424563f5517b1dfafd59be64c30fd412dd1829f154949d16669243fcf11a9901642900b71bff15c7534b269fb6ca7460f7cf666329a7745cf4a8a6ce28de95513ecdb625f4ac89de25df11609305ccf7d758db0aa2c7b7a4af7097b53da38f0a644ba751cb798f71112e8886d87425f870232bb58d745b0b170c0d9a4eff72ce63ceefee21dd8cc0408cfe318b79a46ff7fd53e1b784e6bb83c6916721eb0d65f54df3c2e0ddcd6993c1a30ea9542f747fc14cbaf64c4334271522118acbbf7b20883b1106b4b6406c0f111c47f2fb6f95fa5f034df07363ee9bed36876571ce66689c68bca5f46e9e891b1354944d4cc5124b111500d7a69a9e23a2009e7390cac82045fcb2b032580d201e5ae584dcdc85d3722d14206db7fde2f7cc1f3c7d5a3f2f96648dc9a484939cd5d31437c3ab4a5bb6e996aa8655dda45349cac15e45f20d01acaa79e5f2d750182c5ef9984d3ba8138c982b1d60886a4091ad466edf47a0648f48b2b3803fe13ad64e8e3a263df40609c8b97a9cb763b0915fa62a9f8f5048059832138bd00f0c0ade421ab1aa652b11c1cc0481c4212aa16a6d3bc7c7d573c7e5715b935dd7f41b9c7bce385a950d0eb1887813788e798fa6bbfbbb7cda829205949bce1c7db31880fefd12a3b0c51a3c0372ca68592596ef6ba9d52c3bcbfeff1a4c8ad02abdc9ee0c95b39c40c1bc3f3d19935857d09ad0460be45642bc27b3074f9b9e70aef3e6ccbbf97daa1efb7c31d7213f7091ec4e4f7256f33592f0242ff23daa42b941dd759c0cee47ee13261e229f0ea2b2497529f31526a2f02e37c100f022b7a005bd23f050c86a8f4379d4d0b2413ba7fdd00a44fc5185fdd99e357929b9806389d10121ad522e3821cdac6074028a74b5cc89da58b9270ab3a524cb1fd4d144f7dea19d7fd80380ae5c27f2bc04f8289e64a13596bd572f0748bd26370c0855c498b3158aff68bce6310dfb7f8f6caced59359880c76cceb15377612e89d57b96fcd7e0f7fa51e2247dbba36cfd896c0ab45bc8d90eb4e4820adebf9bf119a813a1ed375a0e3068d7eae69b3ae468bafd978ca91adf60e45c08deba2f44b21afdbd6766629867ae8ee2465ea7d2e5d0bfda3bd840e22c7d81dede35db7f6a5f282c9b99859e668c159a283f3d6d962ba3a06242d7728c806b9bae654cdffecb75efc17867b79faecb5161bf063d8a8693fb2deb6676b6daf4e44825419a7f62bec6d687db13e3ffb073a12fd50754b76093605eaa7362efcf793eaf04632ab0b4d317bc1bf1f6b1aa4e46b3ea84c6da30b275f4643b16120be79a608bc684292c8cb93b9e34303997f8cb2f2fc6744eda31f6b9362b7eb1e92125d50eda218fefe742466f85b8855c87c58f5c904b54aacb5a35a8a669012cda0beafb2bf49f9127203b7e7ab74a5148c015546583e406ef859242405e70e1449791c93e826adb357c9316d02fa296a9cf3264c1bd7fa3a6db533ae2ca0cdb4465e15a6abdb271217c33793580c94dfa5496fdaeccf9bc47b2c11d149e77d5ee96e88b7eb9be73ed75afcae1b2cbdc275eb2f9d5e3da841a337ef325ab31e96bc1c2a04943a5875584e03b72d9ca25fd308e8712cf7e11a73e035f98d6a7be3a6ef98f06345ed61880a48dfc6b797c1f56761e2efdaac7088d305e82f68bdb9974d75281672acab976a7bb879442e9b7d097b73d47bf14242dc84413083484dd301caa4e13a10739db4427daf59401d6c340d2f59f9b482f1eb80f846cbe8553bbfe907d41355b95310a339f0afc1e009ae5bc30571df2eb89838cfb1a6035d9b15bc731629f329a31626a054970cb100ebab322fc194f2b7b38ded8f0862a834d47b7037f8e2470065aa2c324f2012618285781d0dfc2e94e9459f7fcb53308cb0c6b8df839e67d7500090ccb2a3f6ef7aa4ee6443d94c1ead06f27ee29b1e26442c5a2ca0a0551cd200aecee572e020bb45ae34790b298940c2c8c8a67f92b71b43da4e298128c7eb26a6e0c6dacf4b97cfd37cf78a7b06c16088592a143e0014995009ea18ff82dcdf648ff103620db9bb6bfcc3b2ce1fd2336d1b09cf44c7e84a9e2637ba3a29bf0e8a7b4db6596d8a440bffbf018dbcc66608300795b514919fdd2228c64376f02996c9c7d56fca3ecd38b2052bdd6dbc4ba5abc2818c04c7b11623a912525ecb59622e9194f140e4f1649338c82db6bade22c3df1f4d00c5ba68ae18fec0e7c3d717ec07fb7a283c28c1c89990ed37118179baf9b93c3a80fbf38d2b3a5f85dadb0954666b6ca4f747f6e0789c3f426ff53a7a8ec3f1bd2cd0194c2c625bcf252a5df25e0231aa835664bc05b40a1b7c1a772462e38fddc2aa067c53f16272c4f7c7129d797a4a37d47724e5cc00dd2203bc005f9caa26927605de7cd5cf565c1eb81c9e3417b8a6d1caf71d77520071ed3889b0bb8ffcbfcd4346cefdd42e3075eaf8c001355b01b842b9b883c6bbe60a13aeeaf8f51fa276dce9a66629882db40545057ca391ce7cb26fa202f76570bc2c92bfdd981106a4b87453f7a0cbcd91e4a4970af3a71557825faf7e24fd62cabbaecbf2f4b31df0dbb7be081899c456aa4ead313bf7d8701f94c3f5f054dd5c5e0ccd09dd42111e7ecd115cc3640b3fd574d273271dba158371fbe8edf69e0e4ea49f40a5f18902ed74129c3261a6f2886b3ae2f905081e7785d0d13e8a36e95c56cfd176cb5d3c8b850f13458b2cd3a1cf994e8fe6a7296ff43ab68b6ace55df55eb28dcf677ccecdd92309119340e77f83381beeafb3818f610ec38922adc6953534f94ba2a8fae26c9c446b0a801df1784afabeef0023cb7b03fcebe78b38e32e1145836ebacc4fa943daf5a8b9d04e897c4278dbcf5fffce97a8831f19e4e4c95209c2574e58fe905c945b6a88e1f82ec35e622a801418593c5fb1528c6b0f070fca76110af4c17cca70abe6b1203777f1ed42f0a16b04bfffd7927ef1ea99b6787c3826107219f3cd3b36839e2b09f870d46973dd1bb90e49725b25d5620dc95662c5e5a0cd77ebaafef688cd6929801b54c3442f98e6517058a1d258527ce0d8b77fc0475d58d2726e10deae6ecea822390983c2f8d17f45a424586bea10e382ffb447d6cced799caca9ce9a4d5a723b107e8c16f20c44145c0d7d4d406316d069e5ccb615d3690ff0b729c2d0d96f40dfa4470ac4a4c9f300deeb34c619aab7d8f8bb6a7cc9d13b5c82c12b893a1e6ffb9c11178f622e19633949b0b88c8961acb5d75db96b16d86e3048b801345f20955d5050446a1820bdf13bf37f9e7b750323aa1cf2b89e542425dff115faa042ff92defdc172a656c6790481693add086246fe47bf48235a70fcb46ff6b124f88a9c193ed53db36f21bfd5395250ddfeecb604df37dd126fca3cb0f4d14a151b16fdb52c8af3aabed98a1ff398852aebcf3abab6aeee00efc0d8ade643a4da23ad494f87a8bb6defd7768db254eaf06d5d96245f54f572b8dfa96fab69748738d9fe2bf30d1ec9d987c99ed1ebc7d06c9d4e0e995b7101a958dfa0bfcbecbbd5819fa6f47e99fc325246c8c04f084d5cad27be32e8800ae4ae936d5b705893b58caf7a07cfa6fee00eb2501c9da834723286ea91ae0730b3f50206bb82f5d33bc65705d1212210a4b4667d3cf95b1b058e9378b42bc4ec216ef7d7dde88ee168d80e6bf0d36c3ed3a86f833efe244e5cfc113aca4fefec40aaa0d316d1652571c37b0600de7598b4268e9177941bb78cb04d8aa217ef27d2bf8f732f6b919ceec2f9ab43267490ecadaad8c5e45596b75c68cc7af54dbe431ee45e0344c3f5120ca06d413fbe527a0b7f7cdf95fe11e61f42e31d399890c3a164ca9386373d31044fb962ec0c2f04ccc9a59f0e67a039075415fc8cc890ead9032e3f8b461bbfbd4782bdb2ba3fbf042cb6971ce3c9e5950450ce17ec522b68d1147064659997d503a723a6519c7d54a4bb8ce4a8bb2b962b01089e2ee74ab13abaee0b1fcd8412f6d640daa8a502f4821e9d7485cf5cae5c1add035788081355cd856f253c1c9c7f7a24943a1fc20d49f1cc2163d52c8cef3cddafe2223bbd65bfcd97fdd270dc101c05304a49f08a686a0d95ed12a9f1f1b62036009637ee372f42793b684eb43685ee74502b8b65055597fe8565363fcde40ac1fdad1bc435af640878e6eb9a2927bd564f631c510fa838e53d981a24eda5b82e22173a6e1d759afc92e30fbf5bf795a22e693d246dd4fa40ab436abf78b6dc9dbe624c9f96a2ac4f9b8119547ad450951f7471a8ab1ca2ab66d7913022aa7fc11f94f8fc481849f064b81416c7c7137e6e6ec85cf4c70d5ffd693c70890d30bc5e516c35d4340ce71bcfcc7583ab39b5c7ad958a93e51d7dbee493395e9d876cc51600a06e4ed5b5fc83937a3fba9a3b8fb1fef0bfff6391e2d00f9a12771d1a318059c1aa15e83e0382bf3b729de6c7c0746a9e958aa86dcc0b8873274797b5daa928ee5db21fa847afc86679a038d88d0af92a8d0a7753be046f7b9226a7ac838e1eeee622b0a7833247421f668a0119d8299c79881b4d5fc336eee83038ac61732c4804d38735b4e405fcc6de5a3c413d80fb7d777a9482a09c256e7754532eac28dacc42c1984d85d644d29794ed797d6b5c5d999b1c8a883b9a4d2c574b8ff71358cfecc828d7f6c78342994b5ae3d9ef89a413df96b99d979dec484c5181f710b14da55a6f8985908cacdc82941f6a7a7cd9b296860d26647b99c2b47e61d3dad43ce6639db0f95ccc745e5951e69a2325f0b4d5f50540e20f1e5a76aab3008734947df0e9bb319a85f1e973967204c7042bf8b0ca9e1938b83d0077b99185559fe65e1329d43ae0d3d466e5e0b6036d7bfed8a11716fc44f969c00bd6b9f169be301c3317d46fc31eafbe8a67592d4d9d8f83d8e60cccd97740be51852d86f366ea7ee89df04ed1445fab2a1828aa72835eab925c4a93bab5ee81bb6eaef01f87ea0c54c27ee20890e986a1d654573371d3cf83874f83e8fc18afb2cabaec28ad4cf070ea404d98d0c39c6655ae2e6feab3b9e2561cf4597dda57f4dc9def601eeb5d428db7b9e4611aded93c47bb8c219ed7ff5bebd9b1ec2380667fdd9c00959533a1aaf5013915598cff62b5bfaa84916015f98d4546bb698652b9c77d8b2855bde4fc3940a0b2223a3230264eff28b8db93640b5d320be41195453b7590de0f64186e74972827f7a71e7415a209471cfa0c2af25d891082761d62ec3caa09707cf47497269ce961ea9e785ea3b73a472290d9c3ac7ba5850403afea7dde7f9d99075a026dbe45f9c9973191e3823f9eeb7d0abfc3903e260140b3350751de6986a6122f46593803c914e4ad7e7412355a2b6001ef367ed3950818c36b71ae35ae3f61fb4181014712c30783b75da39f12341aefb2bde4d0222b8172a64ecc5f1be463ca1947e6dcd8d20caee001b18c8d2e9038bb42dfbcb07430143916158b13c8e4e9dd77d83874fa56110c839051696a2fb34e9d5930a160a1717c76ad587188080e2b02969e626ae0ef9fd4987af03e438e38403d37e8688f09d14aed5ffeeab749e24046b23d9f00d46b852b20c11785055df373789b07d9bff75a0fb4d68c8bbe9ca51af60253fc6ec753548289e9dbf6bba44707878fd28b929a956e38bec949a8f08e124147342e379b54b09269630731687d09a504afb43e10750a8acc13884acde1af7c23205f26f8245d4342d3dff408d348026013f4835271db3c1e001c9bafb40e0ecadeb2b0d5a502752d3c34f1cf92af3c3acdf68aa47d6a3eaf9ad215aec3331b9d3a815a9b6be85da6783d5f4e2d30c7b877eb1d9ce456a3fe8339fd2606043c1d6825adb455084ac12d8fa856fde050f3e8da2b2c59fd787ad8d083274306e969cef6bd9de7122009f72a8e52b8d9212c6a4e9e38e664f2211394ca80cf8d739efd7957eee5c6829a754ae2ae3ca06fad317648e5d286e092c887f6830a71aa4822592b8efecb4aa2a1c247cfe8961a841d99b656adfe05607076e24e03e051ab22c558fb825682f06ffe9f11a85f61c67b929b046f1eda7d545617aba5bc823f7876b48d4aac20d4684893d428211b43c2c61f071589bfb70983ef300336735de7b8c0b12277486751304f15149d915a3ae1d40c6f65dec49c101423ab80658ef962e8d6358ca8a9e1cae8add92aaf35af0a002c31152d32ad8e79671126220f16bd9ad57f05fcf278e61621dee13d2762070a6a10c636b95c8d1bb2aafe7f47a3e3f9a10d456b8845fc904f38bec708e0c59abdb57861ec1d657264d3d4a57b5297ee16f82a530ddc6743e4068cd440fba1de337259867e7795a0f3a00c964adc059cd149834643b82440dc6b4e99b956328514caa19f5738a1624509a613f54c9209816c9db49be235f4b23939b7b987bcaf7dec2bd07bbab91dbea4b346a07fba8ff931a5ae0e8baaf577cb6b2fb95ba9ecdcca362af6baf375fe25ded2e3fffa58c427140a04f758db84d9e380bee1eb7e54cb91cd45562718d6bdca1354e58e0330da5d9ed45b3e25ff2c5c63cf2e495d74d495a8eec59f5d2e54420e477549f0ce78cef17a5c393430f602e983783fb20ec0b00204e4ccf3fed12739db4a26e19a523163b779258273aaf17355378cc9883a34420eaadb3b68c7f4b3bc90dc8d08845b67d64f9e2f6a6a02affa7bbd1a48430c8ecdc6baa391f1c8a1f9dfd33d7c52fe6cfa7c64a457c8400100831ecb2c7e76a0c28ca67b9ae94de75f6ac34e5acf76e3ec2695a09869935a202e340c7031f65950c6c308633b960b1592119b1632d97779eab39d901cf4bd5d0c9a112143ce0f08d38f4c132cddc5d9d24e5d1de97d1d5ba5ddfcac00779c7dd241ba09c9a8b803573c6e7d57effbe7baf21dc84f2ee6a4896fdc2ee306e7af5271bd6619a0a6e5fa1f9bbde289ba9d0dd2fb957b21c0de79e6f67c9a65d958704ddd005930b425f177f99a503f5f8234ef0febdf778ce8a6d94982b9d40127901588298fcd3b7fb1ed3bbce8aa00692536af59c0d5af2d098c9a432c87211ba736f9790ee233259fad26e064c335139c9e2dc943f5175947b87cfe31b6ef2b9dcae753212f4e36b02f0a0e85974ccf359bb6985b234c3cf40c6bde0214f4351a9412c6d053696e5373b334a7b6b2fbe76f7b167065bb1858fd63cd1e3b49bdf9c889451cfafa202c5a542c88f841451a30d58458057a1a15119acd5e63fda41ee97713ec976b27eddaa94442631fe6d1aa9da9c9e32c954af07649a1e1f8a53023f3835432647092c721ffe8f00243c6b1f5246d21225bb2da25cecd307ebbece32eee6e2d61ba8f2eabcd3694c39dd79928e7121f0d7299fcaf1ae5342cc6c73ae94257496c0f78307146a502401a375a5eb112b8811b6cc16c17d71fa6b3c7e4cbbdafe5f70dcff7eb97bb45443f5fb1656b3e1d0a691e3779f1ede615cd5fd8efcd4a2d81065eeec224e49bb08b80afceffdcf2fbacbb22c92a2811e7f21fe0134f1d11e1eedfe2e9befc61e97ea76b1adb21ee569a141cc0b747b696e0d89ab85516fa8be314a25e92286d46188db6b7ee077332534e618ffc38d2ccb17c8d7fd8b156c2a5270a549c8277f6e98f62e7574817c712bac98ccc5438ca8203a9c2c8f369ff4f4fa5ddad025c2fa12be4b0ab873efdd161138563d95e0f853cdc18e6fdfa7002d77d0032d98e5fca8c48f53071b3e83b4f6058a7189008647d80219e005472e1efa90d5dd8d0bf64bbbf5d2a200720112da0cee5c8722717478bd544a4ed3e05679f26899f5cd416a27ec7fdc292dccb823607bb8e368c2f5b067592100b802332ae1e9dfb2f3c3c46cab1c7a5dc3eea899bf6c6f1c9347f315e4623f89feebb712f193a2fd4bc213779788f958f7d6eea9ee8bd521397b502972f2b00ae1ae44d13cc10ac2745ccac0dd41eb32a9961b086a73b5b49fc19176cbe40eee37073532b44049a503d57439c564bf8c467af6cd1db35f2076f0e44decd52b09b903c7366da53046b46437b0b889e727a0ecdfe191d2c609cd256b02b9cdb79d3b680782241a1625a6a6a15d67575b3f32df864ae241bd3818742606fe7ebd81965a45145ce0bd83eb110bcb83bd3ad9b0c3841bdc3411a961efccf304549acae9ba26a1996f8587be0e27b5d762163a6d4eafdb241e692b9df1fd1079409558669c70103ea3b427301ecac47e14037230b79eb6cd5e3528721f214afbf530a9950baf14042d0f2db7ef8217976174d4f172fc94d6591274ca13118d21a78bf520d0feb31210a89f79f012d033cd29dc223dd7fe143bbfc5b3e424bbb617fb869a2b96e2a3eed3137177b4adb3a28e73cbc24150f74508bd52f819ec3c54b3631225b12144c66d67e60a1caa961cd0ddf5509d2581d346364d9f6b8f3f4252f95a3edb86e6656495d04b984b4efc93dc5bd8903143ae2a36a8aa089711c70274f635e121881c7631b1e52acafa145e04557fabdc84e091525cc2633d4dec5117f514ad20e40df91fb83db876f5accf1b5b3c8f702289c49eeb642a23af0b96b2af47abe8c2f5e6020fc126e395eca70b057c1529e354abdcc6448a7e265e51a4af2229fe0109ddf70f0cd45ce566e83547320c9f2d52729ed4ff487a5d9ef325d820be624123a76385230c920401b4eeb18a0d38d0ecc0cf9f11ac02d59ca8dc33d15c48396105a7d0b3d892ef0f478248b3e08b16e0f687a79abc772d8797c8b24eaacbb2fa0cd21ba114800f35695e72c1865ebd2c21167ad5c9b9e0881d67a2e460f288886b7f1ba655e4fd523528f41af02f9633987b4d0ccd2c99c3eb0890124c19e0de8bbd5fa0a93a25516ad3ac0c2593e7ec27982eca2f4f9665818587d5009f61a0c2d58b31979ba435809fec3d8ef153cc6a738afdd104313402570399e84b75d9192016f8610bb698e065b8fde73ff83d481e06550fa132e9de23afcc9995be2421613717956c80bd614808e44cbb73a6486b6f9e9c5e7a47be308b215e66b865a8ca8f5aeb5c7a044efb3633b57501a767103da0bafdaee4941b055c6cfd64e4fa7e6634b6a9630fcda92877a318c12a5cad16667613f02a40db054153de2fcc59e90f2ab4d500bf27fa8806186400a3fc6aa732cdc1f600d681cc5ad9eae2fca0381c782c6986512aa88824b0ad6b36d8b35691f42299da85b0398bc1d01b0a13726f5641acb966ff49853a3717d0911c7452fce7793014ece17d53a44873c2bbe3bdcd817ad75eb644fa0931a79ebc1b9730db2cdd30fee054db36a05f26bd39a008155453126ef3640472a62a51a62df60a022b272a7e690449888f802e5561a56968c8b3ed0ac8c8fe480f8b5312ed6e0fc7b848f91b2a961dc38b066e643eafbd30db16f398bafd284d2dfb237dba86ff9591988851a2f19c250c5c7e7dd8a7dd05dcac156bdda489d499c480633e37bd6677884db0f6bbf5ca27ec8813ce541c46dbb837cc1a222b675b4a539c8702b43f07c65a3459193a653cc5bb67f9a178ffd6a7b09c3ae263761a72351047af7680b431a611eb9d3cdb279307a5a2285ce9bd3841bc998015687ca09257838cd731df8285bc871cf4924b60823c1a6ce62e7bab576eac5d67092201539d57f6d1438fb4297036a2867d0809f78fff253a1d90e346b90ddc7847cea95a51aeccba3eb68f4938f399da34c923b711ade2ba0596395127f6e0d4965f2086927c21deba4477767255b48e1344b24a3dff635f9115d5b63ca0443d1f988ee38d9feac3dd952a254b65abbb97b2145ac9c6ddacaa99927b2487ee969c35a75e532d861056670e7309a8cc3b75a249727fccaafc2eda450fb02f7bf7636e12febadd5786294f3f5b2bd2658856ea9b2a603d4244976a0cf72dbc2fea97de5d83e99c95fc34d74fd3bf4de44ef6bef2c9ffaeaf78304f15f3a6f73ae0b82b91210079fc1c5b6b0b8e5ef6ac48c83847adf39218f0c31d78c2a779a97c08b293e66f33424626e9844bbca8065f21215f7b6ba73931b7bb4bea1b85895934e0d8dc0c23bef6be19df5bd38303cd526b01ffcc2f84bf3babeedd15e4fc6f62e2978977043a78e69b86d07d60729a8accb3c1e1d1295608bc53d161f4c59369518d3b420a35462dbe50becaf517215ab9ddd45c0a51586c726c869143ad0301e2c3f5e062c5f68168b1756b9e1697c081981d98eefd86f542c0f1c5e0b32dbbca6d089ebd269aa12c8bde5458740610671d6639758bb009a1817a5efaac7b78f1e08cebd5ffde858326f1e2d1c2308c618cdf77382e73fa074a06e6f45027363606b8c6e0774f961238ae640949345c26850990e12721eed6baff7ce2c3811b1d0ae682e833b34e5930a13e1307d0b41b533cf329c4f8a61f4234e8d769f1aaf1f003381148a4d406437a55f8412a37b99aabe95e2c64967c37aca38d6204f59add4c7dab00033ae3382d1363a66f1f628d235309391ab11b19507ae674bcf94773d11c9d2bdb91f9aee897bf857fb3929dd43ff37d1ae748aa94870d0c7f5ca01dff21b8848bf25fe36c968759e960712c3a8b70815d9b2494f6163eca8dbbfa193c44dd4f57f40606b95ad9cffa6a8d8685252b6d67fe7ec108b9423f91d4da3b7061cf9f5363d9164fbc61bb6b47e3179d0ebbad6fce68d38515545f9c41309892dad73b0abee42bb7e8173ea3abd37e67d1aea1db774b9ede514d3005e03c56b4f04bcfcbba6ceebf339cd5784a8dba4745672a279c3168e8d4125ee7a0cf9a9721fcc33cb2f1bb75f4a3e235bc68a018f7693a480c541f77c4e8ae8bbf440c888e2dd26b68697bdb6a978f6c6f905c21116cc59f0afb46bb6e5673e32a02690b7aab71f96bf140a8e725277e4ec04e2934f93c82f0af2c517b798edde12c92ccd7107f4291d4f92bcfbd6bb4439de1b20902b7230c87d25f9edd0a72ed4d8186b5575aa4dbd581dea1048bd89c6e57d35a58d90a896fcfed2e6647fa57c40baa72ae8a4a5175260640db784d3699d1d735619ced55bf845821ef37a990f2fe2e0b2fb4b65e0a9859d5339743f1d82b78a7e0d20cd5a1fc702c0965af96794faddd9e9f29155a1daf8be36b2748a99cc2cb55982498633c8d912544f34cd6f73f4db01235d296586ea0a8b9e358ff7b67d71d3a3c09dc3bbd61abcc8ede20befd4504fb9ad920e51e7bf106a05cb162ff2235829e50490c3ba6e3c45a510dc1a43745680fc099cf404a5e1ba6ac5ac2762b5458087781ffdb7be9e6ce7bc8c77ddc5adcc1b8033b07c097729bcf044cbad418a94df07ee088805cecee8032d824a8253036584b8c5f892e8df8a7db808e396b30a8fb0b13fe9cd663225e8e6c2808e7cd960c61988786ee274270cac0ebc698c680f89d2bc5546746d8a059ac0791c16a5a6c878dca0c70b9f0e87f7d01709077ecbe57d0e67185b51ffd7a325013b43bc8dece5df5ad0c45db300216263499a0cf7c894da9a52892cfa16ee6a3ebf8c27ba363c42d5e54d5f6883254785ad39b85d218145f0b254f367b4f0e0f11a0afe44fddc634e622ef7064686958c213d5a21254c330f960d623ed8e5be8adfe9d9ae04cf9cb65092035744668a0ec56ea70d0e2a1ac88dc2ce017d75038b597dbfbd4991403ea9ae2ad039582e872f008e42baefcea34bab80f9d1677ff3a1c533b913fc84abedf24abbbc5154f0573161f7d0f2cad5a05033e18b6564cc5ef45d0a267f1c1047b96f584d0b8c050c3db6f636ddee22bffd8c9ef0ae91753653a46c651ca400dc4fd35805761f8642e2bf5887face16a603b8990b682596d18be747d3d1c3f2f9e19ad5474990e29ef4eef6a9b9c339ca89ee91c2ed31c25cfb446a8e82ef6b74e1d0546ae40b2eab0f52488afaf83a597cd97d861d00f9dd6d653165302cfd260d47ff07ed540c7ac3fdc910b70be38f53ca45b8b4d04c78c92a3e2e13695c6b59fb4b9026b113a5dd64ca13d309c3207cdb339c2669e08b144d97106afd1389d2b08d157796b20d426dd14599b54b8bb44b98d854ec9d33bca31f28ff6ecdfe42daa18065574dea843b1b50b03adca2de01e52f69e571afeacf0b4396527809c099fbe3593ca9c9e5beb5e690dd8e749bacf9be37cf2aaf0f4a04e4b0e4a510a383539d3c963e933818d62810d42db9dfd2793a1c9b5ca90856b6a0427bcd65ed06932cdb34070d8dfd44df325a6e2cfca88d27976f947c2338cae99190d4a4f6b797d754fdaf34fb509965d913a6630297d81ef5bfc9d4836680affed0f31ad19c5f40612a4ca6c4d5d3239377b0ed7f8a7d7afcc6a3b3452dfe58600f66697dfaaac778f5c3e8ab878f55fd1d50ede9662d28b0ad86ac5f5247997a09a1e8fd78f032bf72a186200cb1c2aa15f6e173844397a11271fc5d356072fc2db665919230824a5487048268392c03778ff39f1782f23816992ebaa7576688b46393d4b6433c2f7fe0f5c4b0388e4f4d99d3aca9c28cc9fbed45f6e33043ff33fc05779a0c733462627bc4573a9e1be720942fa309b3620c0c4c10b69344d6f24901ef9185e4c48b8383ab1655e68208b4ea7ff94ed3910603fd92a6338cbaf628011a5b1f76f6f60afbe4274c232e8ef5362a9fac71afe7575b23fd617ebfae60b55114f3009f1c89a0c4a0a859a5b154c9f144bd78081baa1eeed0af55fdf5264b7eae601599c4fa2b5813b1af460b868812e78f4b06ff41edcabd7f7bce13522a3b8df9006837a857f6850d7acab0ee0d6d13f732d4908346bc131be787500ceffc07646c3b7e9948e8057ce4cc4396fca11ee7bf23872e77b791f64f7613663cf729ba957c51e03678d69d7440d52b6ab0635437b926fd503ba32bb06c4377cb67ec2017589820e765d7f33d6ef4dccc865766229244f3710b321a9007cc76eb12f1f2ea9148b6fe56f31e1783091f08ece84068f658ccae566188f79cbe20988682ce46e6a84b2c47df3464bcd4bdd0ba4f3bb59ade01593b3449bb12e4c161c233687336c07258d6c5fd45fb62a2d07d746368b4e4ddcebd18ab604667717f0ab0f3146e612f02e137c967eddecb0ad42fa226aa8ce66697a9fad484e77309faff3e89230608ee54e3528eb43fbb058f461d036174a6e5784ff007c7a421122473d2ca8ec2168d19c5006fcafaba13bb9768b57925cc761dee79eb17a78b5386f346f38a2c2f3f12bbd7010acb831b5a2eade19c23499517eb24dd1e978fcc546b47583c5e1787d0d520974cb251d41176c7a28ed276d9a87618010444a9a90073499804733d6f2d182145d59905a55c83daef72b940fe4dd77cb0bdc02cf25f3fa17e055c6e9a713fe200a8e4783a253e57c83e132dc4c9e6e8eb3f0f94a7e249a07a9ae98de4d1d88275e44230d73f2805cbb05734b11f0dd4b698c52934efe620b692cb3399519005bb993914c21564215404469cf0886c148991bc805754303f68a4ddf910a1bbbbdec1eaccf64eee0ff0005e1a87fa034dd730c4aae32337f26abcc1fb12e983e839f967f6e3666818a6bb2e522912cc7cdd1204e1d66db7d3eec103a1c9d96644f6d88fa605335b97cc283b285b1656125c95fd2c8976a44660936f1aab4e85f5a12bb98c1d46d8491b8721dad3a990d30745671c206fa904fee140fbaf0728e8385505dc29c12fa4b619edcd1a5da01f9b37b8e416b9bf93e052029afc375e24e3c6781ca3650d7844cf8fc5676cd5986b5f51c9cb72a414de726555afc1354eabc7cedd1b974030a3df1cd993ea0af77673486a80186a70916641c578c58f57fe84cd769eb606b804925a4eb6fb0eb171bb06b7e7cbc39a46f0d4c15d9e2774718e07781a1c7088effbbd85e18d4fcf34485e95d40b169a55d8269e07e76f3c7c14553e4d9f1c07d46870b3dbab6b21404a96b41c2c772cd3ba3ce31941e41a26cff08b7f019e11c5bd364279ca1b539d344100307ad94e008b731e1bac29d0f8a7e388df7f809744ba490a747e628c96a04d32d41d8cc9dad593ad0fa495a8eb4464d9d353b6dd6c47f408ddf0b5db956f5baf157ec7797bf43e474799e6b59557002628d7bd55633facab51a9943092611b94b2ad9c8442a31f044b73220715fbcf57c5b109c3288063a81341881acedcba65c387f523306483f5c4fcc46aef1438c72f408d8b73bb67f485badd591366a3191bdd1ae9eee82f751ca38dfeee31832eeed0d35c2dc09d1ee559327bcf210f67495471637353573dc90887f3609735ac7bc56dddf32a251a910931307ec193425f2d25bf815fd4cddc0237757676ef27766526a04c53648e4c0f53c6a4727ede906cf15964101fb90547f4d0399b2b51b02f89fff0773a20a3c900c39a01d74c393ef36e8d0a209bd890e73c6db1f4e7bfe260cb901cb6391e8517dbe087de9613f60177fc106e493adbbecd97c31d7889d85d6fd90582d3a5d4d0e9a689fcb01f4e8359bab52d7457d37c79faab9a0747e6dc0406434ff9ad189da66224ad690d1d9fd3c10afdb2c35f4f8fb74027cad865d1258778e6f102742501f280992c6281d3af0d33c2c217cc039aedd5d461be68e36e04e332e96f44a89e55c5d1f0f61a67291e2371b2d1f8e0302f08a547ccb91f2de2aa852ab3fd9d84fc91d94902baaa874305e9fa23418e5d53b51499c5f661d15c6a780b6a785149550eba34377a9a5c4540e78983a5082362af1eb9b0e491ab004638c490a17ba864f012c19c69507c9b4c75f4ebf1c7a43dbc1ee790d45edcf73891aaef51ed5edbe04671896555934d49e40a55d460d783ada5c321629be8ac41b9ee9c9521a1b28002ab47c9587b712129642bdfd46fc0a7ea6fc508e14cb88e3be936be42d140eb515c1eb1839b1080c94a65a4db5f094c75f77dbea97376a5c289f1d0c62fb4d48963269422327992c2b94c6340959a93e2895c1da9749ff57b2ccfd5e82aaa160332a4df4a3e0eb6ddd357ecf8246df85b1a81f3d24147151e3917cde25029c5df8a14e1edd7d3dd4b37968e804a46578472a85434ec6431f57266ea4755630ad8243f52c3271a3491331a3425f93fb293cde0ff36dcd6135d051e4487f2cd5db59101a3069b639f843ef66173161cd077bbc4fe485687f879c89bc953397b3c40e239d20537f3712d0e8accc018792ce06682028b70cf07d37438f6dec9b80d14ac637ff1250095b02274cf2220cc2c3d13540af235d1daff7c5430bae09ffdbca4e0cba0da2b0e7cdb6d522b1eb9f8b5f2b8a81be3db6089f4a364d917ba683b5da0ee208695486d9c9bfbbb26dac73d47da69e9dcffb33e69d3e73c01e5e507f84ad4ef4720b6e499fbf12046e0a90c742066990e83e7a1d8a0443ec13ce1cf08e2017f9cf4a8e25bc4cc08c9fbba6ca53740755c6bbc893f2aceea805198ad82917cc6c0977000d6227c5b3c7f97cf3b034907b8b79bd9ccaa6b06d3f2f28bad08647f4adc482cc900df81bbdbf1a2a47d0198580912a70c14924f9b0f6581946b8e195a971d9157bf28d4d9deb6330c219d3797b258d79b513a88c8fe103f5e788db6f83ec2499596c2a25f5bbef012f6001b76ec3bb21963f10a05c7453aacf3231d046512552888d562da69ed207839955d3b1a095ef4f38cfbfd09573bf193c3850ae7c37787dbddda01ca14edd302d463c2d99e4823f55bdc198f107e424a1cc30f5fefe1225d61f1f4718f9010abc56edae485f6e1465d441594e3ecb93c24b887b39e0a2f1ce74d074e9622b345dd48350d4bf9493e05298120fee1c0818da0dd6ae629518141e3c0875ec19a34bda49a20dca29ab79a7b89c3e701596790a29b39fd31ababd9934eff88c5535ea5889c214001e7a130ce4ebef790bbcf71ba946c6006fb2a3402519ba0d44e4d9177d6b4e18c33211496f85ae5c44c2d37f85198389c844933f7104358a165311775021e176b5fb5e00f59869ec5e270eaa2f2419c370b56ec84762148c95144ddb18bede5a14c4b2660ad7402d5e7b6994016e100ca1d8adbffc16f15a50eb7b00cfb20e58d22034394e03fa71895b73d214ee9f64efc4c65088f622d22f7a3ef312a0ffb72c44cf4b5fb0e83789347c61d13ee6eb80cad30ce10c892664e7d5adeafb6303412cb947f34609c8594372dec4798c31efc204e83e0ce61dc8ba01c4c023d69e21a33dfdeadff150599f38fadd2ed5460d5afb1248ca5144fce85a6a66c13a187a3092968a0085f17d85ed688d40abd561079e703e7a7a2c6644907367f2ef8531180220741cb23c7592661404e3a73f39c6f2619e3ad4859d8bfaac0c5064d12ede17f78adeed8e9f79611727d185a1b3f7ec3ec7b5c78472437c251d7d5b6d7e36f98aca1a627ce283e69755dc039a83d1e71791a7bc95f26773e3b06c52ad6c0248ed94b96af9bf0043b91441bca1c2ff975b059ea0ed47d04e9ee8fc5974d864d848e28928c42c23f8d3e43d78aaad96233ba0433dfb8aa22119f1b30cf8b2dfc55def09ed8c40fb433684e8f1de0edc3081c45769c40d415c22f9d4bcbcb4e7f3bc51bd7c72a078741c915692fb3f98336f28517e1ecda71eded1c9ca321dbc084925dab52a895b708faf18088230f298bc3199c6b8d6485b9a9db0a6130042097533f8af0fda2e4eb5f07c0d866222a037a4e90f4bf0a612500a1de9cd04e54a3bf60546a2aa1c6d66e0c511e700c9656b6d676fa55759feaeee21507fb30ddc8e662b4a6d9c9f51b6720fc0c75683962fc070c1f48ecd6e9e0045b052256a169f7334c465ae6452bc1e3af56f28b2af438b89a9a48f953044734c94db2acf2316f5fed7fb1cea76488356a0e4cfa15cb1335c889b82ad37a6ca57852d07859f387c0d59780d948bca93e93ca302ac9dba68f73c7914178d82384d87cf3efdbc111a7db28c936733890a7441fca11e954e1bce733395830bbc820cd74293c4764c19aba3eb0eb2d7e07a1c41b5916404fca651aca89b39a08d5d2112c80c7189101befcc9f2126e445f50b3ba723892de5754505c28f6b0e8dece6930edeac4544c2a470d02ea6f334b7e9b36e502ba480b95fcf537fdf3dda2c4f50dcfa35b0c61d6b5bdb57ec036cfba899b8f42e9dc92884584a8b536d9f1be4b44c0daae20c90048523a4cc3eeb875b95d908550d10b8f109e46dd23d59a962600c3149b3083dde459c76369dd633d48924aaf34cc4725b172189be3261e29761d1f768ac28f9d4dc81796df2b3e513a975e03685d1ce2bb57ffaac9b6b7ef80672c875422b364ccd9c6d27b30eaa845dc3a0f84c8f5a8694bdde2ef474ff408e6115c22218ba30aa7707cdc30f80b3355b73e8c887c0d043ff15e072a365a1c6b645559db44f4eb65c5cc11c2cc77fa84acbb8b648ecd634b766ba86bbb644e316a5eb83b3eaf8cfcc1e7f4c6ca315f537b292ef39beaad4d7bc3f5ce2a11ad3bfc8ff3800c57eef850b1ad301fa05b63496e72407a6b62cb2232746e7527422d8f583ee68fbf62c169a6e81d8db30703b0c5aa8208d86ad98b9f0d75e2e1e688cea39bd1a5d7c1ba7d16a0b4e9fae7df56e6eeacdf14b49646bf82c62313e2b9198bdbac268f0f8c2be673a43774ecdd5f17d13cd21c276e43a3933f540231fde175e98d87f5f45ae318fae2f6cab1db954e6701755e567090a319f08dabae56c98d052d4f0b1ddc6e2bef26647d1b4c34eda3778b1b13cb681c9f98876e2ae778638d34470094dc783eb24fc4f0dd12a8c557037c7fd9ff8872d55c212b0e82e9221c2ede69f3b849114b41ae438a612465cd02c2a9cab91ba061c83cbfbc1bde739897efced6097e38815d3ad3ff7b6abca91b6b7c6378cc50db50d97e360f1f78116c0b24ec7d25e2fba363e3f6e69da9d1236a67347b3aec8b0ac579505b4eb0a1228a196d25649c2480d2740b5b4966147f85a0809da621332904cc6dfff8eacf7a0c31710148a72d8a24a508b4ac6fd2d3889ae9d4d2fd495fd4b06e47f7272857d2e57a3fd56b41d0ec020aa300f5fa6e42e25d3b2304531650a71108ba328f883112d72e36de3ef7aefa731cf300443236093a95893ad681a952ef937b676533b529983b437aa491abf496a14a075e067a1b1db98830b82eff44bbd4a330fa37a757daa6d9b7446c32c0f35dc06dc31b04343b88e9d37f1378049e3ee21682583044d2d7019bb5ea6c680572c8ccd2782999696cfc62fe9400e4dedf9335cce2cae0c87f5c5a6fa4c607978ced90dc5ea8fd2112d43646d8fac583890557b629f127f8422a84c3f84806a8ae5a6c31968f8945ed11e7d68c71353fc26a12b27cb328cb7807ad94aa4dc61fa8c2d2fca84838111b4b7a433ef531b697668e9360f6d5f0e1d7139568c1bfc89384f2137503758430a77c760f5b88e86e4ffedf7e9ded1e61218358160ad69b0047f9b7775babb98c5e42db8bf396686e9d03f6d72f6f0e2109f9c8f86b92fe1c3f96d708379427ed6f9dca2977a172d89f9f9dfe03ffe0313472254621ba8e5f81de0b679b6cbeb120982395dee8b036654ec6ad852786ccf35ac2b9ffca3aa06ed0d894f2cb7fee86bb0c9fc994e5705b7dfd00338f6d96b596edd410dc30e8c458e0231610d0a7fb56ab7065643927e4152eee489539424ebd9c242f59460b80a33932ae348620b402114f3d650eeb3fdf95a697f211857ca1457744e27ae25e69f0c7c9b27fb0397fd70856e853eb0835d98470563559473e8776b08992fdea7cade37a667bf370db333440691e683435c687740b4659503e919dea2b86ab7d3e84912545d55d0d10f4e77f5b87deaa95cdd86a038969780c5798bcfc3ebe24509310ef8d69f03d15047433f46aa8162aa9a3b2b5c73bac81f6602561a088f8ed3ba60b3be6a7a4c69d64374b2a3805dccf8a69a272ca3ed6589a113ad21ad0ef600a98ef61a00fd9282050191b41a7319fa7d4b24cfea1396db567e9eddef5e3870a351d7456ab5c04d8c1b4e482a71ef7035ee88d580cd66e779525614e1f9fe5d3774e9cb3416b897607616d4a7248191051debd8741ade37a7d25b70e1bd51186832a9b6e54b352ca4aae0d24f3834c38c61791b2047b3b0bd4bb57ad0711c7b1fb23e49a3a8754fa6ea09352902e3b69cbb46020e27f7a455dfaf48a121a8d7b681d4f6b20ff4afef4fd9fea728559fda3d56d1c940a108db3100f4433c70c50cc6a19b034965f15d7cfb5348f4d4d8f2b7902db5231390506c459395d9c176ffce174b3306ede82eab9ce6ecc467bdd8994affeee742a603cf59a5020eebc6363fb53718e7f1b06b39d95b0180af1f3012b9401107d4ed3a56361b2bf9074e11ec500f80adf1677e8c22509c154bcc0288e3ddef8fbca887763ade9769da122c7799318ef14152105b15772dbb3aa0ef60ee85c1cff0a3fc4391bb9194bc5d22b7396b01651ecc731fdaa6584d2935454ea76bb27342671494efd7cb4f7d46a824a9e9d2fd28442a671fe22ea3607c1058aad878705ed8e44d8d4b06b0914209b8812cf64f6157791c8dd688f07f24ad7bba2f6a7bb015120ccade1a3df8753f45e68c9d6405786c9b08b112bf66e772108caa84a190f56f32b188180635fcf57bdf78a6ef7ecdc543f215ad23a2b93d5da9e6f5a8bfc605799ad5fc9025a23f937cf31f0f8985480c3461c67f49de4c2aee0866764e6dbaa146d43081e78259c873c098903fe825f99081e227d7bc8eca039fe92c6ad2d4682860e582db272301e636999fabc0d93019c6ba474669762ce85e08e7e3e05c6245a83841681eea2c8e317142ad9219377259f0d0348f646539b6a0dc4e57c3e6be31eb71becc791890afb6337baef96cf4ad913e7de2272f8be119c6b1c4f07ccd474453b7d15eae2186a9949ff46b4441c3c99486bd8fb53a7ff09957096d22df4370f623c16ec998b3159050d841d7764dccdfd4ff360a800522674a6cd9af4500f69b2bdf0d5dbe7ad6f7e12207029ee1db3da7843863a6b5822edf65a5cb28a0aa03e2a0b9c5f629a3a331a0de5680e7f8ee38f53c8e6e659212c587dee0511b6fbee8999ba2878493a31053f195bbd54b8e6b4498ece2eb3ef1e1bb824db09c77f9821857cdca3e5bd81abcf96d1c60dd65c8f0702512bd6efa869396fdb8b852077f4480bf7a543c4829589ccbaa559a1833ad942b93e56c4a8cccaed58f3d1c65a73f5e203acdf745c0954101f6203bbc04ffb942aaabb0589f36014c889d5d06fc64949f740a1c85732e59c2841be5532a1c93cb1368bf4b8235404457a91e36d27c039233d4a0d592119ed3faab4961ccee8e9537d4466fd1aa2cc809004275336066185b264ec56d66cd02cc3dbd31f5909e84d95b3ba7c21a3c13f2a2d4534a60b035561cc1f3c84d88133308b46171f38552724c8b2c0a42d82a009c8eace554497447fadab49f59065a97c75ec7d3404760ea8f649fce4b52ada56136816bb0967c2e34f9de671023d1f80dc2b20610f28ee2b66c7b75dc5ebfe1b9c5054fbe4862a648ae04032dffb4fd040d43d88cb5d36f1721867d171c7c7c6a55fd60013612211667e5424a8798e16c5b7e81edbc7d095ad556a8c789535e628068c01479a1eab54bf24530fbd5d5a73684b212c191efc5076504d96042aa64df8ab006f58d8b00f086d5dc79a98d54e9b158f33efc14c6f73978cc31297f151ad9cb6377fa3b47fc2b23328c69e098a8c41627697fbe109c293b6b37e3c34e047123d784cf22cb8a30be18b8df5c66442f9b8de96a9ed7c5222d60c69578e56ced491db8febb396a3be4658a1ce3ff651c6bd9e650f8c9addd74aff3084276ba2253df45ff5f8c1826cc17581bf11bede47826146abfafe170e762dc7bddc1320433c2a6165e405653cdf8b370f594bba50f612f4de62174ba74a592aeaffd89d5bcf52cec4682dde8fecf0d76a009c33c1954881eb2dce8b7fa19a5b8fb418b19e4b3426dce7fcc855931204069765e77576dbf2149c74d3ac394c4f2bdc18fce9821269996590e3518474e0d568c80ec9f8ace688ab3ab576629074bb1193407d581b774359e3a365175d479667d570b2b880542191749f3ee7f01eba51708d543d404a466848c5af6c7959953c4a1878dccc64620ed1a089cf3815ca5ff76d1811fab41a3c0959f893cbe779130dc4dafb1704d6b6264ae225e4842746de9a029e5483e0f3605c66e8c5c879167347633f44a5f58bcf6727fe6c912bb69f601a5c12c919ae8ac9a4141d029d0550c843d76e775655d27ee89e90f33c1b33074e4abd860e060df8060213d9027b8e5eba670c7d7176356ea9743296635097daa1042052c092ce7bea7bf67858e0a47aa0ebbfd566d742d8f842124b252b4de69a6127a4d0235555d825ba3304be5ca7f98326ad1e149eaffb515d27775d058f568740723e01bfbe6cffdfb00d3758f245a0486607ba9a4f0748d770c1d61b0bd13531670fe36d1e33de556106b954dd5e7bfc662786f7faa83528884bd78a6e30089759428add273d1d5c7cc8640eef5a41d7a9bc6ea41c69d74633e4b014997f3e7f6452ae77a8032a3e95c67ed1c795262b3e6d2951318be9904ad42ce96efcdd16f63fe11f63cbe458e3c723d4ba338b7e3fabd2bf1323e818939abec184d9d4bda01ca5a74d266fe03474779f4803a6f8146534d22c249880f01c723858ab1eecfcd875393f9b616e4f401006978316d1dc4d049a49dcba5887c7755368ba2ccbedce957c9ab1624c1d4eb960aa790ec1310af8d8736cd47858f64a751d2e14c2d26d72cf47fc37e7755d186e251055ef182316a8015479bc3f190c8c87e6e18fc690882d4c9a8b1bd4bdd0c8da630e4b2879bb487fae330e1711e0ebd0bdbc6a9846ceb1e6814ccfebc8b9d2329ea9dfb263aedb2837ef5acadeed82b1ed594948289ebd5862de7c4ab599fb3d97b7c59ab86710bb1ee99b46bf088bcbcf41e7e15e2530e3b59dbb7d585aeb7b4d28458805ba69f15b12115a6da3c9add41c5393481f542273d2d4840ce0b6e5725a7db91975995f4e7962d5844ff4ff40185ec107a1501b7c26abc1c1ebcaa937a38b23857059361ec9c0c4cca5b0e116366adaa0afe9aac450f10defde9d3099ffc9be7410682f96d2f0a15d1981d5bf55eb1280ea74bbc1caf2dbec139da064dab86e7b8a5de6ed1d3b656e8d7fdc1dc42adcf8d07feefe576dc70c6f7f6b611a1fb65ad261730f36b21ce4a33a2480295ed0290617d3cfd4d3d75f4965fe40db227c0d483c407d38d99e3231df2031d55d18901433ed207b8b87e4e8e4394652e15ebaa851c40ab1d271761c93c55478c3401508932371d45b453d96554c2e53eb4b27bbad059ef992d463170dc0a24e92ef589aa87a3c30dcc38f9fa964962b199a9b6d457f9864c9995775bbc336e848336b9b22fa0562b1e1c40be767c69ac136ed1356743699972c8bed2f4294c05210091f906c6bc96dd231ad7bf26d38b1cbe83d3ecea7da11f7535cbfbf1255d5014269d1b29d6d7874f69a96290a417efe4bcec14b62618e27d6177b01ea6524872465926be46a3dceb520cd4e86a07090498cc1551b80a7fbb7de02f96cc0593038ebddb16762e68a10edc36aeb10234ec1aef2f52951d17758c10498fc85d8a4d153e264734f566f8578e35175481754568cbeeb9ad523267dc71bd80dcffdad22f3330c8190acb8c081ffef433c938e9a56579bddde3acda9445d1307693e0e16234dc47f8658f76aa552a28852e65ba2d7f57f72c1f257dba106b51366ff9dc13b9d710274de5c1e9e0dabdfe8106c91e5dc3087f3a297bedda9b42ce678c48b9d1dbc45d9bbe32014a85eaeb437c3db69c5b6258fa22a00d0a6ecbf144dcef9147ea297b68c909609a9145e47879063d17c655dd819bbb97e7faf217bf6f7ca5804eada44db27c716c354a31edd6f5a303ad47bd794f9d9bd69a61269ad70337c86c18927ed15dbc946faec078dd6bfb423974f50990764e414733f7cbdfb99f1ea3bda971a9c3230a4e81092dafa9eb50a05b9e5c685aff8b06098383558b7ddca649e75a023efd5501491f3521383639f4f49ea8bcc453fa290265a275656905d52a5ae7c1780494bce663b414b1883454fff8bbcb0d0f599a6c1bc0d1ff0d1ce2a2da8c47f62ee176702f71e97d00f872f5c3eb686f8dadc911b759722211b978d80bc14a50bf22d63a90575ea9501c855460fa2c81e480d5b96eb224962df0395ec291e04a50b17ad04d2da16d2af4b7d7d6897b7d1a2f7dcbfb0d1d79359a38fe766caa20dbd6624742b0555f3679a56e06b3ac773bc7969f062d673dfc9aeeda32c59cc1ba0910c487be6b6d972c522d4ef1f758fa3d9710ec25d91cab9615dff8ab9587bb355265025fe15b34c55007f20eb2feab4cdb0543fbcc4434a0f39c72377085ce3e168f9e97231ae02a90142963aaa103d5d930390a8066122bdd76447d44278d6101afea6a5ce67bc3cbc44ff492e50165d2e5d3e3a6786c87866592c1ddef8cedeff005bbfe8d7a343932f8d730f20d10c8b107472ee2d3e6d84a97e2d4ec6528cd20c122637345a8ebe7b9ba23b845d98cd94cbb6c83f9a05335194086b9c7d18e8e858fa8c3c3b35df50a8b769d92fa3d3c7809b679db78bb6b7562bd190c5b0473fe88361c022f28d4ed25c88606e8ace717147383178a5f084fe991f611257ce7d25887691a0d267fbf9b05f846aee391308499ec3389a1d8fe860d72e3d0075d8ab951432152b014f0195fa9ec300c2ce28bca58c801df272aa114a3a711407b236e42b60716d224d3a5918dc375a9182fb4381ff329ea44b3cf2451bbe66217d2aefe3b0a551d1f17c0c9c7bf31afa3eb49602077495f19943869e454c1c0422a0603249958119c52792dfc5aafcd697785827cbec703723ec59c7628a2e686fd26aa110e7b68037a65a465d582dd53729cbf2ad77b606c3bec65e2eae849cde96a3e2c91fee8a4d61626bd8479465f5df70ec76a131a6a8582c2bd93644bb5b6f3c35fc09764edc3fdc38205fa27e3d7375af6627588cca34cc1b834bb3e43977293122eb0222b298ecf2443b85f1ef5fcb4ff51bc3329876bd2da059d9b74caad0f4d98f34412910ad33a715ce45edd7a63b3c20cc2d624c1b25a8ea82d645d775a769ef291275a9db1a9574884c3ecf51ea0f34fc8bce7257c065b7ece2a6883dc09ba9c18d6586e2362b5c6b32842dc100848188211c6890858c4601bc72756bf9b1bd1026b78eecd024f3194ace5d9d59542feea0106747ec09915ffcad67eeb811719077a223868a02cf4c0252d59beb08bc2252603e77a80f194b0c1556daa5532fef23844f5efd2d1892cf389f93a1d658f25473204d0059bc9fdd9460507eb19c063c5a2a50d1df039ac7634922568bb1a2740b03bccdaa0caf9ab0640e3e2b31d51412ae257ccbf3b00d979a6c44e582b175d43f3343a47833475cc57f2643ae4b8c87ca71718b206b54cf5cbb01fadfe452967b0ec25b0632f190bbfe189648fd0d5b88bd0d925df3ae19bbe836836ad95a48d655f7190c05224225e4318028b3dff8d863fb207fa80c41669b06d064ff3c76320a05924e9c3c63d08b28760bb7a2241b8b6fa25f12b3944eca8b0579be5dae040291f1b16722a91ead09ba291336689d990a1a1ff9e474689c721a128179c94da51f8e061c5c08fe852102d9dda4772521e50baedf5a4a1a098c5ebefd0b05bac74744d1de97d0406aaad9e8a5d64436ed4ae5ceba608719f415ab8b16258f3c617acbb2b9da06e442f42c05d419a86f09b61081a89108c471e11dcb30989db74f6e60e5e1f6514ffce8ec12733994e2d7f91cda2dd53645e9c9328fe93aaa854169eb0f5e363cf5fbb8f1b344d5fc9348aab7fc2ac0a6e31238d4090992141f9c9ed3eec8130cfa8f9dd1906a0f3d6fdfdd8976a0383a70cf91cffaf65314f4c826a0193997cfa3ac9d1a95203b37f31167052ee2307a581f35d1f679c8a434d6281bb961a57f364ea4a40186631562d54608ce3b109ffdfaf1740a3f9b6c19bee497a9844bd9b79b397c3417297e5af9293fc3a864632bdc6edc687f52217d524fef6b1fb5a4db05d9b346bba67b44bc7cc6478e3bace0ad5fc341b272b8dc13a314524d121e8eb2d145a015b2b5a11355a8b0f9daf7ae5d72cb7ed4e791198f8a045a873b3e8557c7aab1a52a9fa0eb3f5dc537f3c43b6120e56553690ca94c77c125f9220235ea43f49028a9e317df45ff7db29a277b8581b6fe18495d10a12df768f76674682671b86d0e3f1d3f4b6eec068ec19cdb87517f736a8bb1192d46dc5def0e2f96f174425e7c06710a82d9936651db698ff3877458d8129679201284c0f1dc106b39da60c089777a2c5b3adb02d973e5d4f040b144187219ac0a803a1b5acde01dadefe443c668cd32d1256091dfc6344822604afdc82b7175e579c305f421438361c8c19a1093abfb32cacf8373f70c4e3d8eaf534b25eedb4bc15853d72909920f2574a973665d90d052dbc2235517dbab70b2ff4bc2e78bdf314b9710db7e00d4324a6de251b9da7d4e2b9ea436ec52fdd12c91e62445bc46add6148030022007759b4bdc4f49f9a9e51da812272f7d56f410d07335ab6244d130e486e9eaee5f2ac3e173dce62b8c05c3573ce28e892919a2432a67a70e36394a3ee7da73a069e01e5ecb5bd6fd95557206369d148bfa1ecacfc80c908e94abba0c1be7b344da074a201d412902f1906959e855da1dc33a34153a4b87e7c6404399fdc424497f83c2046033567a85a291135f8e87305dd0d3792896c7cdbe065c17271a94d664e99f3aba34ccdbc5df7e9fcf452bcd7c4f3f8e08b273a84508096dd64c837dcbc84fdd9da6c3a0497fe77ea328edb010a99fb011fbd57844280394243099ea4e992174a3b61ab03804572c852f58aa4553659c689d05966824a312ae507b839bb4db2d263072222693cc139e5ad370482f305f63cac4007be2123d555e50f5ad7f4ebd6ce91633b27153a1145cda3779c00835eda39fe67cf0339f286c398b12ca29e458af285f869615af3b8fcad5dabd182b7cd56e021c221478d6250bbdfff1a05bb4222e8d23ab69747dd55eca07b89f13155fa994e0d0b43eaca4936b6d0dde8b71ac1528a0a5d99a9735b39475a914defc1ff4011f5cbea68b5e9b71e1bfb698f3ccc25345975ff4d6e109267f4a04be3e1d1c852d843d00689d4023a393885edbfa0624cf4a0ea482e8beab0ed3d49a21cad9a266d340035690bc0eb10e27428cd8e410a40ee76598bfd04dfcdcd56cb54652623720489af2fac26fa85605eb539f10463ee16eed389ab05a257a646a5716c9fb0080449af6e4479d04cf8667629b2c4ff40b161e9300f6fb12ac94e081a9af54037f719eea4ceeb6c5fc16ba9ed7b3775ea7df0e13c073ec672eaa772d1b1a76a8f37aabf0a23a2c07a55ebc82b2407a9d9d09501963ddb191e6b3dd836aea20291634e5cac03f199f80150938d5ae874bf6511b150ac51f2f49e924cdf208f72a9e6228d886ab1fb60e0189c5f5b73c3906d41161eb8f3efe1e0fa3a44867097a81073c28ffee8dfa887eaffdf7300d903cb1d936a7dba73a0d6a731805921bf1d7ff88099a5894d514df54187971011745922e7fe40e823fca3947f6092959e8f08ee26f6842c93834dfea4d8ead37145eeb749245a399da7e002eda94edbda1d5b24eb6c8005932023e569c1a19c236b50f11991bcdfdeee2f3438ec861c2cbfe82b21e6bb40a60e2c964327e74f2acef03eae9831b2d1b5f07d3c9b14524749b8bfcc8e800c859545028f5ac732e7f6cc1b1075280bfb31fe7ba7ca7f31e5fd254ab61f2c1a373a29fd548a4f093e5e7a09cfa0c15bf45f7a1db569896c08dc2bb3f82ab0528fec23be1689d61b2e063966c1182147b6318c2b82648788e56f659e477c8a9ff18f78d6e918c57d34becdb1a46a2711bd4cc3572f5f5643c0bbc51c6b245ea9368055809d63bfe86db802123fe2c11c519825e4d80778d6cad6ca36e9fc84bb9ef2588d22df3fd475ce09e08cf6b414699c4bf0cd833b3f005a88da49426581dd71281602f2acc35bca823580051ee4f884aed3772e1199d627b19b7ef5fc56badf26e392d21ca085096b9cba4823586799e9c627acd15fcecfec29ef2527c5ad257f49915a9b935113161636f2f579b3185c8a4a2a29b93f61d5153baad7f3cb17631c3ca920570336ba5cc212b1fbf578381961744df279e87c20e7633f1ceed0b623d269ff605a02b963deaee1d997f1e99c5ed6f6f88c885b4c9b5c925b0011368d4d0a6cc238b61e278552910c7d574014e4d627bb375a908895a81fe670cb51e86fcaff3227934648e47f23e4dfa39b4dfb450b1490890f6dc6d9fe1c07f76d0cd20458cb715e5591f88971ee3d1554236b6d32aefb4be86d267b780cd9c3b9d359e4c9a0746d2b3f4ecc432f2e49f70af74119b8235951c4cec4d4ecc92931dfaf7a6268f8aed9d397c85a5a0a18e487c10c3d47f029ee4d64adcec3c2616d22588042fd4133b26bc94aac45e0809978014054ab7b49447835be28dc73ff375cc8d94e709eb28efdc0168943757b25311512d41baaf5f1b69fe0c639b28e7d158343736f4d2120ea0bdf82390708eafefdc04ecbfc85afd0f3d3e21ce953f449e1b97893e45ba59d5b1c1e333cf852a6a9e51888706d289cf88807111722572edaf9c06f2c7fb4d0f9fbeec906d802ab6546e6f0c24be558f64c68b21dcb4229e83baaece0997fbefc147514c7c5da5a0b4f64cdf4d580cddfa0276d592bf28a3c9da6994da508e2cb9d958ad894a09c3ae811c2c1467a4db6e09e2f6adb6249aeb404cda7af5c0421d2a33695380902c15992fd91865f030aeb69fd15a9cdac27b55688cdfbc0eef72e4fa5323109972b4a1f04463adf4db1c1a5fb0968fdb86341a87cdcc3e26524afbaaa65bb614cf2d4bec5d4460c3b023237ec9a2b6d2b784d9ded6390d8ea8546162dbc4ed74a7a4a5aa2bb1d62fd9c6d022a207ecfde22b195e678117692df42f32646eb442c1632cf301240d59bdbd921328105274a8ccabe541ccdad9a4e87ceebd9135e430de81edc535cf9039df43c4b40be6b9692b513a007a490c21227e524aca296cb682201d8f8af21495c771f8f46083de31f81648a175ddd4473bfa2abd20e234e87894d1374603030a74dce4066bfa29e2f9df3e755135b7a4b7075185687fcdb5d6aea722920726e315e9f663a44d366600b988a4b6b5568294ba217529b67a2990ae7a7f33673cd28aff2b9095feb84eac2668db8d7bb6c62f821fda539cedf79f6da70efc22749e201ef0672fc138be315c7d9f44cf7af31925a3a84c6424ce554219dc089e72196b4388ff9cd5e177d45f959551440f8b9c4aada5d2e784d3e6acaea305713e7df35903b606cd660d8af7a4feaa84575ae304d40eed639a451dbc78eb12ec425ac6f972c84732d1c76b98cb398b227387ffc9b21662215c1f94c83c68866bc2fe7a9e60438d4d0c6f26f503b51ce0323e16e01f01526f67c9fc1ef879988c761b7d84b6f7d6d1c200e50d3f451d655dff46175e6e858f9e5f0858aa5b8d77aba65ac5d3ae139a2416c35c4318f9b4856d47b3343e54b4893ec4a9569cdc29e500180908f6fcf43b57b1bfd3b6efa4b5d8476e0b88055e3783664ba01b2ba6a9d028796a44167645fc93645fc8acec618b4625dc9e709c5eebb4a76087c4bdf6600ac85e150d802b7bbd1f10f5b2a7a446f166fbc5220525d94a8278cd4031400838131950be5ef7b3962f37ec2bf3c02b12f7f64b169218f46c9c0404a0ae6c81dee4939c575db6395a46d6aef8a374e7ef54180a0dabbab69ca9046a35ba57abb8b868b9b6db0c187119cca00da3b81b3682c0bfaee33a8feecbdec03ba597e01e13584013618108b40a21930181e7f8a98b10e3c72aaf7131a0326795ac3f48bdd1360d87bb84c7bd0a128facc79fc5276f6f08eae9d435c83351906e84ea6889dad23ac0a35c415a5ddb53aa7fcf0caeb9cfd4b667c1f23466b7eae149d10092ba990773880c243342242207515fce3ccce7a28e660a918077d8fbc7633e56fa80ecbef2044af77f243ee3cf7cda27b87f869a858b34def921a891430566c5096c522e0552585d482cd3ddaec38b961dffb0dd1c0a8f51ae0ac52ca0a5c564e076df478fe6402a7442b54f639f0d00563a78b1c33aa0dee90c26bfcf878c6284f9fc411d242121060ed7bc2b55ee2c835de8ab62d711b369bc64ebb812e1db951674b38c74011824260c04251a3c4398d3727dc3bfef58f4931eb3e228c822d6aa73f1033ef431cf96741282a6555315973e20093019dbaaa4023dfc695b307e21f7eb1e1a5ba96ee505c46901f45fc4c2eb0b430aac0a02017a569759e47d90568b27f3c1014cc14694d9603bfae8959d07959c587c19ccd891f1489d05db76a2583a268d615b2905c7690fde77acd775d3f144244d240f2bf7bdc6e788e9a9c4e69a964cf60dffb25bddbd6d1a3f5aee9bb0a30740ed1250f0ecd8a5ef398b2714a2007e77bfd5e58fa6b29cf2a7bf658cf0deb281b37ff519969f0af21e9cdc2f702a8db1aa49a714b7fe8180c4812401e6f72fd90482fd50ccc1198990c60886167af2e5eaef7d360d7b29b456f922ca1d7829013b01fc3ba123301b1de2f75f64ef4aa7c81ef9b69d3ac1f79170818a3f6aae619ebeaf383b712e8ff098bfe1fefc85fdfa379c216853b1d58133444abb18c01794a4faea59d653915f180a8def52118c67c210d556e7f4f06ba2b8e079f271c080927a8f38749ae67f5975f299736d86e7f0d1ad4666546e2ff5b035a3d6726404b4a4f32f9af256dee71daef240dfc80e51ab4753669eb5e094668693c6312d70c6fc3f8c473289921635a60be3bcd730c19b6fe60709ac2f712066b8c663883581c86ee37a1f2952c773a56877087737445a9a58c5b62b50648c511ff3cf1cbabeaf9da11e45d973033add5f881c0dca48900680dcbfad957c5bceeebb81aac2bfff3d820bdf7921cc30dde0b826800040efc23e14359dfa9e8a0caec9c5af5d7c526becf064847d5120c0c6684d20dc8d0634c44aa275f7bea5e49e600dc0de70eacc57ab38b6336bdd35c0a99cdbd9fc060370d8e565a9a73f9e1695fc4fa5e46002ec8513404365b29152883625da4e38ddceaf0639ef16394c384eea3209aa024b8277662ae6b7f1960794272d576d7e70f3aeb8a4febd7df47672a1846bd084e4fb16df90a0a72e777f78abb480216699a4b624171f68eb3649bb661120f1a12ea4672d715856a886f1758a69c357d966acc55e399bb661daf3d0e986c67e59f811a2b5a3bfa34a36154f743857b919e38b73a0813c2289cbdaec24ef3afd71d27c0236fbc66534b1a7329b733cfb08bfe1d720b328365976cbfc7f8b4158fdc6c2449645fd8bad68ae14c5181c4c4091f27d9a6db8ff3696d8a2bb9610d588a3caa75cd14c767af8c687ad4cec2289f0d3581575e125cfafe981b30f4fb862759cf1c6c630034359d92dff8fb73a2ac33d85b96b77e741aff5361badbfde9bc15ff21812da5fc8b908acb0a9ce87a90b61ca8a943d14e30ed74a6112d868f769f7e7c967c9ee27774a08f12eb69e45e873d3341f6455c7bd12b23e4508ae6e4f71c650b0d330c421fc97e949db1e7abd8e5ceabb5c8ddcadfe80be64c8ed5efc475375cf26d7483d89d9073ed805c332140ec893db14855131943fe5b42cfc06e3a2b28ad179fd52aebc53e728409ab307f77dce0debdcb5f1c543a48197836e8411df6b2067ceb61113e374852cdf7d812e29a5c54fe00d741e36e36cc81270d35b260b492928f79fb6b2dbd6ce4bf7d007e8b91f02c3f5851ab89488b1539379b196eb0e801bf5a7bc2cbcc9a443297af86bb2ff3911f9415b871e573ed8ae22800159d3078301fdfd2c7e02e47db472f4cbff213dc38daf6a4ae7fba0e38f2ccdf15d6554434c13d69eabb16d9672f46130fa6bc9a74cc75aa8af6ad6237e897e3aa01e2da8ff8eb1cccbc1090b25fdd6a023598fe0c1675569d697a858e431719cd7cfb061d1500c0770d1f4dc695e32dbf7c0b8c538ede6eb80c1767e39bf9743d7b8643e15dcc1343993568490e6e3412f92984afb46b07241e6648f53716c4fb4aeba016807d757039e3d6353e6feee44db2f79d7f8e1fdf52ed6071a8952d9ad3f7f5759b95803a24adc6df98c9ae4334b33ad21bc86f8c3b38a83a65f00d33eae415962d432913703e0847d6f26f115f306a17be8d27d7cd40cee25b2032fc41d5b24423c0d469c92709703e8635ac22cfd11763dfcbd1b0031880fb5d24c5e6d4a6e184eb42ce48fd49c83289ca54ba8a3925edf435c5eeb6d865e18bc780e3dcddd73912e44cfba1911b37c578a7c1b4410ac42b0d82feb58c5eb8f5d3cd02160fbdf449fe273262ae95b01e4b7bb114fb26bf9639c6332f40190332a41d6ac0861bac3ed92bd491e0589472711ebb9bebc9eb731763f444fab3e245a175737ccee2c74d02ad96d76599e27ce9817d4ba358709b7adfb930cf5cda6be10e01d76620e7e055f01b6980a89f8809ebd5231834dac0ff1c6680e5d946449a2e71509fcaacf412c10636a3080ce3112d7525addcd92a758b45b130183c2d80261d2a97bee055e6bbdb75803f276eb543c60cd9a9d367fe8ea932904fbe2f4</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这篇文章已被作者加密，请输入密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
        <tags>
            
            <tag> unidbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Celery+FastAPI+Redis+supervisord部署爬虫任务</title>
      <link href="/2026/01/16/Celery-FastAPI-Redis-supervisord%E9%83%A8%E7%BD%B2%E7%88%AC%E8%99%AB%E4%BB%BB%E5%8A%A1/"/>
      <url>/2026/01/16/Celery-FastAPI-Redis-supervisord%E9%83%A8%E7%BD%B2%E7%88%AC%E8%99%AB%E4%BB%BB%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>目标：用最少的组件、最清晰的方式，把一个爬虫任务系统从本地跑起来，并能稳定部署。</p></blockquote><p>关键词：FastAPI &#x2F; Celery &#x2F; Redis &#x2F; supervisord</p><h1 id="常见任务需求"><a href="#常见任务需求" class="headerlink" title="常见任务需求"></a>常见任务需求</h1><p>在爬虫或异步任务场景中，常见需求是：</p><blockquote><p>Web 接口负责接收请求（FastAPI）<br>任务异步执行，不阻塞接口（Celery）<br>任务队列和结果存储（Redis）<br>一个命令启动所有进程（supervisord）<br>这套组合的优点只有一句话：<br>成熟、稳定、组件少、可横向扩展</p></blockquote><h1 id="整体架构"><a href="#整体架构" class="headerlink" title="整体架构"></a>整体架构</h1><hr><p>Client<br>  │<br>  ▼<br>FastAPI  ──►  Redis  ◄──  Celery Worker<br>                ▲<br>                │<br>           Task Result &#x2F; Queue</p><hr><ul><li>FastAPI：提供 HTTP API</li><li>Celery：执行爬虫任务</li><li>Redis：Broker + Backend</li><li>supervisord：进程管理</li></ul><h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nix">sz_rc_crawer_pb<span class="hljs-symbol">/</span><br>├── main.py <span class="hljs-comment"># FastAPI 入口</span><br>├── tasks.py <span class="hljs-comment"># Celery 定义</span><br>├── config.py <span class="hljs-comment"># 统一配置加载</span><br>├── conf.yaml <span class="hljs-comment"># 单一配置文件（像 Go viper）</span><br>├── logger_config.py <span class="hljs-comment"># loguru 日志</span><br>├── supervisord.conf <span class="hljs-comment"># 进程管理</span><br>├── logs<span class="hljs-symbol">/</span> <span class="hljs-comment"># 日志目录</span><br></code></pre></td></tr></table></figure><h1 id="统一配置"><a href="#统一配置" class="headerlink" title="统一配置"></a>统一配置</h1><p>conf.yaml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">local:</span><br>    <span class="hljs-attr">app_name:</span> <span class="hljs-string">crawler</span><br><br>    <span class="hljs-attr">log:</span><br>        <span class="hljs-attr">level:</span> <span class="hljs-string">DEBUG</span><br>        <span class="hljs-attr">dir:</span> <span class="hljs-string">logs</span><br><br>    <span class="hljs-attr">celery:</span><br>        <span class="hljs-attr">redis_url:</span> <span class="hljs-string">&quot;redis://localhost:6379/0&quot;</span><br>        <span class="hljs-attr">key_prefix:</span> <span class="hljs-string">&quot;&#123;crawler.local&#125;&quot;</span><br><br><br><span class="hljs-attr">qa:</span><br>    <span class="hljs-attr">app_name:</span> <span class="hljs-string">crawler</span><br><br>    <span class="hljs-attr">log:</span><br>        <span class="hljs-attr">level:</span> <span class="hljs-string">INFO</span><br>        <span class="hljs-attr">dir:</span> <span class="hljs-string">logs</span><br><br>    <span class="hljs-attr">celery:</span><br>        <span class="hljs-attr">redis_url:</span> <span class="hljs-string">&quot;redis://:password@redis-qa.xxx.com:6379/0&quot;</span><br>        <span class="hljs-attr">key_prefix:</span> <span class="hljs-string">&quot;&#123;crawler.qa&#125;&quot;</span><br></code></pre></td></tr></table></figure><p>通过一个环境变量控制：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> APP_ENV=<span class="hljs-built_in">local</span><br></code></pre></td></tr></table></figure><p>config.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> yaml<br><br><br>BASE_DIR = os.path.dirname(os.path.abspath(__file__))<br>ENV = os.getenv(<span class="hljs-string">&quot;APP_ENV&quot;</span>, <span class="hljs-string">&quot;local&quot;</span>)<br><br><br>CONF_PATH = os.path.join(BASE_DIR, <span class="hljs-string">&quot;conf.yaml&quot;</span>)<br><br><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(CONF_PATH, <span class="hljs-string">&quot;r&quot;</span>, encoding=<span class="hljs-string">&quot;utf-8&quot;</span>) <span class="hljs-keyword">as</span> f:<br>raw = yaml.safe_load(f)<br><br><br>conf = raw[ENV]<br></code></pre></td></tr></table></figure><p>特点：</p><ol><li>只有一个配置文件</li><li>不引入一堆 Python 模块</li><li>行为和 viper 非常接近</li></ol><h1 id="日志系统"><a href="#日志系统" class="headerlink" title="日志系统"></a>日志系统</h1><p>logger_config.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> loguru <span class="hljs-keyword">import</span> logger<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> conf<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_logger</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span></span>):<br>    log_dir = conf[<span class="hljs-string">&quot;log&quot;</span>][<span class="hljs-string">&quot;dir&quot;</span>]<br>    os.makedirs(log_dir, exist_ok=<span class="hljs-literal">True</span>)<br>    logger.remove()<br>    logger.add(<br>    sys.stdout,<br>    level=conf[<span class="hljs-string">&quot;log&quot;</span>][<span class="hljs-string">&quot;level&quot;</span>],<br>    <span class="hljs-built_in">format</span>=<span class="hljs-string">&quot;&#123;time&#125; | &#123;level&#125; | &#123;name&#125;:&#123;function&#125;:&#123;line&#125; - &#123;message&#125;&quot;</span>,)<br>    logger.add(<br>    <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;log_dir&#125;</span>/<span class="hljs-subst">&#123;name&#125;</span>_&#123;&#123;time:YYYY-MM-DD&#125;&#125;.log&quot;</span>,<br>    rotation=<span class="hljs-string">&quot;00:00&quot;</span>,<br>    retention=<span class="hljs-string">&quot;30 days&quot;</span>,<br>    level=<span class="hljs-string">&quot;DEBUG&quot;</span>)<br>    <span class="hljs-keyword">return</span> logger<br></code></pre></td></tr></table></figure><h1 id="FastAPI"><a href="#FastAPI" class="headerlink" title="FastAPI"></a>FastAPI</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI<br><span class="hljs-keyword">from</span> logger_config <span class="hljs-keyword">import</span> setup_logger<br><br><br>logger = setup_logger(<span class="hljs-string">&quot;api&quot;</span>)<br>app = FastAPI()<br><br><br><br><span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">&quot;/crawl&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">start_crawl</span>(<span class="hljs-params">keyword: <span class="hljs-built_in">str</span></span>):<br>    task = crawl.delay(keyword)<br>    <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&quot;task_id&quot;</span>: task.<span class="hljs-built_in">id</span>&#125;<br><br><span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">&quot;/task/&#123;task_id&#125;&quot;</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_status</span>(<span class="hljs-params">task_id: <span class="hljs-built_in">str</span></span>):<br>    result = AsyncResult(task_id, app=celery_app)<br>    <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-string">&quot;state&quot;</span>: result.state,<br>        <span class="hljs-string">&quot;result&quot;</span>: result.result<br>    &#125;<br><br></code></pre></td></tr></table></figure><blockquote><p>curl <a href="http://127.0.0.1:8000/crawl">http://127.0.0.1:8000/crawl</a></p></blockquote><h1 id="Celery（爬虫任务执行）"><a href="#Celery（爬虫任务执行）" class="headerlink" title="Celery（爬虫任务执行）"></a>Celery（爬虫任务执行）</h1><p>tasks.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> celery <span class="hljs-keyword">import</span> Celery<br><span class="hljs-keyword">from</span> config <span class="hljs-keyword">import</span> conf<br><span class="hljs-keyword">from</span> logger_config <span class="hljs-keyword">import</span> setup_logger<br><br><br>logger = setup_logger(<span class="hljs-string">&quot;celery&quot;</span>)<br><br><br>celery_app = Celery(<br>conf[<span class="hljs-string">&quot;app_name&quot;</span>],<br>broker=conf[<span class="hljs-string">&quot;celery&quot;</span>][<span class="hljs-string">&quot;redis_url&quot;</span>],<br>backend=conf[<span class="hljs-string">&quot;celery&quot;</span>][<span class="hljs-string">&quot;redis_url&quot;</span>],<br>)<br><br><br><br><br>celery_app.conf.update(<br>broker_transport_options=&#123;<br><span class="hljs-string">&quot;global_keyprefix&quot;</span>: conf[<span class="hljs-string">&quot;celery&quot;</span>][<span class="hljs-string">&quot;key_prefix&quot;</span>],<br><span class="hljs-string">&quot;socket_timeout&quot;</span>: <span class="hljs-number">5</span>,<br>&#125;,<br>worker_disable_rate_limits=<span class="hljs-literal">True</span>,<br>)<br><br><span class="hljs-meta">@celery_app.task</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">crawl</span>(<span class="hljs-params">keyword</span>):<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>        time.sleep(<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> &#123;<span class="hljs-string">&quot;keyword&quot;</span>: keyword, <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;done&quot;</span>&#125;<br><br><br><br>logger.info(<span class="hljs-string">&quot;Celery initialized&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="supervisord"><a href="#supervisord" class="headerlink" title="supervisord"></a>supervisord</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs conf">[supervisord]<br>nodaemon=true<br>environment=APP_ENV=&quot;local&quot;,PYTHONPATH=&quot;.&quot;<br>logfile=logs/supervisord.log<br>pidfile=logs/supervisord.pid<br><br><br>[program:uvicorn]<br>command=uvicorn main:app --host 127.0.0.1 --port 8000<br>directory=.<br>autostart=true<br>autorestart=true<br>stdout_logfile=logs/uvicorn.out.log<br>stderr_logfile=logs/uvicorn.err.log<br><br><br>[program:celery]<br>command=celery -A tasks worker -l info<br>directory=.<br>autostart=true<br>autorestart=true<br>stdout_logfile=logs/celery.out.log<br>stderr_logfile=logs/celery.err.log<br></code></pre></td></tr></table></figure><h1 id="启动方式"><a href="#启动方式" class="headerlink" title="启动方式"></a>启动方式</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">supervisord -c supervisord.conf<br><span class="hljs-comment"># 切环境：</span><br>APP_ENV=qa supervisord -c supervisord.conf<br></code></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>unidbg学习笔记</title>
      <link href="/2026/01/15/unidbg%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2026/01/15/unidbg%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<blockquote><p>均来自龙哥星球</p></blockquote><h1 id="tenet-Trace"><a href="#tenet-Trace" class="headerlink" title="tenet Trace"></a>tenet Trace</h1><p>龙哥星球学习到的。<br>unidbg 使用如下：<br>随便找个目录</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.tenet;<br><br><span class="hljs-keyword">import</span> com.github.unidbg.Emulator;<br><span class="hljs-keyword">import</span> com.github.unidbg.Module;<br><span class="hljs-keyword">import</span> com.github.unidbg.arm.backend.*;<br><span class="hljs-keyword">import</span> com.github.unidbg.arm.context.RegisterContext;<br><span class="hljs-keyword">import</span> unicorn.Arm64Const;<br><br><span class="hljs-keyword">import</span> java.io.PrintStream;<br><span class="hljs-keyword">import</span> java.util.Collections;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TenetTrace</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Emulator&lt;?&gt; emulator;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Module <span class="hljs-keyword">module</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RegisterContext registerContext;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">PrintStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> System.err;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">mRead</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">mWrite</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Map&lt;String, Integer&gt; arm64Regs;<br><br><br>    <span class="hljs-keyword">static</span> &#123;<br>        Map&lt;String,Integer&gt; aMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        aMap.put(<span class="hljs-string">&quot;X0&quot;</span>, Arm64Const.UC_ARM64_REG_X0);<br>        aMap.put(<span class="hljs-string">&quot;X1&quot;</span>, Arm64Const.UC_ARM64_REG_X1);<br>        aMap.put(<span class="hljs-string">&quot;X2&quot;</span>, Arm64Const.UC_ARM64_REG_X2);<br>        aMap.put(<span class="hljs-string">&quot;X3&quot;</span>, Arm64Const.UC_ARM64_REG_X3);<br>        aMap.put(<span class="hljs-string">&quot;X4&quot;</span>, Arm64Const.UC_ARM64_REG_X4);<br>        aMap.put(<span class="hljs-string">&quot;X5&quot;</span>, Arm64Const.UC_ARM64_REG_X5);<br>        aMap.put(<span class="hljs-string">&quot;X6&quot;</span>, Arm64Const.UC_ARM64_REG_X6);<br>        aMap.put(<span class="hljs-string">&quot;X7&quot;</span>, Arm64Const.UC_ARM64_REG_X7);<br>        aMap.put(<span class="hljs-string">&quot;X8&quot;</span>, Arm64Const.UC_ARM64_REG_X8);<br>        aMap.put(<span class="hljs-string">&quot;X9&quot;</span>, Arm64Const.UC_ARM64_REG_X9);<br>        aMap.put(<span class="hljs-string">&quot;X10&quot;</span>, Arm64Const.UC_ARM64_REG_X10);<br>        aMap.put(<span class="hljs-string">&quot;X11&quot;</span>, Arm64Const.UC_ARM64_REG_X11);<br>        aMap.put(<span class="hljs-string">&quot;X12&quot;</span>, Arm64Const.UC_ARM64_REG_X12);<br>        aMap.put(<span class="hljs-string">&quot;X13&quot;</span>, Arm64Const.UC_ARM64_REG_X13);<br>        aMap.put(<span class="hljs-string">&quot;X14&quot;</span>, Arm64Const.UC_ARM64_REG_X14);<br>        aMap.put(<span class="hljs-string">&quot;X15&quot;</span>, Arm64Const.UC_ARM64_REG_X15);<br>        aMap.put(<span class="hljs-string">&quot;X16&quot;</span>, Arm64Const.UC_ARM64_REG_X16);<br>        aMap.put(<span class="hljs-string">&quot;X17&quot;</span>, Arm64Const.UC_ARM64_REG_X17);<br>        aMap.put(<span class="hljs-string">&quot;X18&quot;</span>, Arm64Const.UC_ARM64_REG_X18);<br>        aMap.put(<span class="hljs-string">&quot;X19&quot;</span>, Arm64Const.UC_ARM64_REG_X19);<br>        aMap.put(<span class="hljs-string">&quot;X20&quot;</span>, Arm64Const.UC_ARM64_REG_X20);<br>        aMap.put(<span class="hljs-string">&quot;X21&quot;</span>, Arm64Const.UC_ARM64_REG_X21);<br>        aMap.put(<span class="hljs-string">&quot;X22&quot;</span>, Arm64Const.UC_ARM64_REG_X22);<br>        aMap.put(<span class="hljs-string">&quot;X23&quot;</span>, Arm64Const.UC_ARM64_REG_X23);<br>        aMap.put(<span class="hljs-string">&quot;X24&quot;</span>, Arm64Const.UC_ARM64_REG_X24);<br>        aMap.put(<span class="hljs-string">&quot;X25&quot;</span>, Arm64Const.UC_ARM64_REG_X25);<br>        aMap.put(<span class="hljs-string">&quot;X26&quot;</span>, Arm64Const.UC_ARM64_REG_X26);<br>        aMap.put(<span class="hljs-string">&quot;X27&quot;</span>, Arm64Const.UC_ARM64_REG_X27);<br>        aMap.put(<span class="hljs-string">&quot;X28&quot;</span>, Arm64Const.UC_ARM64_REG_X28);<br>        aMap.put(<span class="hljs-string">&quot;X29&quot;</span>, Arm64Const.UC_ARM64_REG_X29);<br>        aMap.put(<span class="hljs-string">&quot;X30&quot;</span>, Arm64Const.UC_ARM64_REG_X30);<br>        aMap.put(<span class="hljs-string">&quot;SP&quot;</span>, Arm64Const.UC_ARM64_REG_SP);<br>        arm64Regs = Collections.unmodifiableMap(aMap);<br>    &#125;<br>    <span class="hljs-keyword">public</span> Map&lt;String, Long&gt; preRegsValue = <span class="hljs-literal">null</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TenetTrace</span><span class="hljs-params">(Emulator&lt;?&gt; emulator, Module <span class="hljs-keyword">module</span>, PrintStream redirect)</span>&#123;<br>        <span class="hljs-built_in">this</span>.emulator = emulator;<br>        <span class="hljs-built_in">this</span>.<span class="hljs-keyword">module</span> = <span class="hljs-keyword">module</span>;<br>        <span class="hljs-built_in">this</span>.registerContext = emulator.getContext();<br>        <span class="hljs-keyword">if</span> (redirect != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-built_in">this</span>.out = redirect;<br>        &#125;<br>        start();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Map&lt;String, Long&gt; <span class="hljs-title function_">getAllRegister</span><span class="hljs-params">()</span>&#123;<br>        Map&lt;String, Long&gt; regs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : arm64Regs.entrySet()) &#123;<br>            regs.put(entry.getKey(), registerContext.getLongByReg(entry.getValue()));<br>        &#125;<br>        <span class="hljs-keyword">return</span> regs;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Map&lt;String, Long&gt; <span class="hljs-title function_">getDiff</span><span class="hljs-params">(Map&lt;String, Long&gt; nowRegs, Map&lt;String, Long&gt; preRegs)</span>&#123;<br>        <span class="hljs-keyword">if</span>(preRegs == <span class="hljs-literal">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> nowRegs;<br>        &#125;<br>        Map&lt;String, Long&gt; diffRegs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-keyword">for</span> (Map.Entry&lt;String, Integer&gt; entry : arm64Regs.entrySet()) &#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">regName</span> <span class="hljs-operator">=</span> entry.getKey();<br>            <span class="hljs-type">long</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> nowRegs.get(regName);<br>            <span class="hljs-type">long</span> <span class="hljs-variable">pre</span> <span class="hljs-operator">=</span> preRegs.get(regName);<br>            <span class="hljs-keyword">if</span>(now != pre)&#123;<br>                diffRegs.put(regName, now);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> diffRegs;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showRegs</span><span class="hljs-params">(Map&lt;String, Long&gt; regs)</span>&#123;<br>        <span class="hljs-keyword">for</span> (Map.Entry&lt;String, Long&gt; entry : regs.entrySet()) &#123;<br>            out.printf(<span class="hljs-string">&quot;%s=%#X,&quot;</span>, entry.getKey(), entry.getValue());<br>        &#125;<br>        out.printf(<span class="hljs-string">&quot;PC=%#X&quot;</span>, registerContext.getPCPointer().peer);<br>    &#125;<br><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">start</span><span class="hljs-params">()</span>&#123;<br>        emulator.getBackend().hook_add_new(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CodeHook</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hook</span><span class="hljs-params">(Backend backend, <span class="hljs-type">long</span> address, <span class="hljs-type">int</span> size, Object user)</span> &#123;<br>                <span class="hljs-keyword">if</span>(preRegsValue!=<span class="hljs-literal">null</span>)&#123;<br>                    out.println(<span class="hljs-string">&quot;&quot;</span>);<br>                &#125;<br>                Map&lt;String, Long&gt; regs = getAllRegister();<br>                Map&lt;String, Long&gt; diffRegs = getDiff(regs, preRegsValue);<br>                showRegs(diffRegs);<br>                preRegsValue = regs;<br>                out.print(mRead);<br>                out.print(mWrite);<br>                mRead = <span class="hljs-string">&quot;&quot;</span>;<br>                mWrite= <span class="hljs-string">&quot;&quot;</span>;<br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAttach</span><span class="hljs-params">(UnHook unHook)</span> &#123;<br><br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">detach</span><span class="hljs-params">()</span> &#123;<br><br>            &#125;<br>        &#125;, <span class="hljs-keyword">module</span>.base, <span class="hljs-keyword">module</span>.base+<span class="hljs-keyword">module</span>.size, <span class="hljs-literal">null</span>);<br><br><br>        emulator.getBackend().hook_add_new(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ReadHook</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hook</span><span class="hljs-params">(Backend backend, <span class="hljs-type">long</span> address, <span class="hljs-type">int</span> size, Object user)</span> &#123;<br>                <span class="hljs-type">byte</span>[] reads = emulator.getBackend().mem_read(address, size);<br>                <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">&quot;,mr=%#X:%s&quot;</span>, address, bytesToHex(reads));<br>                mRead += content;<br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAttach</span><span class="hljs-params">(UnHook unHook)</span> &#123;<br><br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">detach</span><span class="hljs-params">()</span> &#123;<br><br>            &#125;<br>        &#125;, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>);<br><br>        emulator.getBackend().hook_add_new(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WriteHook</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hook</span><span class="hljs-params">(Backend backend, <span class="hljs-type">long</span> address, <span class="hljs-type">int</span> size, <span class="hljs-type">long</span> value, Object user)</span> &#123;<br>                <span class="hljs-type">byte</span>[] writes = emulator.getBackend().mem_read(address, size);<br>                <span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">&quot;,mw=%#X:%s&quot;</span>, address, bytesToHex(writes));<br>                mWrite += content;<br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onAttach</span><span class="hljs-params">(UnHook unHook)</span> &#123;<br><br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">detach</span><span class="hljs-params">()</span> &#123;<br><br>            &#125;<br>        &#125;, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>);<br><br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">char</span>[] HEX_ARRAY = <span class="hljs-string">&quot;0123456789ABCDEF&quot;</span>.toCharArray();<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">bytesToHex</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] bytes)</span> &#123;<br>        <span class="hljs-type">char</span>[] hexChars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[bytes.length * <span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; bytes.length; j++) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">v</span> <span class="hljs-operator">=</span> bytes[j] &amp; <span class="hljs-number">0xFF</span>;<br>            hexChars[j * <span class="hljs-number">2</span>] = HEX_ARRAY[v &gt;&gt;&gt; <span class="hljs-number">4</span>];<br>            hexChars[j * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>] = HEX_ARRAY[v &amp; <span class="hljs-number">0x0F</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(hexChars);<br>    &#125;<br><br><br>&#125;<br><br></code></pre></td></tr></table></figure><p>使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// save path</span><br><span class="hljs-type">String</span> <span class="hljs-variable">traceFile</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;D:\\traces\\aikucun\\traceOasis.log&quot;</span>;<br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-type">PrintStream</span> <span class="hljs-variable">traceStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrintStream</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(traceFile), <span class="hljs-literal">true</span>);<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">TenetTrace</span>(emulator, <span class="hljs-keyword">module</span>, traceStream);<br>&#125; <span class="hljs-keyword">catch</span> (FileNotFoundException e) &#123;<br>    e.printStackTrace();<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="android-os-SystemProperties-get-Ljava-lang-String-Ljava-lang-String"><a href="#android-os-SystemProperties-get-Ljava-lang-String-Ljava-lang-String" class="headerlink" title="android&#x2F;os&#x2F;SystemProperties-&gt;get(Ljava&#x2F;lang&#x2F;String;)Ljava&#x2F;lang&#x2F;String;"></a>android&#x2F;os&#x2F;SystemProperties-&gt;get(Ljava&#x2F;lang&#x2F;String;)Ljava&#x2F;lang&#x2F;String;</h1><p>adb shell getprop 属性名 即可，比如 adb shell getprop ro.build.id</p><h1 id="Coffee的Unidbg笔记"><a href="#Coffee的Unidbg笔记" class="headerlink" title="Coffee的Unidbg笔记"></a>Coffee的Unidbg笔记</h1><h2 id="Context-如何构造"><a href="#Context-如何构造" class="headerlink" title="Context 如何构造"></a>Context 如何构造</h2><h3 id="方式一：直接-new-Context"><a href="#方式一：直接-new-Context" class="headerlink" title="方式一：直接 new Context"></a>方式一：直接 new Context</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">DvmObject&lt;?&gt; context = vm.resolveClass(<span class="hljs-string">&quot;android/content/Context&quot;</span>).newObject(<span class="hljs-literal">null</span>);<br></code></pre></td></tr></table></figure><h3 id="方式二：完整继承链构造（推荐）"><a href="#方式二：完整继承链构造（推荐）" class="headerlink" title="方式二：完整继承链构造（推荐）"></a>方式二：完整继承链构造（推荐）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">DvmClass</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> vm.resolveClass(<span class="hljs-string">&quot;android/content/Context&quot;</span>);<br><span class="hljs-type">DvmClass</span> <span class="hljs-variable">ContextWrapper</span> <span class="hljs-operator">=</span> vm.resolveClass(<span class="hljs-string">&quot;android/content/ContextWrapper&quot;</span>, context);<br><span class="hljs-type">DvmClass</span> <span class="hljs-variable">Application</span> <span class="hljs-operator">=</span> vm.resolveClass(<span class="hljs-string">&quot;android/app/Application&quot;</span>, ContextWrapper);<br><span class="hljs-keyword">return</span> Application.newObject(signature);<br></code></pre></td></tr></table></figure><h3 id="补-ActivityThread-getApplication-环境"><a href="#补-ActivityThread-getApplication-环境" class="headerlink" title="补 ActivityThread.getApplication 环境"></a>补 ActivityThread.getApplication 环境</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> DvmObject&lt;?&gt; callObjectMethodV(BaseVM vm, DvmObject&lt;?&gt; dvmObject, String signature, VaList vaList) &#123;<br>    <span class="hljs-keyword">switch</span> (signature) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;android/app/ActivityThread-&gt;getApplication()Landroid/app/Application;&quot;</span>: &#123;<br>            <span class="hljs-type">DvmClass</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> vm.resolveClass(<span class="hljs-string">&quot;android/content/Context&quot;</span>);<br>            <span class="hljs-type">DvmClass</span> <span class="hljs-variable">Application</span> <span class="hljs-operator">=</span> vm.resolveClass(<span class="hljs-string">&quot;android/app/Application&quot;</span>, context);<br>            <span class="hljs-keyword">return</span> Application.newObject(signature);<br>        &#125;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;android/content/Context-&gt;getContentResolver()Landroid/content/ContentResolver;&quot;</span>: &#123;<br>            <span class="hljs-keyword">return</span> vm.resolveClass(<span class="hljs-string">&quot;android/content/ContentResolver&quot;</span>).newObject(signature);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.callObjectMethodV(vm, dvmObject, signature, vaList);<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="字符串-字节数组-对象数组-实例对象参数传递"><a href="#字符串-字节数组-对象数组-实例对象参数传递" class="headerlink" title="字符串 &#x2F; 字节数组 &#x2F; 对象数组 &#x2F; 实例对象参数传递"></a>字符串 &#x2F; 字节数组 &#x2F; 对象数组 &#x2F; 实例对象参数传递</h2><blockquote><p><strong>注意</strong><br>JNI 里除了 8 种基本类型，其余对象都必须 <code>vm.addLocalObject()</code></p></blockquote><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">list.add(vm.addLocalObject(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringObject</span>(vm, <span class="hljs-string">&quot;12345&quot;</span>)));<br>list.add(vm.addLocalObject(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StringObject</span>(vm, <span class="hljs-string">&quot;r0ysue&quot;</span>)));<br></code></pre></td></tr></table></figure><h3 id="字节数组"><a href="#字节数组" class="headerlink" title="字节数组"></a>字节数组</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">ByteArray</span> <span class="hljs-variable">plainText</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArray</span>(vm, <span class="hljs-string">&quot;r0ysue&quot;</span>.getBytes(StandardCharsets.UTF_8));<br>list.add(vm.addLocalObject(plainText));<br></code></pre></td></tr></table></figure><h3 id="对象数组构造"><a href="#对象数组构造" class="headerlink" title="对象数组构造"></a>对象数组构造</h3><p>Native 方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">native</span> Object[] main(<span class="hljs-type">int</span> i, Object[] objarr);<br></code></pre></td></tr></table></figure><p>Java 侧：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">StringObject</span> <span class="hljs-variable">input2_1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringObject</span>(vm, <span class="hljs-string">&quot;9b69f861-e054-4bc4-9daf-d36ae205ed3e&quot;</span>);<br><span class="hljs-type">ByteArray</span> <span class="hljs-variable">input2_2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArray</span>(<br>        vm,<br>        <span class="hljs-string">&quot;GET /aggroup/homepage/display __r0ysue&quot;</span>.getBytes(StandardCharsets.UTF_8)<br>);<br><span class="hljs-type">DvmInteger</span> <span class="hljs-variable">input2_3</span> <span class="hljs-operator">=</span> DvmInteger.valueOf(vm, <span class="hljs-number">2</span>);<br><br>vm.addLocalObject(input2_1);<br>vm.addLocalObject(input2_2);<br>vm.addLocalObject(input2_3);<br><br>list.add(vm.addLocalObject(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayObject</span>(input2_1, input2_2, input2_3)));<br></code></pre></td></tr></table></figure><h3 id="实例对象参数不要偷懒传-0"><a href="#实例对象参数不要偷懒传-0" class="headerlink" title="实例对象参数不要偷懒传 0"></a>实例对象参数不要偷懒传 0</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">DvmClass</span> <span class="hljs-variable">cNative</span> <span class="hljs-operator">=</span> vm.resolveClass(<span class="hljs-string">&quot;com/roysue/test623/MainActivity&quot;</span>);<br>DvmObject&lt;?&gt; cnative = cNative.newObject(<span class="hljs-literal">null</span>);<br><br>list.add(vm.getJNIEnv());<br>list.add(cnative.hashCode());<br></code></pre></td></tr></table></figure><hr><h2 id="Thumb-模式调用注意事项"><a href="#Thumb-模式调用注意事项" class="headerlink" title="Thumb 模式调用注意事项"></a>Thumb 模式调用注意事项</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Number</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">module</span>.callFunction(emulator, <span class="hljs-number">0x1E7C</span> + <span class="hljs-number">1</span>, list.toArray())[<span class="hljs-number">0</span>];<br></code></pre></td></tr></table></figure><blockquote><p>仅 <strong>调用 &#x2F; Hook</strong> 需要 <code>+1</code><br>Patch、下断点 <strong>不需要</strong></p></blockquote><hr><h2 id="Patch-方法"><a href="#Patch-方法" class="headerlink" title="Patch 方法"></a>Patch 方法</h2><h3 id="直接写-Opcode"><a href="#直接写-Opcode" class="headerlink" title="直接写 Opcode"></a>直接写 Opcode</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">patchCode</span> <span class="hljs-operator">=</span> <span class="hljs-number">0x4FF00100</span>; <span class="hljs-comment">// mov r0,1</span><br>emulator.getMemory().pointer(<span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x1E86</span>).setInt(<span class="hljs-number">0</span>, patchCode);<br></code></pre></td></tr></table></figure><h3 id="Keystone-汇编-Patch（推荐）"><a href="#Keystone-汇编-Patch（推荐）" class="headerlink" title="Keystone 汇编 Patch（推荐）"></a>Keystone 汇编 Patch（推荐）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Pointer</span> <span class="hljs-variable">pointer</span> <span class="hljs-operator">=</span> UnidbgPointer.pointer(emulator, <span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x1E86</span>);<br><span class="hljs-type">byte</span>[] code = pointer.getByteArray(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>);<br><br><span class="hljs-keyword">try</span> (<span class="hljs-type">Keystone</span> <span class="hljs-variable">keystone</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Keystone</span>(KeystoneArchitecture.Arm, KeystoneMode.ArmThumb)) &#123;<br>    <span class="hljs-type">KeystoneEncoded</span> <span class="hljs-variable">encoded</span> <span class="hljs-operator">=</span> keystone.assemble(<span class="hljs-string">&quot;mov r0,1&quot;</span>);<br>    pointer.write(<span class="hljs-number">0</span>, encoded.getMachineCode(), <span class="hljs-number">0</span>, <span class="hljs-number">4</span>);<br>&#125;<br></code></pre></td></tr></table></figure><hr><h2 id="Unidbg-Hook-示例"><a href="#Unidbg-Hook-示例" class="headerlink" title="Unidbg Hook 示例"></a>Unidbg Hook 示例</h2><h3 id="HookZz-wrap"><a href="#HookZz-wrap" class="headerlink" title="HookZz wrap"></a>HookZz wrap</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java">hookZz.wrap(<span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x1BD0</span> + <span class="hljs-number">1</span>,<br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">WrapCallback</span>&lt;HookZzArm32RegisterContext&gt;() &#123;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">preCall</span><span class="hljs-params">(...)</span> &#123;<br>            <span class="hljs-type">Pointer</span> <span class="hljs-variable">input</span> <span class="hljs-operator">=</span> ctx.getPointerArg(<span class="hljs-number">0</span>);<br>            System.out.println(input.getString(<span class="hljs-number">0</span>));<br>        &#125;<br><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postCall</span><span class="hljs-params">(...)</span> &#123;<br>            <span class="hljs-type">Pointer</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> ctx.getPointerArg(<span class="hljs-number">0</span>);<br>            System.out.println(result.getString(<span class="hljs-number">0</span>));<br>        &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="Inline-Hook（instrument）"><a href="#Inline-Hook（instrument）" class="headerlink" title="Inline Hook（instrument）"></a>Inline Hook（instrument）</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">hookZz.instrument(<span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x315B0</span> + <span class="hljs-number">1</span>,<br>    (emulator, ctx, info) -&gt; &#123;<br>        System.out.println(<span class="hljs-string">&quot;R2=&quot;</span> + ctx.getR2Long());<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="Unicorn-CodeHook"><a href="#Unicorn-CodeHook" class="headerlink" title="Unicorn CodeHook"></a>Unicorn CodeHook</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java">emulator.getBackend().hook_add_new(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CodeHook</span>() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">hook</span><span class="hljs-params">(Backend backend, <span class="hljs-type">long</span> address, <span class="hljs-type">int</span> size, Object user)</span> &#123;<br>        <span class="hljs-keyword">if</span> (address == <span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x9D24</span>) &#123;<br>            <span class="hljs-type">RegisterContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> emulator.getContext();<br>            System.out.println(ctx.getPointerArg(<span class="hljs-number">0</span>).getString(<span class="hljs-number">0</span>));<br>        &#125;<br>    &#125;<br>&#125;, <span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x9D24</span>, <span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x9D28</span>, <span class="hljs-literal">null</span>);<br></code></pre></td></tr></table></figure><hr><h2 id="so-加载与-init"><a href="#so-加载与-init" class="headerlink" title="so 加载与 init"></a>so 加载与 init</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">DalvikModule</span> <span class="hljs-variable">dm</span> <span class="hljs-operator">=</span> vm.loadLibrary(<span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">&quot;libnet_crypto.so&quot;</span>), <span class="hljs-literal">true</span>);<br></code></pre></td></tr></table></figure><blockquote><p><code>false</code> 会导致字符串未解密（init &#x2F; JNI_OnLoad 未执行）</p></blockquote><hr><h2 id="常见补环境示例"><a href="#常见补环境示例" class="headerlink" title="常见补环境示例"></a>常见补环境示例</h2><h3 id="getAppContext"><a href="#getAppContext" class="headerlink" title="getAppContext"></a>getAppContext</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">case</span> <span class="hljs-string">&quot;com/izuiyou/common/base/BaseApplication-&gt;getAppContext()Landroid/content/Context;&quot;</span>:<br>    <span class="hljs-keyword">return</span> vm.resolveClass(<span class="hljs-string">&quot;android/content/Context&quot;</span>).newObject(<span class="hljs-literal">null</span>);<br></code></pre></td></tr></table></figure><h3 id="Debug-检测"><a href="#Debug-检测" class="headerlink" title="Debug 检测"></a>Debug 检测</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">case</span> <span class="hljs-string">&quot;android/os/Debug-&gt;isDebuggerConnected()Z&quot;</span>:<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br></code></pre></td></tr></table></figure><h3 id="PID"><a href="#PID" class="headerlink" title="PID"></a>PID</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">case</span> <span class="hljs-string">&quot;android/os/Process-&gt;myPid()I&quot;</span>:<br>    <span class="hljs-keyword">return</span> emulator.getPid();<br></code></pre></td></tr></table></figure><h3 id="Map-get-isEmpty"><a href="#Map-get-isEmpty" class="headerlink" title="Map.get &#x2F; isEmpty"></a>Map.get &#x2F; isEmpty</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">TreeMap&lt;String, String&gt; map = (TreeMap&lt;String, String&gt;) dvmObject.getValue();<br><span class="hljs-keyword">return</span> map.get(key);<br></code></pre></td></tr></table></figure><h3 id="Throwable-初始化"><a href="#Throwable-初始化" class="headerlink" title="Throwable 初始化"></a>Throwable 初始化</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">case</span> <span class="hljs-string">&quot;java/lang/Throwable-&gt;&lt;init&gt;()V&quot;</span>:<br>    <span class="hljs-keyword">return</span> vm.resolveClass(<span class="hljs-string">&quot;java/lang/Throwable&quot;</span>).newObject(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>());<br></code></pre></td></tr></table></figure><hr><h2 id="内存-Hexdump（类似-Frida）"><a href="#内存-Hexdump（类似-Frida）" class="headerlink" title="内存 Hexdump（类似 Frida）"></a>内存 Hexdump（类似 Frida）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">Inspector.inspect(ctx.getR0Pointer().getByteArray(<span class="hljs-number">0</span>, <span class="hljs-number">0x10</span>), <span class="hljs-string">&quot;Arg1&quot;</span>);<br>ctx.push(ctx.getR2Pointer());<br></code></pre></td></tr></table></figure><hr><h2 id="主动调用-Native-函数"><a href="#主动调用-Native-函数" class="headerlink" title="主动调用 Native 函数"></a>主动调用 Native 函数</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">MemoryBlock</span> <span class="hljs-variable">block</span> <span class="hljs-operator">=</span> emulator.getMemory().malloc(<span class="hljs-number">16</span>, <span class="hljs-literal">false</span>);<br><span class="hljs-type">UnidbgPointer</span> <span class="hljs-variable">ptr</span> <span class="hljs-operator">=</span> block.getPointer();<br>ptr.write(<span class="hljs-string">&quot;r0ysue&quot;</span>.getBytes());<br><br><span class="hljs-keyword">module</span>.callFunction(emulator, <span class="hljs-number">0x65540</span> + <span class="hljs-number">1</span>, ptr, <span class="hljs-number">6</span>, outPtr);<br></code></pre></td></tr></table></figure><hr><h2 id="断点与-Trace"><a href="#断点与-Trace" class="headerlink" title="断点与 Trace"></a>断点与 Trace</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">emulator.attach().addBreakPoint(<span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x3161E</span>);<br>emulator.traceCode(<span class="hljs-keyword">module</span>.base, <span class="hljs-keyword">module</span>.base + <span class="hljs-keyword">module</span>.size);<br></code></pre></td></tr></table></figure><hr><h2 id="开启全部日志"><a href="#开启全部日志" class="headerlink" title="开启全部日志"></a>开启全部日志</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Logger.getLogger(<span class="hljs-string">&quot;com.github.unidbg.AbstractEmulator&quot;</span>).setLevel(Level.DEBUG);<br></code></pre></td></tr></table></figure><hr><h2 id="注册-libAndroid-so"><a href="#注册-libAndroid-so" class="headerlink" title="注册 libAndroid.so"></a>注册 libAndroid.so</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">new</span> <span class="hljs-title class_">AndroidModule</span>(emulator, vm).register(memory);<br></code></pre></td></tr></table></figure><blockquote><p>必须在 <code>vm.loadLibrary</code> <strong>之前</strong></p></blockquote><hr><h2 id="Console-Debugger-常用命令"><a href="#Console-Debugger-常用命令" class="headerlink" title="Console Debugger 常用命令"></a>Console Debugger 常用命令</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">c / n / si / bt<br>trace / b(address) / p(asm) / m(address)<br></code></pre></td></tr></table></figure><hr><h2 id="JNI-Version-错误说明"><a href="#JNI-Version-错误说明" class="headerlink" title="JNI Version 错误说明"></a>JNI Version 错误说明</h2><blockquote><p>通常是 JNI_OnLoad 未完全执行<br>修完其他问题后再看</p></blockquote><hr><h2 id="固定-PID（可选）"><a href="#固定-PID（可选）" class="headerlink" title="固定 PID（可选）"></a>固定 PID（可选）</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-built_in">this</span>.pid = <span class="hljs-number">23638</span>;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>unidbg随机数因子</title>
      <link href="/2026/01/14/unidbg%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%9B%A0%E5%AD%90/"/>
      <url>/2026/01/14/unidbg%E9%9A%8F%E6%9C%BA%E6%95%B0%E5%9B%A0%E5%AD%90/</url>
      
        <content type="html"><![CDATA[<h1 id="ARM64SyscallHandler"><a href="#ARM64SyscallHandler" class="headerlink" title="ARM64SyscallHandler"></a>ARM64SyscallHandler</h1><p>原始</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_REALTIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_MONOTONIC</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_THREAD_CPUTIME_ID</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_MONOTONIC_RAW</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_MONOTONIC_COARSE</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_BOOTTIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">nanoTime</span> <span class="hljs-operator">=</span> System.nanoTime();<br><br><span class="hljs-keyword">protected</span> <span class="hljs-type">int</span> <span class="hljs-title function_">clock_gettime</span><span class="hljs-params">(Emulator&lt;?&gt; emulator)</span> &#123;<br>    <span class="hljs-type">RegisterContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> emulator.getContext();<br>    <span class="hljs-type">int</span> <span class="hljs-variable">clk_id</span> <span class="hljs-operator">=</span> context.getIntArg(<span class="hljs-number">0</span>) &amp; <span class="hljs-number">0x7</span>;<br>    <span class="hljs-type">Pointer</span> <span class="hljs-variable">tp</span> <span class="hljs-operator">=</span> context.getPointerArg(<span class="hljs-number">1</span>);<br>    <span class="hljs-type">long</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> clk_id == CLOCK_REALTIME ? currentTimeMillis() * <span class="hljs-number">1000000L</span> : System.nanoTime() - nanoTime;<br>    <span class="hljs-type">long</span> <span class="hljs-variable">tv_sec</span> <span class="hljs-operator">=</span> offset / <span class="hljs-number">1000000000L</span>;<br>    <span class="hljs-type">long</span> <span class="hljs-variable">tv_nsec</span> <span class="hljs-operator">=</span> offset % <span class="hljs-number">1000000000L</span>;<br>    <span class="hljs-keyword">if</span> (log.isDebugEnabled()) &#123;<br>        log.debug(<span class="hljs-string">&quot;clock_gettime clk_id=&#123;&#125;, tp=&#123;&#125;, offset=&#123;&#125;, tv_sec=&#123;&#125;, tv_nsec=&#123;&#125;&quot;</span>, clk_id, tp, offset, tv_sec, tv_nsec);<br>    &#125;<br>    <span class="hljs-keyword">switch</span> (clk_id) &#123;<br>        <span class="hljs-keyword">case</span> CLOCK_REALTIME:<br>        <span class="hljs-keyword">case</span> CLOCK_MONOTONIC:<br>        <span class="hljs-keyword">case</span> CLOCK_THREAD_CPUTIME_ID:<br>        <span class="hljs-keyword">case</span> CLOCK_MONOTONIC_RAW:<br>        <span class="hljs-keyword">case</span> CLOCK_MONOTONIC_COARSE:<br>        <span class="hljs-keyword">case</span> CLOCK_BOOTTIME:<br>            tp.setLong(<span class="hljs-number">0</span>, tv_sec);<br>            tp.setLong(<span class="hljs-number">8</span>, tv_nsec);<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (log.isDebugEnabled()) &#123;<br>        emulator.attach().debug();<br>        &#125;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnsupportedOperationException</span>(<span class="hljs-string">&quot;clk_id=&quot;</span> + clk_id);<br>    &#125;<br><br></code></pre></td></tr></table></figure><p>更改后</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_REALTIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_MONOTONIC</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_THREAD_CPUTIME_ID</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_MONOTONIC_RAW</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_MONOTONIC_COARSE</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_BOOTTIME</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_TIMES_0</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">CLOCK_TIMES_1</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">nanoTime</span> <span class="hljs-operator">=</span> System.nanoTime();<br><br>List&lt;Long&gt; list0 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Long&gt;() &#123;&#123;<br>    add(<span class="hljs-number">1765768512725878000L</span>);<br>    add(<span class="hljs-number">1765768512823353000L</span>);<br>    add(<span class="hljs-number">1765768512916020000L</span>);<br>    add(<span class="hljs-number">1765768513012195000L</span>);<br>    add(<span class="hljs-number">1765768513108126000L</span>);<br>&#125;&#125;;<br>List&lt;Long&gt; list1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Long&gt;() &#123;&#123;<br>    add(<span class="hljs-number">18136934846099106L</span>);<br>    add(<span class="hljs-number">18136934848744287L</span>);<br>    add(<span class="hljs-number">18136934849180744L</span>);<br>    add(<span class="hljs-number">18136934850204595L</span>);<br>    add(<span class="hljs-number">18136934850400232L</span>);<br>    add(<span class="hljs-number">18136934850362437L</span>);<br>    add(<span class="hljs-number">18136934850687493L</span>);<br>&#125;&#125;;<br><br><span class="hljs-keyword">protected</span> <span class="hljs-type">int</span> <span class="hljs-title function_">clock_gettime</span><span class="hljs-params">(Emulator&lt;?&gt; emulator)</span> &#123;<br>    <span class="hljs-type">RegisterContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> emulator.getContext();<br>    <span class="hljs-type">int</span> <span class="hljs-variable">clk_id</span> <span class="hljs-operator">=</span> context.getIntArg(<span class="hljs-number">0</span>) &amp; <span class="hljs-number">0x7</span>;<br>    <span class="hljs-type">Pointer</span> <span class="hljs-variable">tp</span> <span class="hljs-operator">=</span> context.getPointerArg(<span class="hljs-number">1</span>);<br>    <span class="hljs-type">long</span> <span class="hljs-variable">offset0</span> <span class="hljs-operator">=</span> clk_id == CLOCK_REALTIME ? currentTimeMillis() * <span class="hljs-number">1000000L</span> : System.nanoTime() - nanoTime;<br>    <span class="hljs-keyword">if</span> (clk_id == <span class="hljs-number">0</span>) &#123;<br>        CLOCK_TIMES_0 += <span class="hljs-number">1</span>;<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (clk_id == <span class="hljs-number">1</span>) &#123;<br>        CLOCK_TIMES_1 += <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-type">long</span> offset;<br>    <span class="hljs-keyword">if</span> (CLOCK_TIMES_0 &lt;= <span class="hljs-number">5</span> &amp;&amp; clk_id == <span class="hljs-number">0</span>) &#123;<br>        offset = list0.get(CLOCK_TIMES_0 - <span class="hljs-number">1</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (CLOCK_TIMES_1 &lt;= <span class="hljs-number">10</span> &amp;&amp; clk_id == <span class="hljs-number">1</span>) &#123;<br>        offset = list1.get(CLOCK_TIMES_1 - <span class="hljs-number">1</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        offset = offset0;<br>    &#125;<br><br>    System.out.println(<span class="hljs-string">&quot;\n==========&gt; offset0= &quot;</span> + offset0 + <span class="hljs-string">&quot;==============\n&quot;</span>);<br><br>    <span class="hljs-type">long</span> <span class="hljs-variable">tv_sec</span> <span class="hljs-operator">=</span> offset / <span class="hljs-number">1000000000L</span>;<br>    <span class="hljs-type">long</span> <span class="hljs-variable">tv_nsec</span> <span class="hljs-operator">=</span> offset % <span class="hljs-number">1000000000L</span>;<br>    <span class="hljs-keyword">if</span> (log.isDebugEnabled()) &#123;<br>        log.debug(<span class="hljs-string">&quot;clock_gettime clk_id=&#123;&#125;, tp=&#123;&#125;, offset=&#123;&#125;, tv_sec=&#123;&#125;, tv_nsec=&#123;&#125;&quot;</span>, clk_id, tp, offset, tv_sec, tv_nsec);<br>    &#125;<br>    <span class="hljs-keyword">switch</span> (clk_id) &#123;<br>        <span class="hljs-keyword">case</span> CLOCK_REALTIME:<br>        <span class="hljs-keyword">case</span> CLOCK_MONOTONIC:<br>        <span class="hljs-keyword">case</span> CLOCK_THREAD_CPUTIME_ID:<br>        <span class="hljs-keyword">case</span> CLOCK_MONOTONIC_RAW:<br>        <span class="hljs-keyword">case</span> CLOCK_MONOTONIC_COARSE:<br>        <span class="hljs-keyword">case</span> CLOCK_BOOTTIME:<br>            tp.setLong(<span class="hljs-number">0</span>, tv_sec);<br>            tp.setLong(<span class="hljs-number">8</span>, tv_nsec);<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (log.isDebugEnabled()) &#123;<br>        emulator.attach().debug();<br>    &#125;<br>    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UnsupportedOperationException</span>(<span class="hljs-string">&quot;clk_id=&quot;</span> + clk_id);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="UnixSyscallHandler"><a href="#UnixSyscallHandler" class="headerlink" title="UnixSyscallHandler"></a>UnixSyscallHandler</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">protected</span> <span class="hljs-type">long</span> <span class="hljs-title function_">currentTimeMillis</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-comment">//     return System.currentTimeMillis();</span><br>    System.out.println(<span class="hljs-string">&quot;固定时间戳:&quot;</span> + <span class="hljs-number">1700000000000L</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1700000000000L</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="RandomFileIO"><a href="#RandomFileIO" class="headerlink" title="RandomFileIO"></a>RandomFileIO</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.github.unidbg.linux.file;<br><br><span class="hljs-keyword">import</span> com.github.unidbg.Emulator;<br><span class="hljs-keyword">import</span> com.github.unidbg.arm.backend.Backend;<br><span class="hljs-keyword">import</span> com.github.unidbg.file.linux.IOConstants;<br><span class="hljs-keyword">import</span> com.sun.jna.Pointer;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.concurrent.ThreadLocalRandom;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RandomFileIO</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">DriverFileIO</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RandomFileIO</span><span class="hljs-params">(Emulator&lt;?&gt; emulator, String path)</span> &#123;<br>        <span class="hljs-built_in">super</span>(emulator, IOConstants.O_RDONLY, path);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">toHex</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] bytes)</span> &#123;<br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">hexString</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">byte</span> b : bytes) &#123;<br>            hexString.append(String.format(<span class="hljs-string">&quot;%02x &quot;</span>, b));<br>        &#125;<br>        <span class="hljs-keyword">return</span> hexString.toString().trim();<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">read</span><span class="hljs-params">(Backend backend, Pointer buffer, <span class="hljs-type">int</span> count)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">byte</span>[] buf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[Math.min(<span class="hljs-number">0x1000</span>, count)];<br>        randBytes(buf);<br>        System.out.println(<span class="hljs-string">&quot;固定随机数:&quot;</span> + toHex(buf));<br>        <span class="hljs-type">Pointer</span> <span class="hljs-variable">pointer</span> <span class="hljs-operator">=</span> buffer;<br>        <span class="hljs-keyword">while</span> (total &lt; count) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">read</span> <span class="hljs-operator">=</span> Math.min(buf.length, count - total);<br>            pointer.write(<span class="hljs-number">0</span>, buf, <span class="hljs-number">0</span>, read);<br>            total += read;<br>            pointer = pointer.share(read);<br>        &#125;<br>        <span class="hljs-keyword">return</span> total;<br><br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">byte</span>[] FIXED_RANDOM_BYTES = &#123;<br>            (<span class="hljs-type">byte</span>) <span class="hljs-number">0x12</span>, (<span class="hljs-type">byte</span>) <span class="hljs-number">0x34</span>, (<span class="hljs-type">byte</span>) <span class="hljs-number">0x56</span>, (<span class="hljs-type">byte</span>) <span class="hljs-number">0x78</span>,<br>            (<span class="hljs-type">byte</span>) <span class="hljs-number">0x9A</span>, (<span class="hljs-type">byte</span>) <span class="hljs-number">0xBC</span>, (<span class="hljs-type">byte</span>) <span class="hljs-number">0xDE</span>, (<span class="hljs-type">byte</span>) <span class="hljs-number">0xF0</span><br>    &#125;;<br><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">randBytes</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] bytes)</span> &#123;<br>        <span class="hljs-keyword">if</span> (bytes == <span class="hljs-literal">null</span> || bytes.length == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; bytes.length; i++) &#123;<br>            bytes[i] = FIXED_RANDOM_BYTES[i % FIXED_RANDOM_BYTES.length];<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> unidbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MCP、dify、扣子、魔塔到底是什么？</title>
      <link href="/2025/12/25/%E4%BD%95%E4%B8%BA%E6%89%A3%E5%AD%90%E3%80%81dify%E3%80%81mcp/"/>
      <url>/2025/12/25/%E4%BD%95%E4%B8%BA%E6%89%A3%E5%AD%90%E3%80%81dify%E3%80%81mcp/</url>
      
        <content type="html"><![CDATA[<h2 id="MCP-是什么？"><a href="#MCP-是什么？" class="headerlink" title="MCP 是什么？"></a><strong>MCP</strong> 是什么？</h2><h3 id="先一句话解释（最重要）"><a href="#先一句话解释（最重要）" class="headerlink" title="先一句话解释（最重要）"></a>先一句话解释（最重要）</h3><blockquote><p><strong>MCP &#x3D; 让 AI“会用你们公司系统 &#x2F; 数据 &#x2F; 接口”的一种标准方式</strong></p></blockquote><p>就像给 AI <strong>装插件、接外脑、连工具</strong>。</p><hr><h3 id="用一个生活比喻"><a href="#用一个生活比喻" class="headerlink" title="用一个生活比喻"></a>用一个生活比喻</h3><p>你可以把 AI（比如 ChatGPT）想成一个<strong>很聪明但被关在房间里的人</strong>：</p><ul><li>它会聊天、会写东西</li><li>❌ 但<strong>不知道你们公司的数据库</strong></li><li>❌ 不能直接查你们的系统</li><li>❌ 不能调用你们的接口</li></ul><p>👉 <strong>MCP 就是给它一部“公司内部电话 + 工具说明书”</strong></p><hr><h3 id="MCP-到底在干嘛（稍微技术一点）"><a href="#MCP-到底在干嘛（稍微技术一点）" class="headerlink" title="MCP 到底在干嘛（稍微技术一点）"></a>MCP 到底在干嘛（稍微技术一点）</h3><p><strong>MCP（Model Context Protocol）</strong> 是一种协议，用来：</p><ul><li><p>告诉 AI：</p><ul><li>👉 有哪些工具</li><li>👉 每个工具怎么用</li><li>👉 什么时候该用哪个工具</li></ul></li><li><p>AI 决定后</p><ul><li>👉 自动调用接口</li><li>👉 拿到结果</li><li>👉 再用自然语言回复人</li></ul></li></ul><p><strong>核心目标</strong>：</p><blockquote><p>❌ 不只是“聊天的 AI”<br>✅ 而是“能干活的 AI”</p></blockquote><hr><h3 id="“项目MCP”通常是什么意思？"><a href="#“项目MCP”通常是什么意思？" class="headerlink" title="“项目MCP”通常是什么意思？"></a>“项目MCP”通常是什么意思？</h3><p>结合真实工作场景，<strong>99% 不是让你发明协议</strong>，而是：</p><blockquote><p>👉 <strong>把你们的系统 &#x2F; 接口 &#x2F; 数据，接给 AI 用</strong></p></blockquote><p>常见任务包括：</p><ul><li><p>把某个接口包装成 MCP tool</p></li><li><p>让 AI 能：</p><ul><li>查数据</li><li>查订单</li><li>查用户信息</li><li>调内部 API</li></ul></li><li><p>写配置 &#x2F; 写描述，让 AI 知道：</p><ul><li>这个接口是干嘛的</li><li>参数怎么填</li><li>返回结果怎么看</li></ul></li></ul><p>📌 <strong>简单说：让 AI 会用你们的接口</strong></p><hr><h2 id="什么是-Dify？"><a href="#什么是-Dify？" class="headerlink" title="什么是 Dify？"></a>什么是 Dify？</h2><h3 id="一句话解释"><a href="#一句话解释" class="headerlink" title="一句话解释"></a>一句话解释</h3><blockquote><p><strong>Dify &#x3D; 一个“做 AI 应用的平台”，不用从零写代码</strong></p></blockquote><hr><h3 id="生活比喻"><a href="#生活比喻" class="headerlink" title="生活比喻"></a>生活比喻</h3><ul><li>MCP：插头 &#x2F; 插座标准</li><li>Dify：<strong>AI 应用“搭积木平台”</strong></li></ul><p>你可以在 Dify 里：</p><ul><li><p>接大模型（GPT、Claude、通义、百川等）</p></li><li><p>配提示词</p></li><li><p>接数据库 &#x2F; API</p></li><li><p>做：</p><ul><li>AI 客服</li><li>AI 助手</li><li>内部 AI 工具</li></ul></li></ul><hr><h3 id="Dify-和-MCP-的关系"><a href="#Dify-和-MCP-的关系" class="headerlink" title="Dify 和 MCP 的关系"></a>Dify 和 MCP 的关系</h3><p>✔ <strong>Dify 支持 MCP</strong></p><p>也就是说：</p><ul><li>MCP：<strong>能力标准</strong></li><li>Dify：<strong>落地平台</strong></li></ul><p>👉 很多公司是：<br><strong>用 Dify + MCP，把内部系统接给 AI</strong></p><hr><h2 id="什么是「扣子（Coze-扣子）」？"><a href="#什么是「扣子（Coze-扣子）」？" class="headerlink" title="什么是「扣子（Coze &#x2F; 扣子）」？"></a>什么是「扣子（Coze &#x2F; 扣子）」？</h2><h3 id="一句话解释-1"><a href="#一句话解释-1" class="headerlink" title="一句话解释"></a>一句话解释</h3><blockquote><p><strong>扣子 &#x3D; 字节跳动出的 AI 应用平台（偏产品&#x2F;业务）</strong></p></blockquote><hr><h3 id="Dify-的区别（超重要）"><a href="#Dify-的区别（超重要）" class="headerlink" title="Dify 的区别（超重要）"></a>Dify 的区别（超重要）</h3><table><thead><tr><th>对比</th><th>扣子</th><th>Dify</th></tr></thead><tbody><tr><td>公司</td><td>字节跳动</td><td>开源社区</td></tr><tr><td>上手</td><td>非常简单</td><td>稍微技术一点</td></tr><tr><td>定位</td><td>产品 &#x2F; 运营 &#x2F; 业务</td><td>技术 &#x2F; 企业</td></tr><tr><td>可控性</td><td>一般</td><td>很高</td></tr><tr><td>私有部署</td><td>❌</td><td>✅</td></tr></tbody></table><p>👉 <strong>扣子更像“AI 低代码工具”</strong><br>👉 <strong>Dify 更像“企业级 AI 平台”</strong></p><hr><h3 id="扣子适合谁？"><a href="#扣子适合谁？" class="headerlink" title="扣子适合谁？"></a>扣子适合谁？</h3><ul><li>产品经理</li><li>运营</li><li>不太写代码的人</li><li>快速做 Demo &#x2F; 机器人</li></ul><hr><h2 id="什么是-ModelScope（魔搭）？"><a href="#什么是-ModelScope（魔搭）？" class="headerlink" title="什么是 ModelScope（魔搭）？"></a>什么是 ModelScope（魔搭）？</h2><h3 id="一句话解释-2"><a href="#一句话解释-2" class="headerlink" title="一句话解释"></a>一句话解释</h3><blockquote><p><strong>ModelScope &#x3D; 阿里出的“AI 模型商店 + 工具箱”</strong></p></blockquote><hr><h3 id="它是干嘛的？"><a href="#它是干嘛的？" class="headerlink" title="它是干嘛的？"></a>它是干嘛的？</h3><p>你可以把它理解成：</p><blockquote><p><strong>AI 版的 GitHub + 应用市场</strong></p></blockquote><p>里面有：</p><ul><li><p>各种模型：</p><ul><li>NLP</li><li>语音</li><li>图像</li></ul></li><li><p>示例代码</p></li><li><p>数据集</p></li><li><p>推理服务</p></li></ul><hr><h3 id="ModelScope-和前面的关系"><a href="#ModelScope-和前面的关系" class="headerlink" title="ModelScope 和前面的关系"></a>ModelScope 和前面的关系</h3><ul><li>❌ 它不是做 AI 应用的</li><li>✅ 它是<strong>模型和技术资源平台</strong></li></ul><p>常见用途：</p><ul><li>技术选型</li><li>找国产模型</li><li>离线 &#x2F; 私有部署</li></ul><hr><h2 id="把这几个东西放一起，你就懂了"><a href="#把这几个东西放一起，你就懂了" class="headerlink" title="把这几个东西放一起，你就懂了"></a>把这几个东西放一起，你就懂了</h2><h3 id="一张“人话版”全景图"><a href="#一张“人话版”全景图" class="headerlink" title="一张“人话版”全景图"></a>一张“人话版”全景图</h3><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs nix">[ ModelScope ]<br>   ↑ 提供模型<br><br>[ 大模型（GPT <span class="hljs-symbol">/</span> 通义 <span class="hljs-symbol">/</span> 百川） ]<br>   ↑ 能力<br><br>[ MCP ]<br>   ↑ 让模型能用工具 <span class="hljs-symbol">/</span> 接口<br><br>[ Dify <span class="hljs-symbol">/</span> 扣子 ]<br>   ↑ 把能力做成应用<br><br>[ 你们公司的系统 <span class="hljs-symbol">/</span> 数据 <span class="hljs-symbol">/</span> API ]<br></code></pre></td></tr></table></figure><hr><h2 id="一句话总结"><a href="#一句话总结" class="headerlink" title="一句话总结"></a>一句话总结</h2><ul><li><strong>MCP</strong>：让 AI 会用工具</li><li><strong>Dify</strong>：做 AI 应用的平台</li><li><strong>扣子</strong>：更偏业务的 AI 搭建工具</li><li><strong>ModelScope</strong>：模型和技术资源库</li></ul>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>jtype+unidbg</title>
      <link href="/2025/12/11/jtype-unidbg/"/>
      <url>/2025/12/11/jtype-unidbg/</url>
      
        <content type="html"><![CDATA[<h1 id="Jtype-unidbg打包调用"><a href="#Jtype-unidbg打包调用" class="headerlink" title="Jtype &amp;&amp; unidbg打包调用"></a>Jtype &amp;&amp; unidbg打包调用</h1><p>点击文件 ——&gt; 项目结构</p><p><img src="https://s2.loli.net/2025/08/14/peKEB8Y2AsLDgxP.png"></p><p>共件 ——&gt; 添加</p><p><img src="https://s2.loli.net/2025/08/14/QxFp8CvVsRrfUgJ.png"></p><p>然后选择带有依赖的模块</p><p><img src="https://s2.loli.net/2025/08/14/1QLolnMOCh8EK5c.png"></p><p>类似于下文点击</p><p><img src="https://s2.loli.net/2025/08/14/BFOEogXbsVJiezt.png"></p><p>修改包名</p><p><img src="https://s2.loli.net/2025/08/14/uMmvzZQ2l7NrKGB.png"></p><p>然后点击构建工件</p><p><img src="https://s2.loli.net/2025/08/14/PntmgDdyLpeZlqz.png"></p>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> unidbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pip与requirements.txt</title>
      <link href="/2025/11/21/pip%E4%B8%8Erequirements-txt/"/>
      <url>/2025/11/21/pip%E4%B8%8Erequirements-txt/</url>
      
        <content type="html"><![CDATA[<h1 id="导出全部已安装包"><a href="#导出全部已安装包" class="headerlink" title="导出全部已安装包"></a>导出全部已安装包</h1><p>使用pip freeze命令可快速导出当前Python环境中所有已安装的包及其版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip freeze &gt; requirements.txt<br></code></pre></td></tr></table></figure><h1 id="导出格式化的requirements-txt"><a href="#导出格式化的requirements-txt" class="headerlink" title="导出格式化的requirements.txt"></a>导出格式化的requirements.txt</h1><p>为了使requirements.txt文件更易于阅读，可以使用以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip freeze | grep -v <span class="hljs-string">&#x27;^-e&#x27;</span> &gt; requirements.txt<br></code></pre></td></tr></table></figure><h1 id="导出非本地开发包"><a href="#导出非本地开发包" class="headerlink" title="导出非本地开发包"></a>导出非本地开发包</h1><p>通过grep过滤掉非标准包（如本地开发包）：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">pip <span class="hljs-keyword">freeze</span> | grep -v &quot; @ &quot; &gt; requirements.txt<br><br>pip list <span class="hljs-comment">--format=freeze | grep -v &#x27;pkg-resources==0.0.0&#x27; &gt; requirements.txt</span><br><br><br></code></pre></td></tr></table></figure><p>这条命令会过滤掉任何以’-e’开头的行（通常是本地开发路径），只保留实际的包和版本信息。</p><h1 id="安装全部包"><a href="#安装全部包" class="headerlink" title="安装全部包"></a>安装全部包</h1><p>使用pip install命令可快速安装requirements.txt文件中列出的所有包及其版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install -r requirements.txt<br></code></pre></td></tr></table></figure><h1 id="更新单个包"><a href="#更新单个包" class="headerlink" title="更新单个包"></a>更新单个包</h1><p>如果要更新单个包，可以使用以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install --upgrade &lt;package_name&gt;<br></code></pre></td></tr></table></figure><p>例如，要更新Django到最新版本，可以运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install --upgrade Django<br></code></pre></td></tr></table></figure><h1 id="导出特定包的版本"><a href="#导出特定包的版本" class="headerlink" title="导出特定包的版本"></a>导出特定包的版本</h1><p>如果你只想导出某个特定的包及其版本，可以先安装该包，然后使用pip freeze命令。例如，先安装Flask，再执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install Flask<br>pip freeze | grep flask &gt; requirements.txt<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Golang高并发</title>
      <link href="/2025/11/05/Golang%E9%AB%98%E5%B9%B6%E5%8F%91/"/>
      <url>/2025/11/05/Golang%E9%AB%98%E5%B9%B6%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h1 id="并发基础"><a href="#并发基础" class="headerlink" title="并发基础"></a>并发基础</h1><p>你电脑只有 1 颗 CPU，也能同时开 20 个浏览器页面，对吧？<br>其实不是同时做，而是：</p><p>CPU 速度非常快<br>它切换任务 → 我们看起来像同时做</p><p>Go 的并发，也是同一个思想：<br>创建很多“小任务”，轮流执行，看起来像是一起执行的。</p><h2 id="Go-func是什么？"><a href="#Go-func是什么？" class="headerlink" title="Go func是什么？"></a>Go func是什么？</h2><p>某个函数执行</p><blockquote><p>result :&#x3D; doTask(url)<br>👉 会阻塞：一条没做完，下一条不能做</p></blockquote><p>Go 的核心 加上 </p><blockquote><p>go doTask(url)</p></blockquote><p><strong>这叫 启动一个协程（goroutine）</strong><br><strong>它会后台运行，不等它执行完</strong><br><strong>主程序继续往下走</strong></p><h2 id="最基础的版本"><a href="#最基础的版本" class="headerlink" title="最基础的版本"></a>最基础的版本</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;net/http&quot;</span><br> <span class="hljs-string">&quot;sync&quot;</span><br> <span class="hljs-string">&quot;time&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br> client := &amp;http.Client&#123;Timeout: <span class="hljs-number">2</span> * time.Second&#125;<br><br> urls := []<span class="hljs-type">string</span>&#123;<br>  <span class="hljs-string">&quot;https://www.baidu.com&quot;</span>,<br>  <span class="hljs-string">&quot;https://www.qq.com&quot;</span>,<br>  <span class="hljs-string">&quot;https://www.bilibili.com&quot;</span>,<br> &#125;<br><br> <span class="hljs-keyword">var</span> wg sync.WaitGroup<br> wg.Add(<span class="hljs-built_in">len</span>(urls))<br><br> start := time.Now()<br><br> <span class="hljs-keyword">for</span> _, u := <span class="hljs-keyword">range</span> urls &#123;<br>  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(link <span class="hljs-type">string</span>)</span></span> &#123;<br>   <span class="hljs-keyword">defer</span> wg.Done()<br><br>   resp, err := client.Get(link)<br>   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>    fmt.Println(<span class="hljs-string">&quot;请求失败:&quot;</span>, link)<br>    <span class="hljs-keyword">return</span><br>   &#125;<br>   resp.Body.Close()<br>   fmt.Println(<span class="hljs-string">&quot;完成:&quot;</span>, link)<br>  &#125;(u)<br> &#125;<br> wg.Wait()<br><br> fmt.Printf(<span class="hljs-string">&quot;全部完成！耗时：%v\n&quot;</span>, time.Since(start))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="并发控制？"><a href="#并发控制？" class="headerlink" title="并发控制？"></a>并发控制？</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;net/http&quot;</span><br> <span class="hljs-string">&quot;sync&quot;</span><br> <span class="hljs-string">&quot;time&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br> urls := []<span class="hljs-type">string</span>&#123;&#125;<br> <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++ &#123;<br>  urls = <span class="hljs-built_in">append</span>(urls, <span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br> &#125;<br><br> client := &amp;http.Client&#123;Timeout: <span class="hljs-number">2</span> * time.Second&#125;<br><br> <span class="hljs-comment">// 限制并发为 20</span><br> limit := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">struct</span>&#123;&#125;, <span class="hljs-number">20</span>)<br><br> <span class="hljs-keyword">var</span> wg sync.WaitGroup<br> begin := time.Now()<br><br> <span class="hljs-keyword">for</span> _, u := <span class="hljs-keyword">range</span> urls &#123;<br>  wg.Add(<span class="hljs-number">1</span>)<br><br>  limit &lt;- <span class="hljs-keyword">struct</span>&#123;&#125;&#123;&#125; <span class="hljs-comment">// 占一个坑（如果满了就阻塞）</span><br><br>  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(link <span class="hljs-type">string</span>)</span></span> &#123;<br>   <span class="hljs-keyword">defer</span> wg.Done()<br>   <span class="hljs-keyword">defer</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123; &lt;-limit &#125;() <span class="hljs-comment">// 用完释放一个坑</span><br>   resp, err := client.Get(link)<br>   <span class="hljs-keyword">if</span> err == <span class="hljs-literal">nil</span> &#123;<br>    resp.Body.Close()<br>   &#125;<br><br>   fmt.Println(<span class="hljs-string">&quot;完成:&quot;</span>, link)<br>  &#125;(u)<br> &#125;<br><br> wg.Wait()<br> fmt.Println(<span class="hljs-string">&quot;全部完成，用时:&quot;</span>, time.Since(begin))<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="高并发核心"><a href="#高并发核心" class="headerlink" title="高并发核心"></a>高并发核心</h1><p>认识这个库</p><blockquote><p>github.com&#x2F;panjf2000&#x2F;ants&#x2F;v2</p></blockquote><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs haxe"><span class="hljs-keyword">var</span> pool, <span class="hljs-literal">_</span> = ants.NewPool(<span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><h2 id="什么意思"><a href="#什么意思" class="headerlink" title="什么意思"></a>什么意思</h2><p>创建了 <strong>10个</strong>协程池，可以同时执行10个任务。</p><h2 id="为什么不用go-func-的形式"><a href="#为什么不用go-func-的形式" class="headerlink" title="为什么不用go func() 的形式"></a>为什么不用go func() 的形式</h2><table><thead><tr><th>方式</th><th>问题</th><th>适用于谁</th></tr></thead><tbody><tr><td>直接 <code>go func()</code></td><td>协程数量无上限 → 内存爆炸 → 拥塞</td><td>小量任务</td></tr><tr><td>make(chan) + go routine 自己控制</td><td>代码量大，容易踩坑</td><td>熟练工程师</td></tr><tr><td><strong>ants.Pool</strong> ✅</td><td>自动回收调度、限制并发、复用 goroutine</td><td>最佳方案</td></tr></tbody></table><h2 id="简易使用"><a href="#简易使用" class="headerlink" title="简易使用"></a>简易使用</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;time&quot;</span><br><br> <span class="hljs-string">&quot;github.com/panjf2000/ants/v2&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br> <span class="hljs-comment">// 最大并发数：20</span><br> pool, _ := ants.NewPool(<span class="hljs-number">20</span>)<br> <span class="hljs-keyword">defer</span> pool.Release()<br><br> start := time.Now()<br><br> <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++ &#123;<br>  num := i<br>  pool.Submit(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>   time.Sleep(<span class="hljs-number">100</span> * time.Millisecond) <span class="hljs-comment">// 模拟任务</span><br>   fmt.Println(<span class="hljs-string">&quot;完成任务:&quot;</span>, num)<br>  &#125;)<br> &#125;<br><br> <span class="hljs-comment">// 等所有任务做完</span><br> pool.Release() <span class="hljs-comment">// 关闭池子并等待任务完成</span><br><br> fmt.Println(<span class="hljs-string">&quot;耗时:&quot;</span>, time.Since(start))<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;net/http&quot;</span><br> <span class="hljs-string">&quot;time&quot;</span><br><br> <span class="hljs-string">&quot;github.com/panjf2000/ants/v2&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br> urls := []<span class="hljs-type">string</span>&#123;&#125;<br> <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++ &#123;<br>  urls = <span class="hljs-built_in">append</span>(urls, <span class="hljs-string">&quot;https://www.baidu.com&quot;</span>)<br> &#125;<br><br> client := &amp;http.Client&#123;Timeout: <span class="hljs-number">2</span> * time.Second&#125;<br><br> pool, _ := ants.NewPool(<span class="hljs-number">20</span>)<br> <span class="hljs-keyword">defer</span> pool.Release()<br><br> begin := time.Now()<br><br> <span class="hljs-keyword">for</span> _, u := <span class="hljs-keyword">range</span> urls &#123;<br>  link := u<br>  pool.Submit(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>   resp, err := client.Get(link)<br>   <span class="hljs-keyword">if</span> err == <span class="hljs-literal">nil</span> &#123;<br>    resp.Body.Close()<br>   &#125;<br>   fmt.Println(<span class="hljs-string">&quot;✅ 完成:&quot;</span>, link)<br>  &#125;)<br> &#125;<br><br> pool.Release() <span class="hljs-comment">// 等任务全部结束</span><br> fmt.Println(<span class="hljs-string">&quot;总耗时:&quot;</span>, time.Since(begin))<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="如何return"><a href="#如何return" class="headerlink" title="如何return"></a>如何return</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs go"><br><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;net/http&quot;</span><br> <span class="hljs-string">&quot;sync&quot;</span><br> <span class="hljs-string">&quot;time&quot;</span><br><br> <span class="hljs-string">&quot;github.com/panjf2000/ants/v2&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> Result <span class="hljs-keyword">struct</span> &#123;<br> Url  <span class="hljs-type">string</span><br> Ok   <span class="hljs-type">bool</span><br> Cost time.Duration<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br> urls := []<span class="hljs-type">string</span>&#123;<br>  <span class="hljs-string">&quot;https://www.baidu.com&quot;</span>,<br>  <span class="hljs-string">&quot;https://www.google.com&quot;</span>,<br>  <span class="hljs-string">&quot;https://www.bilibili.com&quot;</span>,<br>  <span class="hljs-string">&quot;https://www.qq.com&quot;</span>,<br> &#125;<br><br> client := &amp;http.Client&#123;Timeout: <span class="hljs-number">2</span> * time.Second&#125;<br><br> results := <span class="hljs-built_in">make</span>([]Result, <span class="hljs-built_in">len</span>(urls))<br> <span class="hljs-keyword">var</span> wg sync.WaitGroup<br> wg.Add(<span class="hljs-built_in">len</span>(urls))<br><br> pool, _ := ants.NewPool(<span class="hljs-number">20</span>)<br> <span class="hljs-keyword">defer</span> pool.Release()<br><br> <span class="hljs-keyword">for</span> i, u := <span class="hljs-keyword">range</span> urls &#123;<br><br>  idx := i<br>  urlCopy := u<br><br>  pool.Submit(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> &#123;<br>   <span class="hljs-keyword">defer</span> wg.Done()<br><br>   t := time.Now()<br>   resp, err := client.Get(urlCopy)<br>   ok := <span class="hljs-literal">false</span><br>   <span class="hljs-keyword">if</span> err == <span class="hljs-literal">nil</span> &#123;<br>    resp.Body.Close()<br>    ok = <span class="hljs-literal">true</span><br>   &#125;<br><br>   results[idx] = Result&#123;<br>    Url:  urlCopy,<br>    Ok:   ok,<br>    Cost: time.Since(t),<br>   &#125;<br>  &#125;)<br> &#125;<br><br> wg.Wait() <span class="hljs-comment">// 等全部完成</span><br><br> fmt.Println(<span class="hljs-string">&quot;执行结果↓&quot;</span>)<br><br> <span class="hljs-keyword">for</span> _, r := <span class="hljs-keyword">range</span> results &#123;<br>  fmt.Println(r)<br> &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>xapk转apk</title>
      <link href="/2025/11/04/xapk%E8%BD%ACapk/"/>
      <url>/2025/11/04/xapk%E8%BD%ACapk/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> zipfile<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> shutil<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> subprocess<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">unzip_file</span>(<span class="hljs-params">src, dst</span>):<br>    <span class="hljs-keyword">with</span> zipfile.ZipFile(src, <span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> z:<br>        z.extractall(dst)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_files</span>(<span class="hljs-params">base, ext</span>):<br>    result = []<br>    <span class="hljs-keyword">for</span> root, _, files <span class="hljs-keyword">in</span> os.walk(base):<br>        <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> files:<br>            <span class="hljs-keyword">if</span> f.endswith(ext):<br>                result.append(os.path.join(root, f))<br>    <span class="hljs-keyword">return</span> result<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">copy_files</span>(<span class="hljs-params">files, dst</span>):<br>    os.makedirs(dst, exist_ok=<span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">for</span> f <span class="hljs-keyword">in</span> files:<br>        shutil.copy(f, dst)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">copy_obb</span>(<span class="hljs-params">base, dst</span>):<br>    <span class="hljs-keyword">for</span> root, dirs, _ <span class="hljs-keyword">in</span> os.walk(base):<br>        <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> dirs:<br>            <span class="hljs-keyword">if</span> d == <span class="hljs-string">&#x27;obb&#x27;</span>:<br>                shutil.copytree(os.path.join(root, d), os.path.join(dst, d), dirs_exist_ok=<span class="hljs-literal">True</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">adb_install_multiple</span>(<span class="hljs-params">apk_dir</span>):<br>    apk_list = <span class="hljs-built_in">sorted</span>(find_files(apk_dir, <span class="hljs-string">&#x27;.apk&#x27;</span>))<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> apk_list:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;no apk files to install&#x27;</span>)<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;installing via adb...&#x27;</span>)<br>    cmd = [<span class="hljs-string">&#x27;adb&#x27;</span>, <span class="hljs-string">&#x27;install-multiple&#x27;</span>] + apk_list<br>    <span class="hljs-keyword">try</span>:<br>        subprocess.run(cmd, check=<span class="hljs-literal">True</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;install success&#x27;</span>)<br>    <span class="hljs-keyword">except</span> subprocess.CalledProcessError:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;install failed&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">convert_xapk</span>(<span class="hljs-params">xapk_path, output_dir=<span class="hljs-literal">None</span>, auto_install=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(xapk_path):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;file not found&#x27;</span>)<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">if</span> output_dir <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        output_dir = os.path.splitext(xapk_path)[<span class="hljs-number">0</span>]<br>    os.makedirs(output_dir, exist_ok=<span class="hljs-literal">True</span>)<br><br>    unzip_file(xapk_path, output_dir)<br>    apk_dir = os.path.join(output_dir, <span class="hljs-string">&#x27;apk&#x27;</span>)<br>    obb_dir = os.path.join(output_dir, <span class="hljs-string">&#x27;obb&#x27;</span>)<br><br>    apk_files = find_files(output_dir, <span class="hljs-string">&#x27;.apk&#x27;</span>)<br>    <span class="hljs-keyword">if</span> apk_files:<br>        copy_files(apk_files, apk_dir)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;apk extracted&#x27;</span>)<br><br>    copy_obb(output_dir, obb_dir)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;obb extracted&#x27;</span>)<br><br>    <span class="hljs-keyword">if</span> auto_install:<br>        adb_install_multiple(apk_dir)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;done:&#x27;</span>, output_dir)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) &lt; <span class="hljs-number">2</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;usage: python xapk_to_apk.py app.xapk [output_dir] [--install]&#x27;</span>)<br>    <span class="hljs-keyword">else</span>:<br>        xapk = sys.argv[<span class="hljs-number">1</span>]<br>        out = sys.argv[<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) &gt; <span class="hljs-number">2</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> sys.argv[<span class="hljs-number">2</span>].startswith(<span class="hljs-string">&#x27;--&#x27;</span>) <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span><br>        install_flag = <span class="hljs-string">&#x27;--install&#x27;</span> <span class="hljs-keyword">in</span> sys.argv<br>        convert_xapk(xapk, out, install_flag)<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>某度点选VMP逆向分析</title>
      <link href="/2025/10/28/%E6%9F%90%E5%BA%A6%E7%82%B9%E9%80%89VMP%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/"/>
      <url>/2025/10/28/%E6%9F%90%E5%BA%A6%E7%82%B9%E9%80%89VMP%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<h1 id="底图解密"><a href="#底图解密" class="headerlink" title="底图解密"></a>底图解密</h1><p>由于底图是乱序的。所以要先找到还原位置。</p><p>这里直接看插装日志</p><p>具体如何实现看一眼日志就知道了</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">q</span>.<span class="hljs-title function_">A</span>(<span class="hljs-string">&quot;arguments&quot;</span>, n || []); ; )<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2025/10/24/JPNL23snAEOa7gy.png"></p><h1 id="C-函数解密"><a href="#C-函数解密" class="headerlink" title="C 函数解密"></a>C 函数解密</h1><p>如下图</p><p><img src="https://s2.loli.net/2025/10/24/DY7Qr5HZPCTv2oM.png"></p><p><img src="https://s2.loli.net/2025/10/29/LKlhSJFIonYvZrj.png"></p><p>断点定位</p><p><img src="https://s2.loli.net/2025/10/24/pQbC9se65lwMTXk.png"></p><p>继续</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript">t.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">get</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) &#123;<br>                <span class="hljs-keyword">var</span> e = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">g</span>(t);<br>                <span class="hljs-keyword">return</span> e || (e = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">p</span>(t),<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">m</span>(t, e),<br>                e)<br>            &#125;<br>,<br>t.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">set</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">t, e</span>) &#123;<br>    <span class="hljs-keyword">var</span> n = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">get</span>(t);<br>    <span class="hljs-keyword">if</span> (!n)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReferenceError</span>(<span class="hljs-string">&quot;&quot;</span>.<span class="hljs-title function_">concat</span>(t, <span class="hljs-string">&quot; is not defined&quot;</span>));<br>    n.<span class="hljs-title function_">set</span>(e)<br>&#125;<br><br><br>================================<br>t.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">set</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) &#123;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-number">2</span> === <span class="hljs-variable language_">this</span>.<span class="hljs-property">kind</span>)<br>                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&quot;Assignment to constant variable&quot;</span>);<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = t<br>            &#125;<br>,<br>t.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">get</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span><br>&#125;<br></code></pre></td></tr></table></figure><p>找到C的</p><p><img src="https://s2.loli.net/2025/10/27/i157w3UrjAKnVJR.png"></p><p>简单看下流程</p><p><img src="https://s2.loli.net/2025/10/27/rGNFsV2dW1oDLYE.png"></p><p><img src="https://s2.loli.net/2025/10/27/pNcmDlwj85YH7qy.png"></p><p>经过验证。可知 IV是固定。</p><p>key为动态值。</p><p><img src="https://s2.loli.net/2025/10/27/BzvKDiXnltajLs7.png"></p><p>如图所值。 key 是分割而来 40位</p><p>分析得知为sha1。</p><p>&#x3D;&#x3D;&#x3D;&gt;</p><p>值由来如下图</p><p><img src="https://s2.loli.net/2025/10/27/sxY87cnISPz9bju.png"></p><p>然后经过一层 AES.</p><p>key为动态值，IV写死。</p><p>得到最终的 C值。</p><p>AES加密前的值为</p><p>&#x3D;&#x3D;&#x3D;&gt; </p><p>如下图所示</p><p><img src="https://s2.loli.net/2025/10/27/YaImgKE9Glwtsj1.png"></p><p>值为一个一个跳出。</p><p>可以看到 </p><p>有个特殊值。 MNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+&#x2F;ABCDEFGHIJKL。应该是修改了base64的码表</p><p><img src="https://s2.loli.net/2025/10/27/uD3UHer8XpBicCt.png"></p><p>经过分析。可知每次码表都不一样。</p><p>规则如下</p><p>这里我们先来了解下 何为base64，AI简单概括几句话</p><p>1、<strong>分组基础：</strong> Base64 将输入数据按每 <strong>3 个字节</strong>（共 24 位二进制）进行一组处理。</p><p>2、<strong>重新划分：</strong> 将这 24 位二进制流重新划分为 <strong>4 组</strong>，每组 <strong>6 位</strong>。</p><p>3、<strong>查表映射：</strong> 每组 6 位（数值范围 $0-63$）作为索引，去查 Base64 专用的 <strong>64 字符表</strong>，得到一个可见字符。</p><p>4、<strong>数据比例：</strong> 最终，每 3 个输入字节对应 4 个输出字符，因此编码后的数据体积增大 $1&#x2F;3$。</p><p>5、<strong>末尾填充：</strong> 如果输入数据不足 3 个字节，则在二进制末尾补零，并在 Base64 字符串末尾使用一个或两个 <strong><code>=</code></strong> 符号进行占位填充。</p><p><img src="https://s2.loli.net/2025/10/27/H7MVefWO8U4Gynw.png"></p><p>具体不多说了。</p><p>最后看结果。</p><p><img src="https://s2.loli.net/2025/10/28/dfBmFOLEwqM1ane.png"></p><p>页面也不校验，成功率也低。可以当个练练手的项目</p>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gocron_Docker安装</title>
      <link href="/2025/10/23/gocron-Docker%E5%AE%89%E8%A3%85/"/>
      <url>/2025/10/23/gocron-Docker%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h1 id="安装Docker"><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装Docker</h1><p>这里我用的是Mac</p><p>使用 Colima + Docker CLI</p><blockquote><p>安装</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install colima docker docker-compose<br></code></pre></td></tr></table></figure><blockquote><p>启动<br>分配 6 核 CPU 和 12 GB 内存</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">colima start --cpu 6 --memory 12<br></code></pre></td></tr></table></figure><p>如遇到问题 可修改配置 比如修改镜像等等</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">colima start --edit<br></code></pre></td></tr></table></figure><p>完整配置如下</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># ============================================================================================ #</span><br><span class="hljs-comment"># To abort, delete the contents of this file including the comments and save as an empty file</span><br><span class="hljs-comment"># ============================================================================================ #</span><br><br><span class="hljs-comment"># Number of CPUs to be allocated to the virtual machine.</span><br><span class="hljs-comment"># Default: 2</span><br><span class="hljs-params">cpu:</span> <span class="hljs-number">2</span><br><br><span class="hljs-comment"># Size of the disk in GiB to be allocated to the virtual machine for container data.</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> value can only be increased after virtual machine has been created.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Default: 100</span><br><span class="hljs-params">disk:</span> <span class="hljs-number">100</span><br><br><span class="hljs-comment"># Size of the memory in GiB to be allocated to the virtual machine.</span><br><span class="hljs-comment"># Default: 2</span><br><span class="hljs-params">memory:</span> <span class="hljs-number">2</span><br><br><span class="hljs-comment"># Architecture of the virtual machine (x86_64, aarch64, host)</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> value cannot be changed after virtual machine is created.</span><br><span class="hljs-comment"># Default: host</span><br><span class="hljs-params">arch:</span> aarch64<br><br><span class="hljs-comment"># Container runtime to be used (docker, containerd).</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> value cannot be changed after virtual machine is created.</span><br><span class="hljs-comment"># Default: docker</span><br><span class="hljs-params">runtime:</span> docker<br><br><span class="hljs-comment"># Set custom hostname for the virtual machine.</span><br><span class="hljs-comment"># Default: colima</span><br><span class="hljs-comment">#          colima-profile_name for other profiles</span><br><span class="hljs-params">hostname:</span> colima<br><br><span class="hljs-comment"># Kubernetes configuration for the virtual machine.</span><br><span class="hljs-params">kubernetes:</span><br>  <span class="hljs-comment"># Enable kubernetes.</span><br>  <span class="hljs-comment"># Default: false</span><br>  <span class="hljs-params">enabled:</span> <span class="hljs-literal">false</span><br> <span class="hljs-comment"># Kubernetes version to use.</span><br>  <span class="hljs-comment"># This needs to exactly match a k3s version https://github.com/k3s-io/k3s/releases</span><br>  <span class="hljs-comment"># Default: latest stable release</span><br>  <span class="hljs-params">version:</span> v1.<span class="hljs-number">33.4</span><span class="hljs-operator">+</span>k3s1<br><br>  <span class="hljs-comment"># Additional args to pass to k3s https://docs.k3s.io/cli/server</span><br>  <span class="hljs-comment"># Default: traefik is disabled</span><br>  <span class="hljs-params">k3sArgs:</span><br>    <span class="hljs-operator">-</span> <span class="hljs-operator">-</span>-disable<span class="hljs-operator">=</span>traefik<br><br>  <span class="hljs-comment"># Kubernetes port to listen on</span><br>  <span class="hljs-comment"># A common port is 6443, though left unbound to ensure no port conflicts</span><br>  <span class="hljs-comment"># Default: pick random unbound port</span><br>  <span class="hljs-params">port:</span> <span class="hljs-number">0</span><br><br><span class="hljs-comment"># Auto-activate on the Host for client access.</span><br><span class="hljs-comment"># Setting to true does the following on startup</span><br><span class="hljs-comment">#  - sets as active Docker context (for Docker runtime).</span><br><span class="hljs-comment">#  - sets as active Kubernetes context (if Kubernetes is enabled).</span><br><span class="hljs-comment">#  - sets as active Incus remote (for Incus runtime).</span><br><span class="hljs-comment"># Default: true</span><br><span class="hljs-params">autoActivate:</span> <span class="hljs-literal">true</span><br><span class="hljs-comment"># Network configurations for the virtual machine.</span><br><span class="hljs-params">network:</span><br>  <span class="hljs-comment"># Assign reachable IP address to the virtual machine.</span><br>  <span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> this is currently macOS only and ignored on Linux.</span><br>  <span class="hljs-comment"># Default: false</span><br>  <span class="hljs-params">address:</span> <span class="hljs-literal">false</span><br><br>  <span class="hljs-comment"># Network mode for the virtual machine (shared, bridged).</span><br>  <span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> this is currently macOS only and ignored on Linux.</span><br>  <span class="hljs-comment"># Default: shared</span><br>  <span class="hljs-params">mode:</span> shared<br><br>  <span class="hljs-comment"># Network interface to use for bridged mode.</span><br>  <span class="hljs-comment"># This is only used when mode is set to bridged.</span><br>  <span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> this is currently macOS only and ignored on Linux.</span><br>  <span class="hljs-comment"># Default: en0</span><br>  <span class="hljs-params">interface:</span> en0<br><br>  <span class="hljs-comment"># Use the assigned IP address as the preferred route for the VM.</span><br>  <span class="hljs-comment"># Note: this only has an effect when `address` is set to true.</span><br>  <span class="hljs-comment"># Default: false</span><br>  <span class="hljs-params">preferredRoute:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-comment"># Custom DNS resolvers for the virtual machine.</span><br>  <span class="hljs-comment">#</span><br>  <span class="hljs-comment"># EXAMPLE</span><br>  <span class="hljs-comment"># dns: [8.8.8.8, 1.1.1.1]</span><br>  <span class="hljs-comment">#</span><br>  <span class="hljs-comment"># Default: []</span><br>  <span class="hljs-params">dns:</span><br>    <span class="hljs-operator">-</span> <span class="hljs-number">8.8</span>.<span class="hljs-number">8.8</span><br>    <span class="hljs-operator">-</span> <span class="hljs-number">1.1</span>.<span class="hljs-number">1.1</span><br><br>  <span class="hljs-comment"># DNS hostnames to resolve to custom targets using the internal resolver.</span><br>  <span class="hljs-comment"># This setting has no effect if a custom DNS resolver list is supplied above.</span><br>  <span class="hljs-comment"># It does not configure the /etc/hosts files of any machine or container.</span><br>  <span class="hljs-comment"># The value can be an IP address or another host.</span><br>  <span class="hljs-comment">#</span><br>  <span class="hljs-comment"># EXAMPLE</span><br>  <span class="hljs-comment"># dnsHosts:</span><br>  <span class="hljs-comment">#   example.com: 1.2.3.4</span><br>  <span class="hljs-params">dnsHosts:</span> &#123;&#125;<br><br>  <span class="hljs-comment"># Replicate host IP addresses in the VM. This enables port forwarding to specific</span><br>  <span class="hljs-comment"># host IP addresses.</span><br>  <span class="hljs-comment">#   e.g. `docker run --port 10.0.1.2:8080:8080 alpine` would only forward to the</span><br>  <span class="hljs-comment">#   specified IP address.</span><br>  <span class="hljs-comment">#</span><br>  <span class="hljs-comment"># Default: false</span><br>  <span class="hljs-params">hostAddresses:</span> <span class="hljs-literal">false</span><br><br><span class="hljs-comment"># ===================================================================== #</span><br><span class="hljs-comment"># ADVANCED CONFIGURATION</span><br><span class="hljs-comment"># ===================================================================== #</span><br><br><span class="hljs-comment"># Forward the host&#x27;s SSH agent to the virtual machine.</span><br><span class="hljs-comment"># Default: false</span><br><span class="hljs-params">forwardAgent:</span> <span class="hljs-literal">false</span><br><br><span class="hljs-comment"># Docker daemon configuration that maps directly to daemon.json.</span><br><span class="hljs-comment"># https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file.</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> some settings may affect Colima&#x27;s ability to start docker. e.g. `hosts`.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># EXAMPLE - disable buildkit</span><br><span class="hljs-comment"># docker:</span><br><span class="hljs-comment">#   features:</span><br><span class="hljs-comment">#     buildkit: false</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># EXAMPLE - add insecure registries</span><br><span class="hljs-comment"># docker:</span><br><span class="hljs-comment">#   insecure-registries:</span><br><span class="hljs-comment">#     - myregistry.com:5000</span><br><span class="hljs-comment">#     - host.docker.internal:5000</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Colima default behaviour: buildkit enabled</span><br><span class="hljs-comment"># Default: &#123;&#125;</span><br><span class="hljs-params">docker:</span><br>  <span class="hljs-params">registry-mirrors:</span><br>    <span class="hljs-operator">-</span> https:<span class="hljs-symbol">//docker.mirrors.ustc.edu.cn</span><br><br><span class="hljs-comment"># Virtual Machine type (qemu, vz)</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> this is macOS 13 only. For Linux and macOS &lt;13.0, qemu is always used.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># vz is macOS virtualization framework and requires macOS 13</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> value cannot be changed after virtual machine is created.</span><br><span class="hljs-comment"># Default: qemu</span><br><span class="hljs-params">vmType:</span> vz<br><br><span class="hljs-comment"># Port forwarder for the virtual machine (ssh, grpc).</span><br><span class="hljs-comment"># ssh is more stable but supports only TCP.</span><br><span class="hljs-comment"># grpc supports both TCP and UDP, but is experimental.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Default: ssh</span><br><span class="hljs-params">portForwarder:</span> ssh<br><br><span class="hljs-comment"># Utilise rosetta for amd64 emulation (requires m1 mac and vmType `vz`)</span><br><span class="hljs-comment"># Default: false</span><br><span class="hljs-params">rosetta:</span> <span class="hljs-literal">false</span><br><br><span class="hljs-comment"># Enable foreign architecture emulation via binfmt (e.g. amd64 on arm64, arm64 on amd64)</span><br><span class="hljs-comment"># Default: true</span><br><span class="hljs-params">binfmt:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># Enable nested virtualization for the virtual machine (requires m3 mac and vmType `vz`)</span><br><span class="hljs-comment"># Default: false</span><br><span class="hljs-params">nestedVirtualization:</span> <span class="hljs-literal">false</span><br><br><span class="hljs-comment"># Volume mount driver for the virtual machine (virtiofs, 9p, sshfs).</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># virtiofs is limited to macOS and vmType `vz`. It is the fastest of the options.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># 9p is the recommended and the most stable option for vmType `qemu`.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># sshfs is faster than 9p but the least reliable of the options (when there are lots</span><br><span class="hljs-comment"># of concurrent reads or writes).</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> value cannot be changed after virtual machine is created.</span><br><span class="hljs-comment"># Default: virtiofs (for vz), sshfs (for qemu)</span><br><span class="hljs-params">mountType:</span> virtiofs<br><br><span class="hljs-comment"># Propagate inotify file events to the VM.</span><br><span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> this is experimental.</span><br><span class="hljs-params">mountInotify:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># The CPU type for the virtual machine (requires vmType `qemu`).</span><br><span class="hljs-comment"># Options available for host emulation can be checked with: `qemu-system-$(arch) -cpu help`.</span><br><span class="hljs-comment"># Instructions are also supported by appending to the cpu type e.g. &quot;qemu64,+ssse3&quot;.</span><br><br><span class="hljs-comment"># Default: host</span><br><span class="hljs-params">cpuType:</span> <span class="hljs-string">&quot;&quot;</span><br><br><span class="hljs-comment"># Custom provision scripts for the virtual machine.</span><br><span class="hljs-comment"># Provisioning scripts are executed on startup and therefore needs to be idempotent.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># EXAMPLE - script executed as root</span><br><span class="hljs-comment"># provision:</span><br><span class="hljs-comment">#   - mode: system</span><br><span class="hljs-comment">#     script: apt-get install htop vim</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># EXAMPLE - script executed as user</span><br><span class="hljs-comment"># provision:</span><br><span class="hljs-comment">#   - mode: user</span><br><span class="hljs-comment">#     script: |</span><br><span class="hljs-comment">#       [ -f ~/.provision ] &amp;&amp; exit 0;</span><br><span class="hljs-comment">#       echo provisioning as $USER...</span><br><span class="hljs-comment">#       touch ~/.provision</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Default: []</span><br><span class="hljs-params">provision:</span> []<br><br><span class="hljs-comment"># Modify ~/.ssh/config automatically to include a SSH config for the virtual machine.</span><br><span class="hljs-comment"># SSH config will still be generated in $COLIMA_HOME/ssh_config regardless.</span><br><span class="hljs-comment"># Default: true</span><br><span class="hljs-params">sshConfig:</span> <span class="hljs-literal">true</span><br><br><span class="hljs-comment"># The port number for the SSH server for the virtual machine.</span><br><span class="hljs-comment"># When set to 0, a random available port is used.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Default: 0</span><br><span class="hljs-params">sshPort:</span> <span class="hljs-number">0</span><br><br><span class="hljs-comment"># Configure volume mounts for the virtual machine.</span><br><span class="hljs-comment"># Colima mounts user&#x27;s home directory by default to provide a familiar</span><br><span class="hljs-comment"># user experience.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># EXAMPLE</span><br><span class="hljs-comment"># mounts:</span><br><span class="hljs-comment">#   - location: ~/secrets</span><br><span class="hljs-comment">#     writable: false</span><br><span class="hljs-comment">#   - location: ~/projects</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Colima default behaviour: $HOME is mounted as writable.</span><br><span class="hljs-comment"># Default: []</span><br><span class="hljs-params">mounts:</span> []<br><br><span class="hljs-comment"># Specify a custom disk image for the virtual machine.</span><br><span class="hljs-comment"># When not specified, Colima downloads an appropriate disk image from Github at</span><br><span class="hljs-comment"># https://github.com/abiosoft/colima-core/releases.</span><br><span class="hljs-comment"># The file path to a custom disk image can be specified to override the behaviour.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Default: &quot;&quot;</span><br><span class="hljs-params">diskImage:</span> <span class="hljs-string">&quot;&quot;</span><br><br><span class="hljs-comment"># Size of the disk in GiB for the root filesystem of the virtual machine.</span><br><span class="hljs-comment"># This value is ignored if no runtime is in use. i.e. `none` runtime.</span><br><span class="hljs-comment"># Default: 20</span><br><span class="hljs-params">rootDisk:</span> <span class="hljs-number">20</span><br><br><span class="hljs-comment"># Environment variables for the virtual machine.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># EXAMPLE</span><br><span class="hljs-comment"># env:</span><br><span class="hljs-comment">#   KEY: value</span><br><span class="hljs-comment">#   ANOTHER_KEY: another value</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Default: &#123;&#125;</span><br><span class="hljs-params">env:</span><br>  <span class="hljs-params">HTTP_PROXY:</span> <span class="hljs-string">&quot;&quot;</span><br>  <span class="hljs-params">HTTPS_PROXY:</span> <span class="hljs-string">&quot;&quot;</span><br>  <span class="hljs-params">NO_PROXY:</span> <span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure><h1 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h1><p>jobs就是你需要修改的文件。你可以自己去编译Go的代码。</p><p>Go编译linux代码如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">CGO_ENABLED=0 GOOS=darwin GOARCH=amd64 go build -o myapp_mac main.go <br></code></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">delete_runs_after_days:</span> <span class="hljs-number">7</span><br><span class="hljs-attr">healthcheck:</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">POST</span><br><span class="hljs-attr">jobs:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;xxxx&#x27;</span><br>    <span class="hljs-attr">cron:</span> <span class="hljs-string">&#x27;0 5 * * *&#x27;</span><br>    <span class="hljs-attr">commands:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">./crawl/xxx</span><br><span class="hljs-attr">log_level:</span> <span class="hljs-string">info</span><br><span class="hljs-attr">server:</span><br>    <span class="hljs-attr">address:</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span><br>    <span class="hljs-attr">port:</span> <span class="hljs-number">8156</span><br><span class="hljs-attr">terminal:</span><br>    <span class="hljs-attr">allow_all_commands:</span> <span class="hljs-literal">true</span><br><span class="hljs-attr">time_zone:</span> <span class="hljs-string">Asia/Shanghai</span><br><br></code></pre></td></tr></table></figure><h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><p>需要新建一个配置文件 以及 配置文件中提到的crawl文件夹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker stop gocron<br>docker <span class="hljs-built_in">rm</span> gocron<br>docker run -d \<br>  --name gocron \<br>  -p 8156:8156 \<br>  -v ./config/:/app/config/ \<br>  -v ./crawl/tc:/app/crawl/tc \<br>  ghcr.io/flohoss/gocron:latest<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo主题高亮不生效问题解决</title>
      <link href="/2025/10/16/hexo%E4%B8%BB%E9%A2%98%E9%AB%98%E4%BA%AE%E4%B8%8D%E7%94%9F%E6%95%88%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
      <url>/2025/10/16/hexo%E4%B8%BB%E9%A2%98%E9%AB%98%E4%BA%AE%E4%B8%8D%E7%94%9F%E6%95%88%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<h1 id="查看是否安装了highlight-js"><a href="#查看是否安装了highlight-js" class="headerlink" title="查看是否安装了highlight.js"></a>查看是否安装了highlight.js</h1><p>查看 _config.yml（是根目录那个，不是主题的）</p><p>正确为</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">highlight:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>如果依然不生效<br>themes&#x2F;cactus&#x2F;layout&#x2F;_partials&#x2F;head.ejs 或对应模板里，确保引入：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;link rel=<span class="hljs-string">&quot;stylesheet&quot;</span> href=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/highlight.js/styles/github.min.css&quot;</span>&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/highlight.js/lib/highlight.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>hljs.highlightAll();<span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h1 id="使用PrismJS"><a href="#使用PrismJS" class="headerlink" title="使用PrismJS"></a>使用PrismJS</h1><p>修改配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">syntax_highlighter:</span> <span class="hljs-string">prismjs</span><br><span class="hljs-attr">highlight:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">prismjs:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">preprocess:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">line_number:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>themes&#x2F;cactus&#x2F;layout&#x2F;_partial&#x2F;head.ejs</p><p>（有的版本是 themes&#x2F;cactus&#x2F;layout&#x2F;_partials&#x2F;head.ejs）</p><p>在 </head> 之前添加以下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- PrismJS Syntax Highlighting --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>然后执行</p><blockquote><p>hexo clean &amp;&amp; hexo g</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>JS逆向常用脚本</title>
      <link href="/2025/10/13/JS%E9%80%86%E5%90%91%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/"/>
      <url>/2025/10/13/JS%E9%80%86%E5%90%91%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="反调试脚本——无限Debugger绕过"><a href="#反调试脚本——无限Debugger绕过" class="headerlink" title="反调试脚本——无限Debugger绕过"></a>反调试脚本——无限Debugger绕过</h1><p>代表网站：马蜂窝</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">temp_constructor</span>= <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>;<br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>=<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;string&quot;</span>)&#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;debugger&quot;</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span><br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">temp_constructor</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="某大佬写的终极绕过"><a href="#某大佬写的终极绕过" class="headerlink" title="某大佬写的终极绕过"></a>某大佬写的终极绕过</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><code class="hljs javascript">(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 立即执行函数，创建独立作用域</span><br> <span class="hljs-string">&#x27;use strict&#x27;</span>; <span class="hljs-comment">// 启用严格模式，防止一些不规范的代码写法</span><br> <span class="hljs-comment">// 调试配置对象</span><br> <span class="hljs-comment">//按0开启日志，默认关闭</span><br> <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEBUG</span> = &#123;<br>  <span class="hljs-attr">enable</span>: <span class="hljs-number">1</span>,<br>  <span class="hljs-comment">// 控制是否输出日志信息的开关</span><br>  <span class="hljs-attr">deb</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 控制是否在关键位置设置断点的开关</span><br> &#125;;<br><br> <span class="hljs-comment">//作者：Dexter</span><br> <span class="hljs-comment">//公众号：我不是蜘蛛</span><br> <span class="hljs-comment">// 定义日志输出函数，根据 DEBUG.enable 决定是否输出日志</span><br> <span class="hljs-keyword">const</span> log = <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">DEBUG</span>.<span class="hljs-property">enable</span> == <span class="hljs-number">0</span>) &#123;<br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(...args);<br>  &#125;<br> &#125;;<br><br> <span class="hljs-comment">// 保存原始的 setInterval 函数</span><br> <span class="hljs-keyword">var</span> originalSetInterval = <span class="hljs-variable language_">window</span>.<span class="hljs-property">setInterval</span>;<br><br> <span class="hljs-comment">// 用新的函数替换原始的 setInterval</span><br> <span class="hljs-variable language_">window</span>.<span class="hljs-property">setInterval</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">callback, delay</span>) &#123;<br>  <span class="hljs-comment">// 获取除了 callback 和 delay 的其他额外参数</span><br>  <span class="hljs-keyword">var</span> args = <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">slice</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>, <span class="hljs-number">2</span>);<br><br>  <span class="hljs-comment">// 如果 callback 是字符串，则删除其中的 debugger 语句</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback === <span class="hljs-string">&#x27;string&#x27;</span>) &#123;<br>   callback = callback.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/debugger;/g</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback === <span class="hljs-string">&#x27;function&#x27;</span>) &#123;<br>   <span class="hljs-comment">// 如果 callback 是函数，替换包含 debugger 的回调</span><br>   <span class="hljs-keyword">var</span> originalCallback = callback;<br>   callback = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// 获取原始回调函数的源码</span><br>    <span class="hljs-keyword">var</span> callbackSource = originalCallback.<span class="hljs-title function_">toString</span>();<br><br>    <span class="hljs-comment">// 如果源码包含 debugger，将其删除并创建新的函数</span><br>    <span class="hljs-keyword">if</span> (callbackSource.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;debugger&#x27;</span>) !== -<span class="hljs-number">1</span>) &#123;<br>     callbackSource = callbackSource.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/debugger;/g</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>     originalCallback = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>(<span class="hljs-string">&#x27;return &#x27;</span> + callbackSource)();<br>    &#125;<br><br>    <span class="hljs-comment">// 调用修改后的回调函数，并传入参数</span><br>    originalCallback.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);<br>   &#125;;<br>  &#125;<br><br>  <span class="hljs-comment">// 调用原始的 setInterval 函数，并传入修改后的 callback、delay 和其他参数</span><br>  <span class="hljs-keyword">return</span> originalSetInterval.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">window</span>, [callback, delay].<span class="hljs-title function_">concat</span>(args));<br> &#125;<br> <span class="hljs-comment">//============ toString 相关防护 ============</span><br> <span class="hljs-keyword">var</span> temp_eval = <span class="hljs-built_in">eval</span>; <span class="hljs-comment">// 保存原始的 eval 函数</span><br> <span class="hljs-keyword">var</span> temp_toString = <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>; <span class="hljs-comment">// 保存原始的 toString 方法</span><br> <span class="hljs-comment">// 改进toString方法的处理</span><br> <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-built_in">eval</span>) &#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;function eval() &#123; [native code] &#125;&#x27;</span>;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-title class_">Function</span>) &#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;function Function() &#123; [native code] &#125;&#x27;</span>;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>) &#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;function toString() &#123; [native code] &#125;&#x27;</span>;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-variable language_">window</span>.<span class="hljs-property">setInterval</span>) &#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;function setInterval() &#123; [native code] &#125;&#x27;</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> temp_toString.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);<br> &#125;<br><br> <span class="hljs-comment">//============ eval 相关hook ============</span><br> <span class="hljs-variable language_">window</span>.<span class="hljs-property">eval</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 重写全局 eval 函数</span><br>  <span class="hljs-keyword">const</span> stackTrace = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>().<span class="hljs-property">stack</span>; <span class="hljs-comment">// 获取调用栈</span><br>  <span class="hljs-keyword">const</span> callLocation = stackTrace; <span class="hljs-comment">// 保存调用位置</span><br>  <span class="hljs-title function_">log</span>(callLocation); <span class="hljs-comment">// 输出调用信息</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">DEBUG</span>.<span class="hljs-property">deb</span> == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 根据配置决定是否断点</span><br>   <span class="hljs-keyword">debugger</span>;<br>  &#125;<br>  <span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;=============== eval end ===============&quot;</span>);<br><br>  <span class="hljs-comment">// 处理传入的字符串参数，移除 debugger 语句</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>] == <span class="hljs-string">&quot;string&quot;</span>) &#123;<br>   <span class="hljs-keyword">var</span> temp_length = <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>].<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/debugger/g</span>);<br>   <span class="hljs-keyword">if</span> (temp_length != <span class="hljs-literal">null</span>) &#123;<br>    temp_length = temp_length.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/debugger/</span>;<br>    <span class="hljs-keyword">while</span> (temp_length) &#123;<br>     <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>] = <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>].<span class="hljs-title function_">replace</span>(reg, <span class="hljs-string">&quot;&quot;</span>);<br>     temp_length--;<br>    &#125;<br>   &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">temp_eval</span>(...<span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// 使用原始 eval 执行处理后的代码</span><br> &#125;<br><br> <span class="hljs-comment">//============ Function 相关hook ============</span><br> <span class="hljs-keyword">var</span> _debugger = <span class="hljs-title class_">Function</span>; <span class="hljs-comment">// 保存原始 Function 构造函数</span><br> <span class="hljs-title class_">Function</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 重写 Function 构造函数</span><br>  <span class="hljs-keyword">const</span> stackTrace = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>().<span class="hljs-property">stack</span>; <span class="hljs-comment">// 获取调用栈</span><br>  <span class="hljs-keyword">const</span> callLocation = stackTrace; <span class="hljs-comment">// 保存调用位置</span><br>  <span class="hljs-title function_">log</span>(callLocation); <span class="hljs-comment">// 输出调用信息</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">DEBUG</span>.<span class="hljs-property">deb</span> == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 根据配置决定是否断点</span><br>   <span class="hljs-keyword">debugger</span>;<br>  &#125;<br>  <span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;=============== Function end ===============&quot;</span>);<br><br>  <span class="hljs-comment">// 处理所有参数中的 debugger 语句</span><br>  <span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/debugger/</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) &#123;<br>   <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">arguments</span>[i] == <span class="hljs-string">&quot;string&quot;</span>) &#123;<br>    <span class="hljs-keyword">var</span> temp_length = <span class="hljs-variable language_">arguments</span>[i].<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/debugger/g</span>);<br>    <span class="hljs-keyword">if</span> (temp_length != <span class="hljs-literal">null</span>) &#123;<br>     temp_length = temp_length.<span class="hljs-property">length</span>;<br>     <span class="hljs-keyword">while</span> (temp_length) &#123;<br>      <span class="hljs-variable language_">arguments</span>[i] = <span class="hljs-variable language_">arguments</span>[i].<span class="hljs-title function_">replace</span>(reg, <span class="hljs-string">&quot;&quot;</span>);<br>      temp_length--;<br>     &#125;<br>    &#125;<br>   &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">_debugger</span>(...<span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// 使用原始 Function 构造函数创建函数</span><br> &#125;<br><br> <span class="hljs-comment">// 保持原型链的完整性</span><br> <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = _debugger.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;<br><br> <span class="hljs-comment">// 重写 Function 构造函数的 constructor</span><br> <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> stackTrace = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>().<span class="hljs-property">stack</span>; <span class="hljs-comment">// 获取调用栈</span><br>  <span class="hljs-keyword">const</span> callLocation = stackTrace; <span class="hljs-comment">// 保存调用位置</span><br>  <span class="hljs-title function_">log</span>(callLocation); <span class="hljs-comment">// 输出调用信息</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">DEBUG</span>.<span class="hljs-property">deb</span> == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 根据配置决定是否断点</span><br>   <span class="hljs-keyword">debugger</span>;<br>  &#125;<br>  <span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;=============== Function constructor end ===============&quot;</span>);<br><br>  <span class="hljs-comment">// 处理所有参数中的 debugger 语句</span><br>  <span class="hljs-keyword">var</span> reg = <span class="hljs-regexp">/debugger/</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; i++) &#123;<br>   <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">arguments</span>[i] == <span class="hljs-string">&quot;string&quot;</span>) &#123;<br>    <span class="hljs-keyword">var</span> temp_length = <span class="hljs-variable language_">arguments</span>[i].<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/debugger/g</span>);<br>    <span class="hljs-keyword">if</span> (temp_length != <span class="hljs-literal">null</span>) &#123;<br>     temp_length = temp_length.<span class="hljs-property">length</span>;<br>     <span class="hljs-keyword">while</span> (temp_length) &#123;<br>      <span class="hljs-variable language_">arguments</span>[i] = <span class="hljs-variable language_">arguments</span>[i].<span class="hljs-title function_">replace</span>(reg, <span class="hljs-string">&quot;&quot;</span>);<br>      temp_length--;<br>     &#125;<br>    &#125;<br>   &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">_debugger</span>(...<span class="hljs-variable language_">arguments</span>); <span class="hljs-comment">// 使用原始 Function 构造函数</span><br> &#125;<br><br> <span class="hljs-comment">// 确保构造函数的原型链正确</span><br> <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;<br>&#125;)();<br></code></pre></td></tr></table></figure><h1 id="反调试——格式化正则检测绕过"><a href="#反调试——格式化正则检测绕过" class="headerlink" title="反调试——格式化正则检测绕过"></a>反调试——格式化正则检测绕过</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">RegExp</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">my_test</span> = <span class="hljs-title class_">RegExp</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">test</span><br><br><span class="hljs-keyword">let</span> my_regex = <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">arguments</span></span>) &#123;<br>    <span class="hljs-keyword">debugger</span> ;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>)<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">source</span> == <span class="hljs-string">`test`</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">my_test</span>(<span class="hljs-variable language_">arguments</span>)<br>&#125;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">RegExp</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">&#x27;test&#x27;</span>, &#123;<br>    <span class="hljs-attr">value</span>: my_regex<br>&#125;)<br></code></pre></td></tr></table></figure><h1 id="反调试——格式化检测String-search绕过"><a href="#反调试——格式化检测String-search绕过" class="headerlink" title="反调试——格式化检测String.search绕过"></a>反调试——格式化检测String.search绕过</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> my_search = <span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-variable language_">arguments</span></span>) &#123;<br>    <span class="hljs-keyword">debugger</span> ;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>)<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">arguments</span> == <span class="hljs-string">&#x27;(((.+)+)+)+$&#x27;</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">my_search</span>(<span class="hljs-variable language_">arguments</span>)<br>&#125;;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">&#x27;search&#x27;</span>, &#123;<br>    <span class="hljs-attr">value</span>: my_search<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="hook-Cookie脚本"><a href="#hook-Cookie脚本" class="headerlink" title="hook Cookie脚本"></a>hook Cookie脚本</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><br>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-string">&#x27;use strict&#x27;</span>;<br>    <span class="hljs-keyword">var</span> cookie_cache = <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>;<br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-variable language_">document</span>, <span class="hljs-string">&#x27;cookie&#x27;</span>, &#123;<br>        <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-comment">// console.log(cookie_cache);</span><br>            <span class="hljs-keyword">return</span> cookie_cache;<br>        &#125;,<br>        <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) &#123;<br>            <span class="hljs-keyword">if</span> (val.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;xx&#x27;</span>) != -<span class="hljs-number">1</span>)&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;cookie&#x27;</span>,val)<br>                <span class="hljs-keyword">debugger</span>;<br>            &#125;<br>            <span class="hljs-keyword">var</span> cookie = val.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;;&quot;</span>)[<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">var</span> ncookie = cookie.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>);<br>            <span class="hljs-keyword">var</span> flag = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">var</span> cache = cookie_cache.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;;&quot;</span>);<br>            cache = cache.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>)&#123;<br>                <span class="hljs-keyword">if</span> (a.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">0</span>] === ncookie[<span class="hljs-number">0</span>])&#123;<br>                    flag = <span class="hljs-literal">true</span>;<br>                    <span class="hljs-keyword">return</span> cookie;<br>                &#125;<br>                <span class="hljs-keyword">return</span> a;<br>            &#125;)<br>            cookie_cache = cache.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;;&quot;</span>);<br>            <span class="hljs-keyword">if</span> (!flag)&#123;<br>                cookie_cache += cookie + <span class="hljs-string">&quot;;&quot;</span>;<br>            &#125;<br>        &#125;,<br>    &#125;);<br><br>&#125;)();<br><br></code></pre></td></tr></table></figure><h1 id="headers-hook"><a href="#headers-hook" class="headerlink" title="headers hook"></a>headers hook</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> header_old = <span class="hljs-variable language_">window</span>.<span class="hljs-property">XMLHttpRequest</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">setRequestHeader</span>;<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">XMLHttpRequest</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">setRequestHeader</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">key, value</span>) &#123;<br>  <span class="hljs-keyword">if</span> (key==<span class="hljs-string">&#x27;token&#x27;</span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key, value)<br>    <span class="hljs-keyword">debugger</span>;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> header_old.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Unidbg打DirectoryFileIO补丁</title>
      <link href="/2025/10/10/Unidbg%E6%89%93DirectoryFileIO%E8%A1%A5%E4%B8%81/"/>
      <url>/2025/10/10/Unidbg%E6%89%93DirectoryFileIO%E8%A1%A5%E4%B8%81/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="哦~这个密码无效。请检查后再试一次。" data-whm="哎呀，这些解密的内容可能已被更改，但你仍然可以查看。">  <script id="hbeData" type="hbeData" data-hmacdigest="4b717c55a8f14b66610b34032798c876c973c65b9b011729ba87f979f9a3eaaf">ebe2c567d855d28a8c084b1127675fe291f9f5d0bf258899b195dd47074eb5015557ca4ce53483d01d02873c80e582d6825a5d4f431d272590df2a2f8448f1f5e1b3c43fa8290a839e6a577018503812af5edf2353e703631bf3ddb528b3ac15eb286317e6ebe7db466472e839abf241e9afa7321fa21cb1a0ce4e2dc80e1400fe5536cd5420b44a3ce4fb81bc55d2114eff184df19e1fb88695c62c263427c2dfccc8c20de191a73239cdc08206a5a333e111a24878c3af4a20cc3d9a467ce0aaf0fb1083ae607acc8d4b7f36564bdd310564e62a1683580b4b55e93e6840ac4d9dde849ff355da8a64bebc54456823e4fd6747c818b504da94969cebc5c4f91db2c60a1420350e54f0f0d7f669c809693b8f85df8f6b4f6c2922481f8ef67002059eb20c991997623aa22d1b6999cf63385e9d60426b3634171e870ae0d98d270658ba302b87c4515800ff6b4859e86ef8e8ffe32c6fa608e5d3315ea6a219552fb4f7059a902cfe64d1cef83ef2a9f40e8150e82fcdb718f1f0f2ae641f48152c000a46992822836f9e26cc9404c20f612e23547da718dd08e3237830b7b6d2745ae89b6a6a55ac4398a902aed96d08f47fbc1244093e7bc40a89459c1ec6a4535d3b5f74bfbf191330ba16bc2f578d3c2fc398449fc2847e50891a782503773e5845fb5a43502c9b804eaa4314ca75ad148547a347868bf61554e8a7cd73803ad692e1e207a69715bfc83b783b0c8cfe1a9e93dad72bacf30b992f4f7fcf9e7c48fda1ae4f395fb866b9e328f1c00f2aa50caef1a0f77c059a2b1f3088e34de48fdf6699dbcc78834d2ba58d873195aaef9b20bc1ac9f941fc6a3e19ac61e75e894516e742a56d3fc40fc589db3a8d2d5c151772a934a336c8d3e41e911d718a84ccb7e3b1b3391a7bd321ecfed05ccfa9124e4e5294c2eb35ef5e3460efadf4f23a4c183dcb6236cb82423a83c3a2bb30b8b83448c3777e5d043e8cf4bad4d64741dda973d6b5d26726f2b9d94b75b1e7dbb040c1107ff879fea87cb88fdb95ce3599fe2527b9325c750b3a2db5ea5874493ba4612853867ebea27fb1159164e39b578aa04a06cd911ad72408d319330bb2c4dda15d191c12482b2bd1a3968802ddb981458d0d95205b45a24a2039834ee29ccb0958b93ea9d7fbee3cfe09ff43434f6dcdf1bdc909a7a6cc035df5964dc29c4e274eeb00d9cc51cf073c50cd1139c5773f50ccbdc1541300054b5bf841943cd4b5243cb9ea0a5f7c28e5d5eadbe7b0fcd9856c4b04f61ccc878c75bea610bc8b0818116a99b212eb6e45cb4856bef418254ff5fc55ef2c0d8ff26ee7a7e5b9ed92da317fac100493d5fb19d2f0c138b7933c4a277f2afff0a56ce0d6a16b8b44628085009402f661bc200abc5d74178409efcca79db29adc614892bfda524bc0d5819db5e0d43d958d22b321ec1b23494bf5c5cd779d500c47618d86e4a657f32b8478ed167a7e62c9d5d9f7ce76017dbd02d044cce78ab0a4395a9c45675d5c5741363c2043fdeda5fabbe43a6851f439ee6380109be71a4838462c9087b689bd7ce1bddd6b2d8e860ed8a03050d59df7d614daed45177622a3dacd1aebccc750e3b6700483fde11f893941e82a414ee30ac7b2832f14044c163c3b7dd35152c5a77f5bde81e7a85e914e5a9c8372686d423ecda8061b9dfa4f9d595a6dec09b08212432f40d659bba8f16ab3cf2467dd6d17eb00282965c94e80d81be9a61a4429b7008eec0cb279e3b1fe68928a432f663ce1a557f9cec6dc9339a7926e03088f87df4806be88963dd7a7ac0055d140497e8b925e6e8c637a79348df6e13803710c2f385f8e2753f99f04e9d89bb4fd4db97069c318a38c40ab2b67de9e1b7056853652dfa9192408329cd45e4c76fd3de4adbe4cf85cc24dfc3f1d92ba32e547e3982a2f8cf4ea60e64495eb57c895b0a61bea775ab62a6d754be86fc1e19261169120658889f28563c223a3dbe462ebacbaaac0e428ca680238a43b1b0c67cd70abf4d82f71f209c7fb2c78fe7f2b808031ded7e5d4966425012633ab9f602432455f04fa7f9d5a4cf4ed9f92d2320f8b0ae82a715a50cbb37fd7ebb853f828ab2618fb7e20526618101640323fe3616550aa05d89c037d12a39a29d2c9aa2f1d085c39ad8dc0fc0d845e744665def156ed512c48b7c1c08f7ff9a1d8650e94010503af99fb9b71b658f22aa39541213482cfd1a73c1238d458451119cfc596169f00a30c52faa6ee87fe0bb73ba16570d427de81843b0c07c21e4b530eddfbb6415ba0a8c4ca141c4e05a70aaddd27b8016df4ff03a5ca1da62b530807a9fddfa7453b1647ff82664337552f61d78c441c3c626ac30f4933b3759d22a2f9dea020e215760824cd46a97fd1ea5ecc3cd04eede29dafb00b938b3aed308b152667dfeec0368ba10cf75e555d437270d821a2df04d3890b40ab0c9afee594b20fcd2ad25973eb62aa47b8c63ebd9501934422185e79dacb4a031c9222f773ce5b9976c81524f541286976b2c6696b0cc96ed1cedeaa102cbbf7d7844ab9630a6b195e3ab42798ddbf272f394aba71b17dbd59bccc4efcf390d25282f05b3ab022a44dc90a48bbd8d694df10ea4b10c7deaf692734472b793c12c14288b8461020a9dfb3c33cc8e7acf45b02113bbf49c29187afcc8a0e57b334e314e5f3e1a254d3955f41d7703d156f9a427b2b6b47e5a8830f801ce6c3e391ab2bb14c9aa03f17ea39bd0950cfda9582129ac24e6bab7957289d93565f157870cdf1195541ed8cea91735de411a26d9c4c82be838fb47116b51ba967592a4fcf42313c7b8c5de9ed81c39e724e57cd79b367bc1ac86b77a725d8939a40a1de31f554990371399a5a6d1dbe33924aa41de9466539b97c433e91adfae76a3ae88b09a0c90cae745b62e92b8a1e869cfe122c5ef75cba837c9efda39f39c48cd75ab77fd1a940d989f41ac40455f3c79d35bbfba41237ee1bc990784da30ccb27c312c59cfca22c8447f766a60d17ebcccffe7ea03fcea4302d3f1c40892c192ef2437af45597962d2a540314a8bc7027e51d19a37ae537795669afe7fa78b90cb5ab9a440cf7768f686ac40d4fffb02434e49e80911646e9abb0c5973545c14f9747f60631d12db938a21db8c4dd9b66fa54282465acb0d77dd312aaee1057e0446d93daab29bb25c48613bd834774b3639ad7c71c4959e167a00fd601468153239f0b355c4dbd2efa69bcbdcbcbff65b1e086729e211ece219fbc1bc9307e777afe5ae5a84a58f54c54d2a0ac109232953030c1cd5d1eff49ad8e667669fab2913c2e49022bc78f4f31b5915efb2b986df5115f5901c003b540474d554846d45df4a95b4f056b981ff9d662e30ccbce9a8f329b0108c5161530e5d44b2a150a657cd64bf389ad0ba374be78a1d57978f5a66e8f1fc42818b5c9b023523087fcb800d1ad810422503505074340f802a9ab54489955e291e4380143d964a693e3f0a1aecccda031e5021811c961a737a6b308d2d8a7370caa4810263f346a549d9230f2139a4a12d1aa5d37bbb1715e53f2b7344dd1eec891ea7ccd7db7c60533e8203fa81c2aae67acda1fbd4f4083648e0b48d7aeedc27b09388c996098aa917a887474167077aebbaf1e8a8fdb4f424144142cf71c195d23e14fcf0b14e6f96b09df65370b2ef0ec3df0662be54879dd548f788c53857f79f41a549f8a53c8a1fce7387973e88743f2aa0a970d75f28111813411a71a3e2841bc4efedd77fba4ad4b714cd93397b84e2dc131ea9aa2c4f98e0209067c3523cb7437fe5cf4df3bb00b9dfa541675774f290f53a85913a81204d07762306e14eecbf440b153adf2e98671c041654e4427ec723e958dad8801cbec4f2559f0fda375c176315c1924fc291b53de04349c44c78fc7cfcdaa73fa385483629870c369e0d5af2c56690dc296b1b1af7aab4b1720a33a8c9f53092e585e6fb1757c06b6150bd185776ad4e4e04a21559b1c144da03383534fea7ee5165dd13218ddaada64cdf50cdaa368e0a65b573f9f88e280f37c73684f593231abb3e35ccd379685ba66e256364c3a6630936f354505feaa4660da4ea2a547c215b7b4e8849fe7ace220b4ffc2ee9a29e46d8d3dabc85bf21700d4f78c4ba3cf85dfe8678b96c629bbdd64d7801212183240f8c9c872040b791f5ace69334a412a96263e7e9f47ff0288dee786ebe31f776063dcc60c5697e3e8509daf6a8df6c31b6c2e0486962609c7464de48ef1295e660880a6778fe5bd9c2c938258a384e1bf97f374e52d719a77c6b03bce8e42890fa677fc86bd02bc6d531a55efbd527e3087cee9aa3b4c93c0d2f2211c74159090231b8d75f84c49a99b6f44da2f8af96b891baceb8f0991390135e52da1b629ce7b61868f25f8e656c5a4b0f7c36246984009c42caa7f043036909483cd9dcb3100159b544b695fd3aebb350c3125c744eaed0ef0dde43a5349514e14bdb2a1fe136404eb10a4dd0135e20b826f1dbdea18758f5af59d381c72b0a56b692e2bdc0c4a75e2f4698a408a3337b372c44669f9a75fc4dee9c0f291557e91198e0407507577424ad8df0a642b1e43c838f4fb74c0fc17f110a6173cfedeb2e30e001804b1369f6c58e9b97f7d2e36bceb908089887ead9ecb4fc8139e0e573beb2438314368e69897d944d5490b49630ad2d37d5f6046715115300c764cf006573281037bc07158299b4af97e852fc1ede0a10e5b5b96e863b4353f93d17cb16581fb4e37f3139074e9f08b440ffda9d70f12e8c6bbf8fd63a6ff222ddcd825266a7e2bc01e79299251e86c1a81b063d8081e01d2ef532f2fc2e520c2c3d0c92692ce529928ec5c71a9c4a6e4c76ad8168ea9b1c77805344b53a084f7c3b7facd1071266449f24a7c95b9992022b9872b15ab98f26b445a367f1220feb0778513f4ad053b35f916115b1ac7af341e137c20ca7cec2d617e1595cf2826d5731c736ce6f04445c857839f597abb8cae5796ec65221d5ed41c444e5a9e417c2c3e3ff2af68ed70aa8dd85db6b06cce02930996e4a0fac273680f9abcfc19113d9b224324e17b4f7adf7845204abd1517488e7ad1ff2d5d067255755837fb90d125f9181245b9f8b97b5345f583d13db8b8c7e9c0e6e59d1ee4129735f17a2435d481e47fc24bf067facad3a1e7f5c90787fea61e3888fa21c64bfa88876fb3ca85d046cf4e6a35130d1c8d56ed46a99c6c88c7ef981b81707ef0a8a201dae14770a87fe17c345e3bd1b205ed010c3f775bd76c4a682c1eb3744f565e5e8d292ef1a59644c372dd29186b85de67b30f8e59d6cdeedc9973af635102acb240167ac22cff8d8323cefd92b1d8adac917bd522e3aa2df0b37f90d30a092d3d8766bed22b840de92e89655ec46768d3e35cf99caacfa722c1be5ab589f9506f89f931efd9e865580d0267af2737c94b688ce649d928829fa3c5f51dab550db13b10de8e7e2b82582ebc5d1cd99d3fdbab12c2092c26f1aee3debb2ef24108e940d1fa4bf516be049b820f78ecb0ee6e12c91e3638bacd2f3931c764b414595216347225e1a0bc99a7601304c896addb7ed194f8494e4328f7fe9098c4788da702ce08a71b90563a887a41352d348b18149f8791b7a22b3c488c0246f3c5d4885ae1120179a5caf8df46985f10b59c34aa2c13d4682b4c265b990c9be9cf47549335371b101bd91eea935422fce34c6d83eab7d58cc67e98b6d4fe9c109d592078d4ea1a37b9c74e5cda050ef3680ede373455a2f6f834f8fd691122849ca58798503a05f2487748f3a0928c90f86fcd620f880c931baf0407717bfa8b9fb7cfc616d427a92792e7b0216facebfea3da769c584cbb207355444d344e3c7a6cf591293eedb26b20b0a0bae75226b9a6028b9034fb455bd7217d0711348887cf91a76350b63159d5387eeaba346ae3e0f17f53cf9c634105fdc462f6443fa5d67b92bbcbec55ad151f4a9c962c40e1190e60de55e956b40d9fc678737a758924a41015599e3508f574cc638e16ec0e5f14020b7941edee1a3fa29d1dac8443a274d8104a4012f7e83182e40622d4b1954be6a227505cf53cba6c5aa9b38281ea0e9496ae06c8c279e0ce409670b5dd7c6f5bfab91b2a709bf2da032651d9235357cb6a2be6c6d74a58950acda060b6fefd8075757ce6c3462edc8a3d563b3d973779006f346f81989927627bd5179485ea840c323a6126ac5ce2755e013f0f22f9ae97a523cbcff9d0ce1f53002ef1beb4ec2a611972eb8480efc1c973da773a6273fe1c3cb00b41781644e3a98944351b50d0b12555113340201fa9d08533ccbcd035b4b152d22ba8069c3d08efbc34a724ea7445f58ff1479f82ba9f93d57499304b65f2c127ba8756b6fb3f8c6b4cabb1b5f606b87a754f5a3116b53144a414d279e4bd466ca000b590880504d2600f7c3155bc60137d2c04be93667dfe2a0ab3a1e416f0c44f0cd4a572e105bc4da9e992a70dd171647c3a6a303d800c604b2ac16a77d1393bb1cc819cd051ac3ca28decb0221cfa73b20bd27f9538a134aaec7ceba374314d048b8318531f451b134192ef35264a5d98e2a789ca3e57b878b558f81e4eb87a883c37d14ef989eae169bb1e83bce734ef73dae22467b1d7d6e4b17e8aaa94984b28091d0523f58a96ba60c00c84621c2769a2f7326de173d1fb978f628894ee07865b8ad0664e23ca0281136b1f7f22e454b07d67a7e0de366187c0c039696b29a278c4b07ec442dd9b2e18524b0e3f7a1209cf5a16e0c2eaff14d92b74d052055f9f9dea1f9466bd14cf902fee1b93b44990891d31e34b5dd788cff43867275ace563391d2107bd73774f9c210d972bced99fb384c3201f8dd2408c56b607311edc86ef98d341dfbe1eaa1320abdc4e5704669183ea7d187dba031f87bbf11aabd9d64fd1f45232a7baeebbb48c74da3411b7508e589a614c2cdd487ea4b2bbdd30274fbb8cd62ef517c8ab9dc63e6465107acd7f96abc8bdea0815a6ed0be3c863fb1bea80ea54d5ff4f592aa0276d8a91da4f780d3993511affafd3cbb56ceb0bea405c552ba6a8034d203c6a2549fe65406cbf39f57c5e16a91c7cdb08a84fdb8bf31449add981c8f7eade7708b15d84f0b1f7e0f473d399f123a7ff3c8f30f288d4be627fc0377fc25dc37a52b317923172d5472fe9b6f581b0e2c1a5b8a1e6342aa92b1198b70e4e431814d0373306a79cd7beb3e779ac82d1b3705539339acb42f53285c7951b88476547af79ca5a2e1e54e679ae853f03a3c73e30e0816f32b90b5a1614b63336b987e72479b12be2ef729e1d24ff5b3fe49117bacf1954a39fb84608e29f77ef1483917f3487b0f477c8851662a5b9fc99d37bf06e3a2c24d5476b7708d4d8a758f87d4e9b35b0d158e23bd353ae247ff401159a9d2de577597cd02c1184f36cfcfeb4ba8edc524878d2683cd2a308f28f82035a2cc9d9aae84a34ab5a78637de4433dd7164c70de2cba93c78b719b7f37174f5d55ee752e7e354e1bacb59687e32c200c953f81c414db4c506ea975b1be4fa8c67ffea327e36ec4fcf68f076d34f15eaa8b917a72eedc9c27b39d933f68e9cf03c029b6e3b08506e0f79f8d4857ab64cb8adafce615e0e1a88c4a28e1a0e37a0cf8b3e1728b537f845c236227d4fd2d52a71600421cdf6489720a217f8e4e696cc7f506039dab6546864d216719d82de6ecd325e3623021decb5f51327adf5794537595bde45aa89215b18b3e3a33d1780e52164744ee4ca901023b4c652090fe2181ffdcee0b3b6b726f02077aac4cc8cac98c94e99876ee797b1615b979f13f5371854f9617ed7521aa6bccd6739c776626eaff37a265a03bdadd5097c02b65785df8f626169e7a6a9db5087ec7006f1d67d21d54ae7597e810f731f59f652b5d64c7e9b5875dee8e6b558e5f9aadecfaf6864c221dfa3d682cef0fb3f9d8950de144c3cd1c92c7c4903934f162c491dd37f6447cb3c74a944b15741224405f0bb987eb7c772117a5b4e7bc64af341772813eb202d1efd1be8e5b6d5f3a2f54dfed210dccba76668cc951ebe0cb7da10484dddb618331cafc45a2d120fc79d34405958c4562328955d4e0c219c22097f027a19675e14a97d17165d5031132863e908239afa0e3353f065396296cb38246e33b73e3bf8cd3241fabfa2275a3708041632548b202a80d781155ec8a9f2225590fef83135068a9b7ebdcda34734a12c8da7bcee25feddde0d42a0723c30b85bb7766cfe4731a73a4617f338c2a9e1bbf274e71269e266ce3b4a0726e28aebba74239436c1b15b5335456918c690f7fd30164557ca2de2198777cacbbde0f6b151416a040cc5a8773f91a7d3c4cc3d3054b0ee17932010acb5936e5128c7d7de3153ab0fcb6b5fe154304cd2d175d7c88b5ef9a688e6336b3864dbe2510a1edf653b4db2ae60dd6f1a4165895974547c150f7a6f920015461825f20514eec3b929bd618f1109ef6a300280792a467a5d7e0be98c35464293e516657aa94e6a9749021ed7f4ea9d0ffc4f32f8ffbd1a90e42f8b12ca33950adba6c824bc90f23239661436213da6541439497537951125aa8ac2e5e76d9ce745402b16833bceb7cdffb7000ede1050c12d430f70d1b3d8fac3f88c7f8f81474594b0b19c3e3384cf643a0bc1d30e908afccd3c1bd586010aa334b29840b35fe0cdd03e40fa89153acbca933fbcb0bfbd0607c35af71a3363c126e6312e860c365464d217855f540a4e698c941f965dddff2d3df57441b98065e483e26d2aec27c37598435dc00697af7dcda45699ac01eed065e9b89670a650f6cb2dcf94f9f2f31cca56c285dd7cd18bcc81e4abdde0c2f0b043a8da2ca66c7702e9e56a0253a1a0522805dd76392fa6043b33bf57c12ab1fd4a9e74a93cde1c8f1d5838dd7e3468d6bc8242cc836d40076b7c66126bf364529e2d611296d8c5bdca652dc5bf5c09bea3c66464a926c61bbf9b7c0b0f9e4f33d5ae4e6f579758975c63407a1df78321ba749bd0aef621512016af48fb0462a70526a775a7367ce63ea6d17af76a50c001952a27eebbaffb1626c9c0ea746844e2ea9b23a0d8db519874b0f845dafda3b69044de91151d350951b7841c20720831672d37c44e12a6ec56fc983f2a64a7871262728369eae24333aa1e875494429b9d750b468714d7a7e822a4e647d7671d9a1cc058b20dcc9e0daec53662782e1be09b6109b4d020f9f96d83ef3d3e5770252c480c0459b15c2a4203a47ed157937b27388794bc368d9357a527f7dbc1eb306d65208c8983d68709b38bc9c1fc0785166aa47f0770b3e0e7f4b22159aec9daa7e477e676de8b38964538e8de9362dd6b976973bdc14e481de94b8b89c999bd182a12e88615ee681775910016dc99d96274f2a697ad263f1baf780b0b6d782d3d4f93d987ef6f9f5b994fac353f643a87e9b364e8ec6bec5ae1ee1e788057ac72f3159bab1e3b56a492d4ec8a0abf9f3c018afba799f74b8a5c9e77f18305056d4c5a656b56d0737a936252546866239837e876495f17e7db3a914efe35c66c67e1be2bff24635a1d3e84b3c76e6e1f9f51c5ccee1d5dfad8cb2c13e464ee5d2ace999502316f842d2f2cf46deea7907eba8e5204539e340304fc392aec1af8239ed07822d28793afcb92e418f914a0c141f0df9ae54afa9be1229dbd0f0713f9e9e39029d1fd7aa6839b1aa5204f3e505d1d3de7b6467c636504a010303e642adb66a42cb7bfd072e26aa4383383970d69eece83e05fd95d67c611f80c6fc5b3b29012564e971dcee82f2e84eb88e29f21deafbd501894624b0eb2ecf1d3abb6a0239592e0c84eed9df5b83a1944cfcc3b505fdb735932b7e3ba3e5bab1906798ca8bf3685a61ae354ed0b009e4589f3c9821528267d18647b255e62660368d9ea1a75239112a0dbe6db8cc1c8924ee20be93b3e81764349bc4159e8f9fe73ee7e6da7e4f907c2e0bdc20187fe1e0ef8975a0a734e61667ba698076361ce54414897b943661a5a6991ea126a6aefab0dd7523c4a806181d70c0f5f23c902bd78ee93074e1f961df51fb18da2719206442577a62dc53f30faa3b06afd8348ee53676416bc15aa61c56a568cacbfeaf2d8bbb5231d294e8ff12340cc71aebb319a5962f9d0d9cfa52eb02e0ea11827649916d57401cc9ee5f604d3ff2aef4c3eb6ff105f27ed9c646658572cd64942b4ab0fa4d352d295c24f46780bd9c3fb28bbda5124b782a1155b388fba85bd8e0b8009b2bd44f43260aa7330b32e2b15a32bd09d7972ff897dffc68c1cb73f1d631a2f36c9cb5d08389d063b74a20dc6c9ca13387f30e7ec1ab5803d278efd18e6758ce0e0d8c5ee7f75d0bf65110466c13eb2326432bc385e519f4cee5d8b0cff9c973d7c37540eb747107da7da0cad36a38d300c70b706073906fdf77bb523004b35daf35c958b82e5e36f4661b44db6902145d469a5b6c5789cfe4b14423525c572b27c02c0577eafff17d7217bc692ab349d7f3828b5d5d480b54b468d26cfce384d078c276396fe23a8aa02fda7915f47165edda511d6600ccef2c741d86bcb4c710bbbf4a9cb2dd5dbd4109c005d274321aad35ff85a52b5188660c4d82974bc0af0f621ac992db8f7c28d1a3ea93a9fb728911aa8aaa033a174d51302dd57dccb116ecff3edf3cdcc0bcc0e96bbc33f2c5bb91a0c6c0d2f9064dc69ceed44c40a3ae307f619f7955d68815662530c10c15132927bd477212049641c2e460628f83a7ae0fb93475261f0bb3081cca13997e73ed910fc8c4c9ce92331e69f77445ef8653803e7f81dbbe5ab9575c085ed1c82340b0c248804493c7a93b8ae8e6ed34114369664bd45d3c1014d10aa8c5d8ae5248b07ee5b4aabd8dfd73740e594c53813807c076cedcb40e7532dce0706662e800d3880765faa9fde22a90130d8c8177858361b6b67f8cbc9ff6e30c1a825994c0c5f75e291ebf7f4fb8f9303a0b574c87f35fe5d72e7527db77ee1f26cb5812698d1b12778cdd79611fdfba34793d238c0030a03be1e7212baea4941ffb9da554b29c556ad9797c575f6e09e61437aeba9e5e74b0de94521fa5f0e8390c99cacf904b47fa97021281ebfb8e10e18ac986bb24f2626a3d010a4a61f1ad7368a2312495b2640b506007d83bd930436be25535597a423adb998a28ca4e56ef3eb5638170b07831fd7078dd4a4a7dfc95117d80a71510cca0ce52200297dd1072efb56b4c23abb4d1b6e7b7bc06e54604d9708fdf8ffa5894764a080ec23377bcc4d26a0982a8d777ef913c2d5451af730e1113ebb707af46d9378dfed38c5f3db579f4b14dca849a700adfd364d0a299e99745bc1f102ad42f68dfe2783e3ad2189b05d1f53daac0b84a3f3f995ad7f17f09a8935891ce28981d299c080c1dafc98af057d9b4212cfb53a5265a41f1bcd9e1c49066dce72b0f1993c7f7d1705c452bccfa6beace0de1de3de17afc8ef66eaa382bf334e81e55994cb026d52ac79513b5649def751b60078130a240537c484735ae9809b16c4b8196c4dfe33dc5250e80190bfa43507eecbfc1942919e8d9936e3a37f58253922298ee8cdd21f3532fd56e3ee72c461c9f2076aa7071924812798aa36ceb237076cdca71204eb0e28345b9075f3957cd90b9c595302b43d78ada8a5e2f65ee5ad8983fe4becd28ce68a5b654d6e889ac69c62dbed69d9746b23992d3224277d3e8887e87c1eab5aad85b6f2f2b7d60ad4f046af61820ae83f03b587bdc53c765f194ab84e9518efc4d970ebd5c500b7654512914f5c9de1deafde4042b3734725497e349a4bfc70da466cee705757c1d95eb2b5c746143efbbd751509ce6f118db96f75fa20b4cec546bcb98e3143d7d8904760bb9b23f89f45c05aa668449be7488c92142a85513cc56d30ed1849a5d2a77fecc63513d7fd9cd9732550c919cad9889b5fea13f9124f32e763588b234f40b654675e8a483c25d1b943b04cf67f558dca015bba648defcb96598dde3ed92a8571a7f4166bea815d112b5e682f7e6290e4f607ab49263bdb4108831e18be08fb8feb545318ed8d9b438166e90b384844365f0fc005cbf60e3647b30a87f1e1efcaa70a06bbbfb89b34952d7c6c27886a6c810eff1e7d6a3615e5e3792ad326989a3aeedc7678738a276a71a9e796ad8140cb676ad1a76471a464e0ba63a58c467bbcbcdf82139081ef4bf48f1605b093a61ccc972224c74291a4e1ae6057a160724d1a50ee974d2b0a69b2123b72d6a68608f4b7b8a715e7997e9583b47047e3115660960cfedeb1c7491ff737758867d9316a7e592045aa47c91c6166829f08b9c0e44f4cfc967b3cf0014c4f062fbd1a829f60847fe39f7a1dd7c46a256ccca225aa5efbc39030cff5a48c2d5b241d7478e806acde5698db33860720c56039f656926340025927c96b4392d39bb14a0ef34633d1ae78087eeb74304986285a5d44ac33e9d4e205c81eea48d91b3cc50a1ae357cac2b3ebec355f58a88c1a55413599a1fe6326b97912f11dab7c60f0207868fff2c5b81e5808f191888b0299d5eaa6a8f32e3f1a877678f48d109f0b0d5a392f11cb65d707f8cb3138b0a0f30cd6e2a21a4a883fcf9d55ee63ec64b33d513302d5d641a8d6ba9dfef097e11e8be14bb1e245f2ae7e64a018c1aa21b16fd50b52a62fb0b4643a66582896a2caebc0edc6dd05ba984a6d1aea0c769bff951e33d5b7ea1c9e58a797e4adc4f3e0851499ab23294b25a1337ca87d942cdb788038b3378dbccbed3b254dcdb8d33eec695ff9f36194bcbb90189d76a500f404ab79b91cb21d410ea296ca10bc14dc0eb1e108b6e36b6d63fe87e6235ee1ebf2310afaaf83237badae89db7f4917d5441ac9124d7b6d36ce53dab472672425564118f2fc44059704db04da5b65de5e80ffc79e9e8fdcb3d340c4be94e049d55b1e02561b4cb92869f70a1c8c1c80125a93e56131324ffaf948e0cacad4cca2c7497ef19768741ac1e04396e82126636dc4641df220d81a52c201b9c4a358433fb64a788e0541661896b1a1216725b5dcd8562470f490e8d246952ac5d4d315b3505b74c97250c73f1141cd49f503b5864ec6fae3d00bae40fa0510ab229a4fc8203f0863f2c5adc4317be7cb4dca038db1bce2336e0165bec8cd7801c38de4d25090000856271789b9afa433c7ad65194abc7dd0a834b144d95a97202edcf3b5de0ecde80a16f066f1c79c8640ce572ecd998f5bbb303ddb782846a352ddfa6126790321aaf12f6693660ff8fd225961a04f9b8c439babb9e50a0759f2081e48ff34e3de7c7f5e459fa07d8aeb8dff4da8307a1269ac4cfeccfc70d911d2092f8f02837db5cefe19fc93e1e972e4d460e0071c2464709237ae2df725284a1deca587fc74d5efb30db934a0f27f29e3468f224182ec545b823680dcb4e9399fbd3dd4fe2b477e63525097292a8dfff0631913e2c5e609a38e1ceaff425737afdfe67b73a39f9f5c3e4341e1d4206f497a536b8b6a08a82057ac7edcc833f4ed7f70af279d096e0e1c7f26df2377985763385c1017aa94ae1caa14065b4720f452696507184ed78deeb4a3d3e077b4c9be3dc6957b6a1709075f893e998a56f1953686e543288a9dcd1536ad2d90b75e0c9926326cf648d15180e5e4409d119e3d64dc3957c5f858ec53484098029a50b378bdc969a7f6e0e173e1ac8f480230e88a24c13084d6486cc26fb2b278b7c219d480ee21af0cf364c7849330522550a75ce4f9f6e1578834e715f3479fb21d081d88137527ff178eb0f1065855a0e3b525c4b020293f430b48a93f1e85726401b4ac257e001c7a7f36bc818ef124dfcc4113ea9599836790cc576dd41c9505209e11fcac5defc246ed6e8b1338dac50f114ae1c8be15d6d093f8c1bec8b104c771fddea5485107ed9c26ed4be67809cc814bde56083b0fd44e70f26510b0d29e944dd0e2c7ba1e0ef2040b319cb33032609d3dd87d51628a13435e4f52344ac915606bedef394f32875463fb2e22277b9e3f345e54b03b7b8ef29fb1c7b755b1f7f1db5ede6d772762f386f653d89b933fa160a62f6ece1aa76b5b399faac42219264df1b6a946a9fc989ffeb611487ad01e7de467093201f77e9171ed313aef946fc33616a9cb452a9a7e88f7bd9da6f324abd5dae5479a2e357cac28d94886d8e579a92290f65ec2e3cd91be998605282f1945e9b99a10833be810898e5175a48329994b628b58cbb329adf696773cde0c20f23a8622f6cd157ca0af233e535279f967db800ab4fe9d7e939cb5097db7d38e19e366d203921cdce3d9232e44a9a2962551e33b59d587c272686287a022f577c19b7a70291a57f462a9782435fd49c28afe7e70f3c75037553b48b89f2f3df5e7dca59c346b0d1813090268e7046afcec2b33ce94697be7a29d2b94c80d67e90bcd374794eb1a7d0419d03f7ce5d0d557e159817e15d04192d4b24ffb4dcbf4ca3fab80e3a2d2721fa9b6da3d3f0c2b9acbd6c083c7e2369a66307d114bb111f0f8d401614955defef31d5a519991637d2af5678e08b633ae935e4b2ee19b46cb4d2686c5bc2183ef640a7592831cd84f999707d7ef2ef9472ac3934597823d0ed7b02ef7d1387dac3dab9b674b9aaaa47d17a4ddf1cff6083b745cb1804e2944dc272a0ea7810f6157a97037764b97b7e59d425d082d0d14c408d578cde9f8063e5ecb84a3541925c603fefe044457f6127b6b6f774bce2e8f4249c321863052e6409ecd2bc9e58b2814d4741fa1745077750ae84265cfd07b0937bf0b278af9858f0ed3dd6f195808683c22af48147bc888163aed8922f52c7008de04509bc161ce82a2a42324fa29d86cf9a9afccf902d4230c04aebc668fbcaa81d082d68de0d2ef2ec8313180c81d5378cffef38e8c5d8f773fb801efb06e938497a9b2664475e9e56e75d136975ca831ef5328eac5e0338293b53d2f987be54301308583d6643eb3198314959e377126f5ddf6fc952ffcaced47625631582c2836f4e4d494a7904bc7a1a17083511d66a2a6c7db9d14fa8967a2012f30ee8df236df0c7426dead133ab41e45639622a7a7e1ea96936eb0e64470a558dca812f1fc55859b6f3929fdb73d950b30e1297858e01307b08635f8c913a47a7cc75ffb27b32778065646c862e96a5024dceb53388b1a9619131a9ff60cb918c5a2584febd6fda9fdc41c51593228666bd5b373a8c4d7af29e50c3a98e5499c7f9e9c417b814b6ccf3b83b0ba4a7c9da6fbe12c66f0901eb048cb97876a43b08de55eed357a7e58c82c49a9469adbda2053fafee5a50ab76b328be58ddae4ab09d3b5a4f4720e584e513349f8af20ad71e62167e9704c5fc14cda0edaa41d17122979a3d10530bcc40ea6d21a1ad1776fa5bd39d5223d76ff6b49e19db40d7836a8051244e54c89d391c57d124341dbcc53c2e0bc83b1c0b55052d93d1c87d643291c76fe17fefc900652e961e4083c849d59e3194e7e49e06b29b4c57f7d4721f29213bcf6cfef0188e5c5435473662599de2f28966ac87fafbad5e1962e24ad9e040bd3e100bab8bd22268a09e08f5f3972eb5f0171ecad10d255d23f9a4091e3ac58ddec0cabc131ed02619acd50a7e9040571465e348b764bd106c7258dda58156de246a7bc3c7722ffad4e18c7ff86eb1bc2300bab15edf763bf39be09aec1a6ba77ae07f8748558aecfbacb31228f7eb1db147bd556eacc4f116af89d4bcd761536d98e05fd04c08e3b1f72432f5ad99d7edad766835c6eb759beb400e6040af372a3d0bee61fa99ac68a754417d4325eb73f867f7473afdd870f5fc008e84bb6fd20f4f32d5154ceb471852a31e5b981f0bf16c119122630c2c791600a234e9cb94812dd80a8d86ec9f7fb4139569bdff1c86aca3db676147ce41be3c998fd5f11fe7ed38f93e53faaa9d29562d6c7289f70d0e0e190ec99cd6232382232e537e85dfed7bf140cc67c78929eb8a92ac49aeb69113a3f111a750887ec826b16f9ee653a9913b978f98d1b268e894608e4286510edc11d472c456eb0a26cdab6ebb53af75202fd486080c9b4ec39fb0d58cf8edddf19e11c7f1c0e56d5375311c2ea8fc1157652425d430a1aa4386099f7bc5b353d4b18028a0e0cf5da96740e6495f6c52b61df94548763027da235569dafaecf16e87ae00b0e28023a80d1cc8b15adb26f3967dded5ef5377a2910ccb2364091cb06df61aa2d9ea5295c30c7360f2175e871c164f31cd08032092e18369370a5697e54d1766b64b39e9b1ef19ecbe5a25310ae941e67e2007e06a943e6f85e4fea122b0ca7a970beb6e2191b52ddf46188d8c68c71837ae60b5359f0e7c1cfbf2db95793054ef460cc93d22ab7eaa51b1ff8ae9868ce64abb029e300dba371becc517fdadb4fe0a646ac68cf9c1c27d8f9369e82c7c8c241f38edeef69c116e64a802540e20cd39f288732755c1aa924858fe168cced0a37c02c603ca52fd6f0cb00141976fad5a05f4b0f684556ec32a96d4d941f344bc837ee6a1481e3d1183105a8fc6246a0680e16c714e20d1e8ec8e011a7cc749046b55bd8b3370fc21332bdc5b20dc85233ee68e1ec162ef16f533e4e0b8163ef5c262ae0ce3c3baca8060c70217992a19aa5bab5891e38e110252a0cec75bb1ba44c2894edb36e4719d56e39985898f754b925d8049e937ed508f023cf96a67177bca569b28dba0ee58c11c1e67382b8dbfd2bd23d52ef79c293ecf6081048aeef9368e11df6142e10cf868cd2dd43bb349ba1c2dcb2ec64c67bca81b0cfb25cf0756bbbc1b1e82f205316356e88571612eaeb91f5668ce13d90568801d72c870410d920920191739e1beab5765065be088743d32e8acfa95c5d21bab647a6684f1d8ae5715522f4b15a2143caf0ab68e514dadb6fc4b135eb89433bce3d5272131460644bada251328343ebe8b5e1510b25a279373656195ccf5f9abe533bd2d12fbb313e21f39aa1ff7fd703563b610a66b495a09b11b59efefb0c4b2508f702ec222849dc88899be43512ff875a3916019dc8b59e24c1e7d531573f15177a0836eeb418acfba6d1496ebc32e55f14eb6312b24e7baaf00640bbac268b22177833f3801d6093aced1439652364a7b75879e2ad891f1b70737f28cb55cf18f4021ba442e06ee6a41d4092644c8893efd9b713da24279304b4e054bf28f4ca9de5741870724bde45f34926f9aa16b1af30b9812b0c99a2f89992e1394ffb80c7ced8e1d764b42b466b22b1494b80a9f81596f1174de46dc174130c2abb0065f4863d2c10f249443c11802459b510871bd7821e656a7d1b9d0a3f4fb4ac2b04095c821df9c5eafd9593b0643357af4452209e6f815f7c288403e2392e26472db69bbce412662ff514ba273b3d14d31225a829c73917a518cf3478e179cfb854345a6c0a7cbdd960f829ff58cfdeee9854ba60c4976efff902886872853ec8ab5396fcd89557004a147abeeba558af83104a8878a6963ca60590797ae8d2c451da3236b4c6821df0f2be0265ec5abde4cfeb1f6512a87517bb2a94bcf1ce29799a4ed08725715a8228fe0d61112153c55e585617198e34edb1e3c6a7bd4720473a549e5732ee46f560b034f049eed639522cade7c9ff8d746c83d737742d11d83db3167996f9e5cb91f43fe6376a051968c5678052c19e6edb5b97a8c2843b92b6bd6c90c12d4eb5ee5e539f884f70eb8938126eb0950b73e7e8f6f4f0bc992b46c14b323096a315c6483da06b289c890b61bd758cc7672f0432da1e403482dd1422f92f47a878b744ae4c5cf1cde5a3e399e33badfa7816eb1e49617a8b6a7dcfbd521b0d4f11f249f9a533a2d7e1eb1d43c6a51f8c85ccd651182fb977a48e5e7405f956ef5183f58a372fc6335f6383004c3008adea0a4f8c650e8b4bd1a78712f95c1fba9071f0ddbec010c3a71a892a5d0e4aff27c84cc403d5f8a19355232022a9572d2e82f8796d1e6d4d008d154338420d0c71809ee6462892b5e8b3465e8a8674fc0e4e7185436cb9a8a373eb8db055c16ee0e50579172bc5682e603ca1273f6ea77754c8f844cb100ea12423054f1218ae8f38da43107529d97e29d5f8f01f896d6fdeb6c2215bae1c4da7305650cb4d6b9458e4a3306ba9fef7ec0c53fb208e2203bfba79420f04950fb91f0f29daf7b86ad4e4d1fde5553e22288a1ae83baf873cbc83a2b682d0d105677bdc21515826eba211507e81a294ab33d3cece017f85fc326dd5147f40e3605e52995f3bd6ca17fc40921e48759f07f8440d52391f2cca2a2bf8a84474f1f37cdacf155829f2ee6cc967fd062c07c25672fc92bcb64cc709ae6c86df3e59b980fb7ae59f1bffe4662b79666a447f6ccbc6bccf4d92de9239165b726963faf1b7a5e2c83ccc4063d8af5a2ebc0a32801f4d76079c714102eb654aebf0cab7ef2ef5e2f41e2795e73b0ca8b67b8ab9382c2b0ae90d3d06032ff9bb622ca77e0c0aea7f6b741b2f9a7aa9e781d31f7c81526b01f8e9bed021f756c34ea05f3d6302da24c94cb3f2d304e46660e9e1d84977093848f7c4637990c2fa30d49bdfbd7decc645cbf306523852d8a164f821899dccf7f3f6c88ffc0692cb5848ad3ea4fc18cab5922c415b1ef36a54314ca9216623953de236d8c2bad55714be91c0340d2dbf996dd27e9c9601d00773ec4c9f0da4d28c03dd7523711ca6f8d97391e33d6baca94d9e3ac10faa51fc52c535d793cbbde1d28184a29ead35b54fa05ab33496fb19a3338a1bb1fa7e28a8d22b9534dcd1029f0cdfd5f2231fe80d360fe8c727e951cc753b21c5256982a9a463c0b8f02ddb403e1cae41611237729710048825dcabaa21129822e38b528345c374fdb98928fcdd224e6e4fa7768aa9f4cbb50e1feff7b9a2a84db239f87a1af881bcb4f599e96392279ad4f8d983202edcf2b41edfd3366710770aaa8ba5d2e8f0d264973ad663e42e8e553eae4b3a45ff04d60f7f1793451ef60f9967372bfb96d821a587bb21c2f3311a2ad210352a7da633f53f0bea23bd26bbaea9578f392f477dcb3ad72a2893deb339a739fd8d9ba7c8ceae612d0ae808712bd3cbd3a9f67473bb88607d683054ac143c6ab350ee9d62198360c8b092af5e7a5c7507c5b0340d42d849fd65052b598991fcc930fd708f69e07152cbb48a74627e074bd0f3260e005fa5dca591cc9854ea32977a29f65186584410b9af2e486f7c76f66c92200e355db658b93069147f0aa822a934964f82474e26371dfce49c2a14ae6aebe7cb734a57902179ba93a2dab76e992db919b48a710d61476132e5d59883d47fcf1daea97248987f496bd9daec88589f2e42606f5fff733129a522e77704fc8d6a77d414529ec23004c2a8dfb4a9939faf8e9c234dff31f07f7d831656cdf14a5126e05fb781e87b3dc5d49b5cdd32c99841604b7d22fb2f4922a35f5388e165944db9eeafb1c16f361f4a884a34763416425db7d5999cd5105295ac688a1bb12b19d577c30493e38b81637cb3c0dd37c89839c83579d10a0f5eb1789629b87fecc78c6aef3a3e3293686579480281c5a6989ce78b19ce080648b6eecb03e0bccfb9239b827645011f69eaa96186eafff04195a3489195a27a7dbab6aa03c903abf2c284a950872328dbdd44c692dcb88d4cf8cacf7a0a14d4e2c92e54d8117fab53611e609ff1d05efe73d5945499d6fd3ec45637131377bff253d56fe96a94861cef66b151a95a74bcb249116f4f9a24617aec5cecd8b5ed11e98113a98e7143fe0f2698a51921fa86635dd691e2a7b1306e6566787a6e31fbc5e1c1e2f186764b58c61506e8b2eba32aaedec490048f19e5a9a3615ceb6aa669f344c35d1a7d2ffe9d6dcadfcdc1563cf3ccce603fd8d16762494baa76a3d32eb02bfa5b05972f9eaa2de61daa029ada6dfbcea5468c3e4ce9689184643c83267a20474ac9bb8d1bbdb18547920445ecb5395be5e492010290430fa1c2eb09644f279c4cd328c3f96a7042b5bc60325754f4a486a3290a0c35871858aab3fc238a68f22f8f8c987f78f3c2b285f8dcfadb4c8e0c9ccb70234229c23142c4d5f973b3acce2d8a65621f6e9a0a8c311a7e4828d4362dabc7f8efc1eba39d3a09203fbc711bcb56b1be088db5d168d83c556bcefb73e536e10d94ee65fd3b39be26166eef606b515ca4e69b94e5bfb77e7f6f6789a3f14019e8cde83493dd015019f6c8a29da069b992d6cde6a85e3781b9f126fb4d9fab11f1a958bc515a11b0cd9098aec14909a8b4ef4b4d8bddb78400269d3d920760f3d64b1984a2679b12377dff800004c16734674d8ed8e06f4a1e4fc35448be40a3dd4311d3ddb817fc37d57e49eb84ebe49796b5e32814b675349e49bd1b97d918aabaa9a493225f2561635339ae6173fce4bad303d171452f6718e67baa8e1353583f989bad1796ce2a89247036e64f1cb6aeca6ee2d5e47f42c804011e19af6827272bd6f4664c21a1842ee2e0999eefde1cd2e164d3ca4649e1c202c0670cfb0c4e3a00621b3dd18a67ed9a92888a899a86b31aa6342347cea627b9613bbdbcf34f7c125c76e6b231491007c95d2915584da540bc9ec7924f2c4ef86ce92936564cb42b10199a161e084ebbc3a85d5f6fcfc51a24b9439cc10f014893fcbb1680bb9ba98ee57d559823becc08f29a616a1930f2b10ac7c9d5590e21851dcdf236fc77d9e6e01bed4c011de80b42c14acb6bb570f1bfe3dbc4640cb9993c7f3fc8cb13ef62a5de742a86795ee4f6552fb0f37a02c28c95f539b7bd343810ca182fb4149c23f936fcba7b170665e56a4216f55323cf04a98f77278a7b8ddf27bb169c532ceb5321df2f57353fa5830748282e5c030ffcf53f7d40c9b949fe41d98b83b35070b0867adf96786591afd3603da09f3ecd9a81671abbc5144e9cf1e7a49bfaf975b4d3a0efd2d47aefb401fd9d752aa13ec0d088654d18353e1ac02c4a03b46325956e8c102b43ba796b6e1b1514571ce24fb9b7c647aedbfe288d358a47a5460a4790517326083451b01b312ab52a21d68e7742dbd5e0890d8bdcfdf039d5bb7b3d39c642b59431955fb04d0f9ffd7a0d45d215ed624ef0d53e2380c36d289589c37c8807e885acf58e4f8dba789095856361b540b1437af27db773809be8384964202687dec79a5468b018c1a32a2e51fd8700c215ce0668b034ad01dfe4e8c50cf02dfc6b4ae77f2efed8ff6f11beb016fbf5b31c862263e77b708ddbeb319a7dc63e482d6cf08e0f0c18883ae3b21d4d2562e1e9d37a9653aab1b300b3c0d1b422ee4772cfc6cf914276ce870ed4a15ef9d145794d91271fa04bcb42c5f07559667f69dad831debd4e68081fd824233cc8dba56e1bfcba5fc28b805bccff3f4112c5e27d1ecdd7999009ff5bf02f94ed1fe850a2ca64eb88a5761bdb3dae9efbc8a54764b0ba53c86b05bb5cb5d6f78a7fb10c90de0da4db8516ffaa1cfb87939a3496782fe0fd73198e990bd2e1655aaea71a77320108af6d128eb38afca280112cf103642ff7c1a0734999cb3453559f8120f54f040155c1cf1baff4f2e8e612b35da3a99a027bf0d8e4f8e768516948f6339f59bc2859a9deebbd23cdb6f2193a08de3a6886875962ee6a94c086f768a94c210338f3c42601feb3ea3c8b17ef8c70a5c123b6add7c51137f3f8c509ef404e3d56cd6cd53d0a77a0fc05b8bf704a5aaae20685eea8db42e7c7b34b2dc77d069e067e5110215ef2b3654185938afaed2baa34221e5e19d74127ac061f2de16d0b0fc938fb7e63399de955b8c0feb7cf771cc11d40799fba622a9ca29961e4d1ca8b3768ef069ef410a8394e87bcdaae9f527fe6074fe34a29b064a7e3b586ee06cd624217c0b70a2dd9cdce340498eee3bfc626e59425a868e46287ed6ec237f668a981049b8577f9f1a8eba13443e0f79c8397a4fea5afab5a8d4b95868056ba909bc797a2197d180ade654c5c650ec15160c22add3fb68119b3c13017c934e22f3b3868213451ec68302eaf1baf1f7da16543131293147ab3c89e2f5edd46d3af4d0aca38bd6475798ffd7b5913c2b74928f3863412c559ab8e0a5193c565471756e7eab7e7894cdaa7bc0698b5cb885e9ffe83ff3b665e57690f427d69afaeaab098e5a95631dfc0013c236772161fcb794b15141a5756bfb7291adb016b172980cc0142a863c2c7784cd580ecaaef24c0ad556303b7e84cb88bc006c73de5a1533ba6cb23ee7ba9b2957d3847c5f2970f1419883c376d52b3d47e5fc82c53fc203b5f119ed70596ab758ced88c778b8aef517ea6994c8ed58fe050cfe1eb90e4f5926964c26994c7ef9552e635a97bf412f28d420a5ee4122d34d29924f097f0636cd241b1c7d3232f89f0ee619c740ac7fb402d79e6e55cbc6d05a50c5817e9b067d0e6472b11e5acd895549657f6cc858d61c64bcc84eb77808492ce0ae4fe3ce6c7fb951aefef1a0e9a492f893919a79b882a3da087ed7e43f5d4a0f175abdc640cc9241bf57c0862431ce519958bfddd21ac15db03d2a2252f60b0022242cd53e02ce20ad9619fe5dba7378919c1fa0abe3926a6af18fb54cbcda784a5ec289e8ea331c62eb964f7483b50ee7098e70cf5b88e0661c8696f59078bc047df0bce9dd1c905227e18eff669cf81c050270ed9253445f57b5d9cb75c4d3041b4d805430b774d29a3e2258dca87a0341acc03625384be8b0c4abb244ad19fa10e39674ef2d63cf11f01da2844d7e2c03830de8f07d158473ca41b736e192d6b8fa22fd813c415824e26289e9a99f09502a1e8eba8d79928b54ca3aeacacb6cb866b516f935e785a7a48331ab3d44dfdfdaff19366240677b1f9b7d5b1aa024e0b0a202209be92dde8ce67d3a9b02cd6131746d0a4f376051383aa5270d4fe93122d75bf7d7eff8200516423d1547844e297e21bc74b47fe8fe4a7ab71715dce6c8f74cb78839a493af30a21614ea52d358b0922b5091c4b7d28b4e9a7374c10188341943af2cc7e4fb07988886806abd3eb437c4973bf79e27d2b7208607c8d1884964e6c0410ba73492c57444a526ec1ccb410ef1a6cea3569d3bf2e330b6af6c03a90449a0770dbb42bd71e9cc4eb97bca499c3b58e25aab8b12e7e7a3397cf90256cce4e0d2c139708eae30540400b5d7ec03fde4bf7886f730071199a124a52476079c584417e761ae15341e857943cd6afbb772ef6ebf3f8eb17595bd8cac77611189f9e15fde53b98c66eb7f5cd7f9b95680dc4d26be9fdf30faedd362351012c6a01705c0a77a061b6e1f0f988339d5fe422f78084cf90cf110edb4a7da76334f06062843938363d3a2190453a07df00ce8a26e7370472e41ccc02373b6b2fa583aa9f90bb139574413051ebf1c55ab57d1378ea15cfc9863982b2e07e4f1a7ef4003227e0ea387dfe0f2382ba0eb322cb05b57d6995d6553af761e4c8a991f718583c1564374f8faa73bfebb301b7e6edb59ca23871b08039b5a93157568f75f325cc480b85cb550cf08678a4ec38d4f83477589c0e7dbc923b5edf466a627adaff926d6adfd21d686b62736a5aaffcb8644119bfa6a7d51407d3c4f5749008874ad3a1060be4b08632e677b8507941c043c7acf5d63da1ab3c5307f5099b35bc9badead13e1e41f3801bc4b1cbfd7345bc4011b212f010becdc5f90c8cda85ab145149fd63fc0690ea0b0c71e2d90e6d80ae94506cea90e95960ceece9b8c0128d29e3bca0ed4bf9b7540f8f17ec5aadc0edb9e444ea5beeea802431d624f904567756c22cfbcb1d07364cb30f41c9f0b00e2beda58d1bdcad32587dba6f014cd6d0866d9591a9e1456328fd923d63a26c700349c1e8c7dff117fc9265a9f1364c1cb215ba52c87c215eb1b6de27efdf064bc425040971755f246da9f36906dc71b39fac6e715d8aaa062efccbdfd34d151227cc5bc59bd2c9755e68fdfe5893d6d543c0c15c4db5422f1506639c248548848dc05f692cb3ef95a5c9d53dc20b830b3962c806415e1fd5b63619f37a4aa949f8e28195177e9506682cf2a02ed02c4a9cc1192a325b2b195443a5860c56db208b274353002a10962f452ff6f0ef67fc304bc37ad45af403fc76082f0d0b094588f50315141d6b6640640e1e7d1c28a637b922df65e1ba0997fbfce0cc763dc34057c8f504ad928785541342932942edd5b63a0898b9e27e4cb764a6f8601d913596fd1336ee58902a8598ad57839e464718585223b2dc1604a86744aa774d8fd5f542aab60c691e57a3fc804d424a87c80e04b600bcf158ce46c281defb84f2e2b0d8eb5ee7f8d684b73165b461cbc59ff8a466dcb0b1c658c1cb0814afac7db837cb6effbd20b183ff96caf5a71ed374f60f5bec63fdc0050ef20f9bb6d423efb020a92a7f5aa51a0d9d253f5376eba177567731fad8e591d1ed9539de7d2500bb07dbed66a860e63b3970da90c70c146bb076eb5e861615d99ca9bb46ba4cf4dbae8de0c549e455d8cc46af5ca2004d667ab8bdf07255d8bb0bc44f7d5eabefc452812e2b4601d0c4e0af4c28287aae40af9aafbfc9ae1a76c4dcfd81a0a879ee59a6b6b26371ed3bf77a3d978039bacc1210455aa7a1d43680ffa1a25fe104ba62cb35a4018bac83d2b922406f6eaef616230229a899d0999445cde52a7502d8421f67ba91e4d391660c213079df680c8cfa9ec9a281c39a23d2928d7a8a569b6621f34a95edcc41d682dbe8be0826ce647f904d6955a02fdf523e143b8a2b07538baf80ffe650efd9def74bcc34059b764af03ec2a26bd8eb51c9be7b97f3a19aebe68a62b0d00853b7a386803622da835f07fb9660f968411746bc2a99f82376f37c443636d6d9993757c06ffbcd56a9a1552a3ef1410a1103e69f897b8565dbb5d92459b5fdfbe08b8708e417ff76faf866e02eecdb207280b589b009bb48bfa574ef876e7b8618a347a0115be1f29c030eab5d3d1f8b7c2ddc0a1d978ad17118dd9c0cc8fbc1d8edafcefb90200177de4f7f854696f7a9f1ef3a4644a1393e1309a790538a8e412e12d0502ff35683ecc8b4d8aa6825b71ae137fe7c0aca1ee82c26c45bec75842181dcc07ca1c5818a3806af3129a37b64229383ea29331379bd647715578b4eb1553979fbccbc93c1388516ae2b4504254ba155c8c5f680cc7a17952f24994d8da7d549a2c15f2989263607ad33e671db32a5bac9057519195f525385eee704cc1707ea667a3ff71ef1400abd3a6452c2c76dc6049f09f114b75ca25a11d87825a46ab9558998ef5f82f4e6b32260bdb1fc221578140b5776e21d83c09094cfcb3f034e643711aee48d5ae0968cfe597a23aa19bacea538ef5905154bd0341989637c100913b7a6084b82795ceeffdf272f0f93964cb21d0e73af76cd0814b44e10ca0c75444732ff7e57c697c92f05093b48142bdb32ea6603e79ff32dece1b2936cb5c6c2ed9769e1d5682f5f8bf217cee1739bc9bde9164efefa4202f6eeefb05cc088ffec338ab0b61aae805fb400f797e8357cd832c5cd8c5b3f98df5b082448d2c0157a784868005574b61d7a7036e9df84921ad7fd0f294de881672646e226252754c129ee4e7b19369389eb937bf77dcf814a6989836356c60ee489e60df3a565615c4c25b7b033fe6cc6c4de5be9bc456f20fefb4d00e06ff410d5eb07574213ca79c36c924c613fb1c8189437ee797539cf958ca86eba008ffd73cd2afcc164b807f11c06c7d09b27958d97b5ff0eb88966e3222c088cd2b7a6135b87185317299b9808a9ab3b029d119456a7c295ea45edaa041976448f5cbd085243749743d87f21c40e0428aa3786038eeb0a3dd86abd18ff343903631f10fcfaaff601268ef64ebbbf82088756c5e1718c12770f11f856c66fff25480371235f58c199ce68e8e2462313dadeab94bfe7428ca119d2befbc93a2f4d4459a0f155c4771ac0a561f6638f1736d594b89a1e4c352c5769c0824d127f9026b8f5a372e6858b80cb74b0fd272a9d442549b6cf4806a8a50e5817d25c5aa8f40e5ae7c7c6d94c1e5da4c3b388e300ae897e3237b5608b592a6b98fe64a912fd8f10d765729c4545ee9d614c67e94506515cec9d61bdf4c516df989513c83a6239103d2bfb54e5a50a8bc681748788b11551c38d569f77f16e8aa24ae8bf3804146f6f9b7c078a3723ac00a7b6ac42422f133e5dd8be5ab7512633d0c090f460e0b71f8db1cbceb8b9952c391c002d8890fce758425a2ccbb96fcb714245b7ab20e4238b9dd9f342ab80711db1bb618a09ece74ed4ff4aa14d271e0571aae11b0417d82ceeb82a2cf4acc432aa3388a594fe354815f5c33d950525535a95eb5e6df5e8ca81d4fa7140cf76acbbdf086c4676c16ba8f70c93b77772906965603916c8c4d307e9d93b1e983f86a70831d235434aee88c3196c42aab80b3ee90593241997c2650ddce76846ce7456c43d592caf37f5e7da6600d984fcc0f7f4c7b2444ba1a685f91d3381fea02782a460b3888d2ab499ad1091ae98b6cbb235f33a80d4adf62e7ee903813c0558b4b027def8661b440b4de18876890d00f9640d5de28e8e6636315d03d99f79fcf84f795ac83817233c9c656e68a1bbd96e8a615601d25da2be6ce5505bd2cd15a8a7943dc5d718c9c8a0ac878ec3b680bc90f9ee79516170045d863ba59d0079155e235cb37bd2532009cc389e64b74ea686d3eee75ff8dd77f038ccc329f1e8947656ce7f4061b78b3b964cd5312b5565dc8503d1d4ea89a1c212dbaf16e67505e56ff6cb1ab6704c0d0114fdb361ab52af7377b7e3eabb64647279b3d0694c040dd9713c865d0b9a0274a2fded953f2d3beee49a062854efc2594ab3d2e12d5672f4e9b218fa0b278b6a6efd7573127d5c0d52c8b88d53da9781ef0ee59a5e29e1788054653d170f6d4d58c29774a0ec8ea4be1fa5cde0cd6f222822d30312de93953915dc0097964e68f74cbbc805ab5f4825867377ff43c92a02578b835630a25c3dce8cbff885ba1ff1b922b9ee82f4e688b0fd1a28a159c18d47902e21c9ce6ad42e9bd0e7ad6ad93849f43b5d55ee89307a929286328921ac4248af95626df75ae4df549dbe457bf189819e1038bd67c0487f16a1a4c75cbb3b2cc6823115b74c71e5f0b9cdf0ad5cb89b67cc6401d4b6220b89a6306cad085646f5a7895e82571e93974c8cbe3a3a8364acd4369cff5be89592f81c85ce524a2427d69ed25f7644f84e60c680248e47853fbaf819277a9581efc4c61b497edd46ae8420ce35f1ef9242fbe4342c55f72baede623ab6bbb9a64b19727b97b11c55f635e9d2bdd48e327c49e531f3143beeaac5de7c96cdd8db3a1a5a30b6dd513a8f0002924ec772e364dc7069b505aafd5234c114843b7940605b5ef09c40e1a756cdc8a61cc810b82b9426fd9b4cf37a8b3bbed3457cf68869e551485b886f8dabe27be08f38e0c38eda84697fc70fbdb28a1e98a92424e4d12c24d37099c2c601a069733d455b80eae727eb998d8f0edff3bee90bdaa301a47b02983566075d8239f4361429d9c9f4932d117c3c68d7280e26dbb31ed254ac244839c8bcf47d9ad9eacfad23c1e8d9c9f58a42a82277edeb2dc200680f2b888e7b6aefe7b640a873249ea4dd132b26665dbc86f51e76d8b20a29a7cbc79561f84dc8dd794882793ee34b6d5ada1e97cb7ec8e9bad6239c986e2821761a61702500e2ca5585d9c47729e1b6b277a0caa207a8c515876b470362d89ab41a2103830734a32abd6142c0c4c43db5b3e6d80b8c3e7a988a1c2654b6fe9b306696ab9c54cfb37eff2c79d0ea749d7c7cc082e9532a5c47b805d660e45344a4319babb73dbe742dd4d7cdde80467074e2c79a4248f0bb55aabab26557f94843af5e209898b04ad3d64c9f7d9e00f0b7b289775ee968358c335d1ca7a6f0d0e9f4dc10093692e05c38cb04aabdd72ae9b815fe8f474bb7ee888fcca49268178188a08531f8b6cce750d7fd03efddc8dc10c706c48a5d9ef109e338ccd5722ac002d71e5a9e6c178cab349fa5c85c28b2ecd05e1c0cd62c559befd13e3e9c6e18c5e7d2154ad45a4e3058e1b8579261330a4ad684c099712e14d64e8ee7244e431928ba171e59707a59774074c2161ff19fbdcadd603a5eba13a8797a0e24b14d82ecb05beed073a0004f571daf490ba8be89aa1582feb32c91dcf069221d5fca8fa770e3bccc76e49940bd9fa42380c6bbd86cf3cac80ea04744dc5470271aee2b497f43b5b059a7cb5b2300f5206e9b207c2f3c2d88d2fecb6f238bb389ad452084d7b6a0dd1c1bcd0080db7d0736f6528e6b7fc95d791fb6d931459bc6d3e227ea71618e9c09b1f0cf34ad46c8c7902ab506ad702d35386032f0b75a95e3c6453f4b127612b20f5ab42f1114a4cd0744ac15b3c6ffa768b46974db7f2dc7313899f5e73d6bcb40ca26d708d2033170bf18ea519060b24506a4a8324912bd74e6752444ca119b444e6a00d16ea168090e7755b193ae03e211439aa9503cc93ebbacb5f06906dd842e722324814ddd1f8dade77f71fed07682357e311d055bf0d2e901fb1abcdcc476d91719acbcce08d6d4804429feb85f6304a9755e0a86bbc527bea357d3c2de9c8f467a4573948cdb3910b9f829dedca2a1f3a9bdcbbaf34823f925231cfbb32e631840e761aa0e7f67d914fddb57ea4c6ce9f485d1bf4a5d09b461424045614ce207aecc6a89d6ee9fc18ad470990a6fcef5283c928835079fef982d67074580080fd863902b10bbe18454f85d08cbf7488fc5418b03c5a73cd9e499d1dbfed392c5f16a305ed295bc8e24f2184d9ed97a2b42d5028506f889c1e6c0b868202b7590a771056e765b98b2ab2333dca959e4246da7d09783e1339fcb56ea0011b294309906c23144eb96f9d12b9f2e68a6081d0022873613e8309b6e76bd78fec6dcd9e9f2c21b8d31412ec9af03205d3c45c4906e30c5346e23f813a05ed560e585f27e90e1a46226a8c06a5a8e001ec638886f3fec6499016db0e6bfd29fb1ad8ade23e0791a46975da90946cbbc9ab0a1cbdac8d7a725f0b3101ec9730e032d210e194398ae7f93ec50108c3e5f610e938317cc28b401a7c0dfef38a9a3f40efe383d1e1e667b3a22b9446419a7934d077a659ed3044559599c833c352e8d3e327b57ada5dbdb188e8cbbe8028736c6a45f719fb2d0038d30412ae34ac44d9f4d6045325a626a082e22187f4e418cd84f9094e680b8487cb4d530b9ec8a4e0ac3883a4f6c49309161df140d9b052248c2c0a47bf810d5a22bf1c7cf9170bc378a2bb4d97ab99fdd9861b8ded1dbc57b3ff77fd35b73a0463d07991566135e45e26d3e54222b3cc095718c9c0d3efc930f56b81ec4963dba3db34d0253b2139c762dccb53e2bb07c61265010ae6f4ee4111653121b34339a6e2c651ca676d91fd63466ebaf594416b6670cce01e77a1b2b9645753836b38f242ea53f1cfbbe7e0d06489a4edf4f9322e7900405fdcf1987d590866d9f60ab26d40f86b187ac8c24981f3c47a9513e54ba273122c6a0406b235684e8805879b17a4995c66889e59072da07dc54cf4fd007f66b4df34a68527f42bb5b3ac44d857a1f6d0907d4b8d6994580198e699213c6cba3fda6f999273ed6bc7ef0212bfb811e48d6257c205495e1516474b7fe48935b1bfc81513f5b537f0910e83648e66b84eb69cadb38dc0781d3ef82a0a664bf70e5e08a7c12f0fa0ae50b89fa6d9a8d32d1d33e0cbb6ae71199c9ce60c39931cd9af685afc741a6f091b1459e644ab7d7b411c67649d2e8a8215220752283d3d4437acb119bd431f7c693b645ed3e47a4124810f7b1c2964cb8f672f575989f99f19969c58613aff7ae3830d920d215169e2e42beff51fe648ecff9706d0249baff60d84bd451efc8a2ca43716e91c6890a3350dcd55d946d458d6f16aaea8af839d647ab22bda81f356489d604fa875a7202e2dbd820426f892d7e1fb5b74dcedf8d0e86f81bb77198bba3d01c5f6883a346178982789f7ffa948755959b45c39718c20fd7767a51f36696f617ae3cb6fc7a94ce9a9bdc26fc40d16986615b70ff1a39d8ef01d4b3338f17fbbcdb91886b3af479e2ffa14e8df8c8a9966be4507eb6a4da2ba5ca8d78bb54b2b3d3a6c1deb563525204b05315893ba93a4990dcb6a347c41554f6f89b79e70d7eae23335be28348094c6438cac715e276038b48c75a3d01ad931eae6b7d528846116ef24b08aa55a346c523c1cbcb1d49e53f7cd05bae1a63d9c186c84a9c129128dfe786ccd42dac826a2ef2f81bd78dfe62b28f77316655f15ebd43ab34063b3beb7ca6ec00e62794936158cf8d908315917a17be507a2282ed21b1ade7d15993373f861e55cd9af1d11a728e2e87533da79a0b565436fa59a2fc6163ee465df2f86b0ec698c857fe7e883810b986ff15bd82129043677dcc6f734d75ac44c6734a10c9beec05eaf680969aa0c0253f9f78051e12d881441409417441ad8fe20d4226c83edd28fb7103cfb6e8dd77c75ac4b76792675a80cc725e522d4e385aab0d2fc77d3cfee7bce0105694c7564475cb9a59e5babf7e42536e3bc3e823474e4a53cf6ea3424717925c4e8d6475c42bc52fd3bc13c3b45623ef0e25cd9c5c2fa4efb2c550e5ed5a3323e2cb98c16494947eb4f1c327a87af87b58da6ee3332bcab0f67f48752c175692d52b8a23e6ce2d87acc1632230bdf8cd0422cf0934b35fc8161a81dfff51f5eb05c09e1b22db1b15ff1e9ce48c4a506d86f130c0a41b08806e30255f0575584e8bb0805d1bd4c7825821c5b6a85fe73c683d4721be4cddbba2e49e981f8adbc9eacff8aff48734de83a04d6ff81518e7e05a31a0f409cc0796ac1b9dce6fce3b51781a21d8f1c63cac6d81b60df864bd15eec0701c5a589de66eb336274f51680827c9d8ad818f65ec0826f3971d2c7ae6556e56b6802f2ff96ab1d3901a7b0ee246d36d8b1d0b245cc2f08c376f0dc98a3114bc4dfd32a98586cba9ceb99029f6b7710d91d53491fac92180faa297842c95fae5c2751efd447ce24e9004e8688448c74cf7216d847c9ac2681ef5f7f768daaff303ecd882af799c7527c8d9325950b195e2b65f2b98a83bdfa5b9ee99e3ce6f208112e351abbd4b86544f48b0d457885fe3ab8d61e67cb34e60900cb6610fe6f674cbfba4a1c767a08f36297bda3daeb38b703cdb9b62ca0ee3835297db82e83af21a663c3a20c8cf188ebb7602863bfbdf4cff209a3577bcc891d64ee9e2597a4cd144278b371c3c55962389a5c1edcab34bbc61e6fd6da64a95b7b3ec6427f030416d534e049e95b4919b6954f5630cd3ed5accd3c18695cc05c5adb32d8afcd03fd1e18b6a46e59b76d08e1720075079df7c6851d30576f67075c25f237302c2b77878d882a6a2ba5ebe059c6ed7bdba3e5308ba00b0322060c185413b09affcdd2126d32439b7bca2df9e8aeb96c17767aeb7ea02e737b32a1ad991107dd09d4fba859e1a39928470199b67df672126fcdac7d9d673bb23dc622698dd11430a5d0cf5f4156bb1cebf4364df362cc65b8f7f6635da54e2b880afd42f62fb8fd3b5118320a38fd5895bce0a6cde276d36a508d3067926b260c25d0cd1a9b2d85d725a16dcb57b06cf88bfb3ccb88637e908ac4402b4fa4b9235d562c066dada31d12b0c52f34f5ddd629841221d435fecf93c8e6e98200167ba642914c08e353e713feac0125ee7ffce28c83ec04f6d4134499a36ff574843feaace24d16759921b740a30ca970e7e82e14802d24bf90d0e73ed3505b514de97bde4ff8480f9b60f1148f47d3dff2c2c50dc70a1a74d6661f922e6e3d191f0ae9ba09ff32e37f7e3e5862b4b81422b0cc075adeefa5c63161c102dbc815fbdd31953a6b729beef0fa390a2fc6b38a55b8866749e07c74706b8c43042b827c4df19020b45b7112dbadbfa71c3621eb5741df5438a25b3251729a45b029b8c31032a619bff77c287771621498c31265e08df7785c564fb3102c12e63770f68e8a785226bee87269bbaf3b45e01af4ca52c4e3fb483abe57106cf6eb27c28e48048674f9f3b8fed68bad63f502d45af93e4153f13708436c878ec472d69df18b523ab77d5e2210b8080d940ab03625c348e3b27507823447e7e181cf56d189139c726c6d34c44fa651802cc3c8adce1e0f9feb49be0968dddee4ad14f524955e87a9ae58674fe6728c4577aec6e92e9fcebc3d366428fe06c24ada29f7cddd98b749dba7899f8a49ae98ac48e762c0713f7fa87c53f57190e3581db0199dc1507fcc3770d00a3cb0e42b0025eee048a51dea7cd1bdbb1f97e1a7ba48ca7ae5e19347742170c9913bb6f503848cbbebca47cbf17e8c812029f71af8b13b727653718dfafb2cd779b853ec87d83525d4f00692cc571e317876a52fed68aa8d17935ec3430811ac563d423f5f8de6d40d24567a68533c981531b2ab4927f48c349d9d774289d89dbe94319bb6cba2c51d68887c11ebb6fdb05b478b9c3bee0465cd35ae148e494274b3997fb66f39eb38b3c640ed642d58ea5caf6a117d69da5f55c41d3af4ece95ecdb9eb1fb5fa5f0c3be2c7f8c31754337d165155f48bf90a2bbbe3bfe60f223df66154023b2d0eb3db9b57e3cbf7b82bd1209c311b17d294381ffd27d40d1bd22aa00d73e15bd05dff00aa37c1dd2b2a3d33da96598a1c85207dc70a5f62d3c8b44d903a7ef8cb5639caa1952a2b1f5552224a0c1b4e2319f663e5a778666c067c745c2dbaf1276fd2c09af001c9de939ecfbf115647a2c6928778eb362f9ef697cfb1bf688bc670ae48da733221fe418cd72e1287853dd5d59434e150cbe1b0243a79b974079d1055a7142150a90cb9949c020c3521db384c4e1ebd780b7a40adfddac5a8ba6116f5649e49be9d9ceaaf0e8ded9792da24d160a892e3c9e1154a82927c5e6972aa21b0040b554c7ec44ee48a0c804b5544c6a70429b1fd358289c83d5a844a1fb0394167a851894f853171957cbd5c479faf58ec17fb8550af1c1a8523643ae37ab3bfd0d970973d543a030e14268ca2cc2319067a174b76ddab4cff048ab982429e7200e77d95e1f9f9bde14daaadb7e39c2edbd111578c8b2fa3ee60d78ebccf35327d917a3c4c8310df59496cc385be7820e82ae2a24ef04cca91882d352c5558cf88051072e1d13593ec7b7bf14d305613a1fb1a481ec2c5e09aae76fa4d2b64e5d904988087bbb1f2cb979da45e331ae9c05d04d3fbb70382269a5296c24950a6f0d4e4558a5621f904f2fb4e217f83f065bcf8212a8ca04a69236bb1c9d5e00862707d3ebf203fe47e1de9a7e70d0700f836b6706b121141eaa4b8a8ba9bfe58b1a1c362f16bab59cc650d8f520cd67a11e721055c2ba13bb8ace9953f60376a77cc607691cd2c466f57751ffd2efd79e076e95ae9292832d2fce663d7ea82afae403661d32b6ba1228d1c4c7d62aa0648b7f3d9ed162ba5988046a4349eba53dd1421f09b2a057bc8b6296fb725014d2b7327ee077588dd0eb1709a3c98f070987d778b1efcdb0d4636e7327fd5e1635d261967e9d58ecb55523486c47098f22c573f26baca5eddaa68800c617e37dbb49b49ce9e0d203be9333549c6db1d94105d9e6de99d894261a31e3cb2205aac117b12043509b54d91b6f94547782a1c9eaf9bff6cf9f18a78cdb2e9b5cbb3569fd4758d76e4dbdbb0debe8202ab8cf38dc4ee5ff94b5586615c5d96dbb28ea62260601640f3ee4ce2bfc8a533ac88a1e57864c15a838496a7ca4b5d1e7c4d6383715e347325371050f3dcda667283ce6cd38de9d4c59f7930a23c6fbdfb599d014011eef5bd0ee16fd9376518668dae2e32cb42006903706fa3ef3d642d52d858f552276e30184a0e9605ffce505cbb515965985fd6a636cb4585451b01865d358bafa791d118b0e82ada9bdbd1bf02b81e8c7d789d2cd1e0472a5d537539bf12af3f1176dca5ab3c55c521fa7b83d865165dcf7566990204b66cf15c18306c981972e5eb84dc3607884d9c8374a12170fc3908aeaf9a4a89238525f386d0a707860028e0c018e56a710e703cb8eccb87ac5e195aa2a6d114c47e5a24bd73f65a536690eaff31316d1d20bbe91256f0034586989438966458eeeb8553b4f0da39b0f185047d5df16e6eea7db4d5338a0d4ace0dcd51d156bc7bccea337287cc4f438e522bd4723539b64fcb0a24e057ca4d98643bd616dadf134569a1478075c07d5fd542b0eeaab196e83ee00c2cf770bf101f063f4bf36c29d3bdec145708049364a9deb99ee11a4d3957150bd61203de02292dd171e3c8ca956159c28229c04c6baa3913adbe5b22c126d4e900327770ba6486c8fc94fbe7b89c5e26d6368f412ba951bd34465c98a78a6f1cfa20fc15e62d0a0f74c9489fb96cff01c56d6f188c029304fb6332be203460b92000a35eed88abe0a6735c9f9066d25aa6a36d6879f2aa005fcd4b046f3728f7dc3157acf6fb54484c2d9df18bdea90e13313209983de0b8d0766972fa80c82ec83230a8ec081d3938db6f826fe29bd72bb19b54fbf6d6c1af1329ba0e7f5d99529f984d0361a0d6b36a83d067e327ef5e802604f7556ad5eff2205dcb302c7ae9b3025428faae23ca5e6fb70ca74c4119c26b64847b480160e317212d98a7ffaeb6a81a091b2a56fd9e21ab018d7ed9510da6807eaa0fb0adad7bbc1117800a04e6585038a2bcb2b96c2bc9e845f8f408c754442ef51dde71511b2b9894a0ec95927efd91e11703eddd97f5cb5aff6258f78de725669dd4383da6b5dfd46900e3d40f2ca7a43a393eb152e018c3029511b942b152df5f5d675ef4290df9b9c180d11d75d53c214aa7405ed76c7753f1c7a05bcad21e53b67acbf153090e7a73c621ff7f2d798b860e255a2094a3a93b5af148ec14be057fef6988e98c58bec4e81653a1e3fc5658ed738ae9a672795c062971b6ddfa3773e20fe55bbb0581cd3d1643ef4e279c1881281853ed3810c8fa81b86f8f9b5cd3b68183f207ecc88f68cfcdfa39b710ff98b03e98b93e6c576d45b2f0fc3deb1416e27eac61f20f4967fd5b410bf808288240dc744ecba98580f47612c7be9cb6511c4daa1a2d680522a4409193b1afa4c084c510111350322155026aea0a84fad7ce67a3defcc5c4e6171251265f3902a7124440a675bf20c9fbd7b56b1e36aa08da9c4d93681712ea328f5fbe2eb7313a945ed9bac9ae0b47b59b8b1cf30eeb948855492e3d1a57e564ab486aa466f39e39d8880da045545761844bf56dccb171b16cc9bfb7fd22272b50df9904a02d790a9761ee4dba1bb173b725b03b0c7a60b6bf42c8fdc9d2aeca6c12b92e2b81f0da5aeaebf83d5cead366a35f0551939390e36dc4446288205daa0c1eb90a65ebfd3ed6b9775ffeaa518d3ebdfca67796cba91d24415d8cc649151fb695f84fd699d194c37a9616c99f683da68519a70f8112ca21873a516e54fb2754761632fd0e88b510814bb9eebb884eab3e5d35cdebe558fc54c8d1a2403df1d14bfa734caf0e369d23877a5b5c1ddea3ca0eec18ec388fd572ba458a2f4e4ce43d864d81cce1cdc3f6ffdaaf1ffc566b395466b010fceae05ed6d411d50f2561155fb3ebb05472f51df80809cbb8494e928abfb5fcbd0dc7b4f36680b6d75046aed3a37a2676356966916c4a04b4026b05767c738d843f9839a1663c50f76fa8856300e4e5380729c1431358406f78cb31d17945030f3ab94709cb8f6769467e4cfa21f3f96f553f97eb1ac52a2a5be4b5be404fec60b2d3669a3f21249ee7780a0e827ee2acf954480957543b7e59151f65bfd387d1b63d65bc6839207b14d61bb5b25a8c5390c0b9f2a9de1b6561c8ed407423da6a26e31db20bb61ba923585d9941b0ca2f5b33efe5aaa7d576e8d867ebed048d1d82f907671f7cc565f8de96b0e2706197c05eccc5c043a8bbc8e95ebbd3de508fce5c70aebbbb3be8ad01830b186713501544babf5edc1879736cb51bef9d17f9f863901a8765580545f9c3214185a07e93bf9c1cacbb2c050f57fedb6ba531b57b8c087e97b6fd8152c995717a9eaf434d90dc6c6a2034d49178e7d4f464c4a83c0a03c7adcbd5ab8b64266e6f702c92a264d28b01f1bb6bc0a4ce45d63b123b6c68f352bb26d9791575a3e0188c4cee49846cf06c1d029ca3d5b59a3bb53e176e35713871da8783025bae6e10fe8ccaae7a00e68d167e6ac0d9541959b25dd0edfd32e95e9c325b2f1a074bcf344402d7c5948e7a5ed148b040b7dcce8dd5aff2324be5d0d98d996b6639825ebdc29e15471409736e148354bfcf93f1af50fb8464fcf860858cc975de18fafe290f9572c0b7fbeb93fd000fe5f559ff71cd1b0eb7b7236b6042bbb8edd0253901027b43abaf7ca85c</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这篇文章已被作者加密，请输入密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Unidbg </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python-UV包管理工具安装</title>
      <link href="/2025/10/09/python-UV%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85/"/>
      <url>/2025/10/09/python-UV%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h1 id="安裝-uv"><a href="#安裝-uv" class="headerlink" title="安裝 uv"></a>安裝 uv</h1><p>uv 本身並不需要 Python，所以不建議用 pip 或是 pipx 安裝，這樣都會跟特定的 Python 環境綁在一起，Windows 上就直接透過 PowerSehll 安裝即可：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">powershell -ExecutionPolicy ByPass -c <span class="hljs-string">&quot;irm https://astral.sh/uv/install.ps1 | </span><br></code></pre></td></tr></table></figure><h1 id="scoop-安裝："><a href="#scoop-安裝：" class="headerlink" title="scoop 安裝："></a>scoop 安裝：</h1><blockquote><p>scoop install uv<br>本文都以 Windows 平台在 PowerShell 下操作示範</p></blockquote><h1 id="配置路径"><a href="#配置路径" class="headerlink" title="配置路径"></a>配置路径</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">set</span> Path=D:\MyConfiguration\zichen2.liang\.local\<span class="hljs-built_in">bin</span>;%Path%   (cmd)<br>$env:Path = <span class="hljs-string">&quot;D:\MyConfiguration\zichen2.liang\.local\bin;$env:Path&quot;</span>   (powershell)<br></code></pre></td></tr></table></figure><h1 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 查看所有安装及可安装的版本</span><br>uv python list <br><br><span class="hljs-comment"># 最新版安装</span><br>uv python install<br><br><span class="hljs-comment"># 指定版本安装</span><br>uv python install 3.10<br><br><span class="hljs-comment"># 安装多个版本</span><br>uv python install 3.10 3.11<br><br><span class="hljs-comment"># 显示安装的路径</span><br>uv python <span class="hljs-built_in">dir</span><br><br><span class="hljs-comment"># 卸载安装</span><br>uv python uninstall 3.10<br><br><span class="hljs-comment"># 卸载多个版本</span><br>uv python uninstall 3.10 3.11<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSVMP插桩快捷指令</title>
      <link href="/2025/09/30/JSVMP%E6%8F%92%E6%A1%A9%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4/"/>
      <url>/2025/09/30/JSVMP%E6%8F%92%E6%A1%A9%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>要对JSVMP进行插桩。<br>以下是总结的一些快速复制</p><h1 id="对象序列化（判断window）"><a href="#对象序列化（判断window）" class="headerlink" title="对象序列化（判断window）"></a>对象序列化（判断window）</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">jj,<br><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(jc,<br><span class="hljs-keyword">function</span>(<span class="hljs-params">k, v</span>) &#123;<br>    <span class="hljs-keyword">if</span> (v === <span class="hljs-variable language_">window</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;window&#x27;</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> v<br>&#125;)<br></code></pre></td></tr></table></figure><h1 id="对象序列化（判断长度以及window）"><a href="#对象序列化（判断长度以及window）" class="headerlink" title="对象序列化（判断长度以及window）"></a>对象序列化（判断长度以及window）</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(jc, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> value === <span class="hljs-variable language_">window</span> ? <span class="hljs-string">&#x27;window&#x27;</span>: (value &amp;&amp; <span class="hljs-keyword">typeof</span> value.<span class="hljs-property">length</span> === <span class="hljs-string">&#x27;number&#x27;</span> &amp;&amp; value.<span class="hljs-property">length</span> &gt; <span class="hljs-number">100</span> ? <span class="hljs-string">`<span class="hljs-subst">$&#123;key&#125;</span>.value &gt; 1000`</span>: value))<br></code></pre></td></tr></table></figure><h1 id="hook-时间保持一致"><a href="#hook-时间保持一致" class="headerlink" title="hook 时间保持一致"></a>hook 时间保持一致</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Date</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getTime</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1759243630429</span><br>&#125;;<br><span class="hljs-title class_">Math</span>.<span class="hljs-property">random</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0.466434605063042</span><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>frida常用大全</title>
      <link href="/2025/09/28/frida%E5%B8%B8%E7%94%A8%E5%A4%A7%E5%85%A8/"/>
      <url>/2025/09/28/frida%E5%B8%B8%E7%94%A8%E5%A4%A7%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="hook-检测函数"><a href="#hook-检测函数" class="headerlink" title="hook 检测函数"></a>hook 检测函数</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">hook_dlopen</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Interceptor</span>.<span class="hljs-title function_">attach</span>(<span class="hljs-title class_">Module</span>.<span class="hljs-title function_">findExportByName</span>(<span class="hljs-literal">null</span>, <span class="hljs-string">&quot;android_dlopen_ext&quot;</span>),<br>        &#123;<br>            <span class="hljs-attr">onEnter</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">args</span>) &#123;<br>                <span class="hljs-keyword">var</span> pathptr = args[<span class="hljs-number">0</span>];<br>                <span class="hljs-keyword">if</span> (pathptr !== <span class="hljs-literal">undefined</span> &amp;&amp; pathptr != <span class="hljs-literal">null</span>) &#123;<br>                    <span class="hljs-keyword">var</span> path = <span class="hljs-title function_">ptr</span>(pathptr).<span class="hljs-title function_">readCString</span>();<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;load &quot;</span> + path);<br>                &#125;<br>            &#125;<br>        &#125;<br>    );<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>查看所有android_dlopen_ext打开的动态库</p></blockquote><h1 id="修改寄存器"><a href="#修改寄存器" class="headerlink" title="修改寄存器"></a>修改寄存器</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> soAddr = <span class="hljs-title class_">Module</span>.<span class="hljs-title function_">findBaseAddress</span>(<span class="hljs-string">&quot;lib.so&quot;</span>);<br><span class="hljs-keyword">var</span> funcAddr = soAddr.<span class="hljs-title function_">add</span>(<span class="hljs-number">0x121974</span>) <br><br><span class="hljs-title class_">Interceptor</span>.<span class="hljs-title function_">attach</span>(funcAddr,&#123;<br>    <span class="hljs-attr">onEnter</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>)&#123;<br><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;onEnter arg[]: &#x27;</span>,<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">x0</span>)  <span class="hljs-comment">// 32位是r寄存器 this.context.r0</span><br><br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;onEnter arg[]: &#x27;</span>,<span class="hljs-title function_">hexdump</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>.<span class="hljs-property">x0</span>)) <span class="hljs-comment">// 内存才可以 hexdump</span><br><br>        <span class="hljs-comment">// console.log(&#x27;onEnter arg[]: &#x27;,args[0])</span><br>        <span class="hljs-comment">// this.arg0 = args[0]</span><br>    &#125;,<br>    <span class="hljs-attr">onLeave</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">retval</span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;onLeave arg[]: &#x27;</span>)<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;onLeave result: &#x27;</span>,retval)<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="Hook-webview-页面"><a href="#Hook-webview-页面" class="headerlink" title="Hook webview 页面"></a>Hook webview 页面</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//frida -U &quot;&lt;ProcessName&gt;&quot; -l Android_WebView_inspector.js</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Android_WebView_inspector</span>(<span class="hljs-params"></span>) &#123;<br><br>    <span class="hljs-comment">//实例化一个对象</span><br>    <span class="hljs-keyword">var</span> <span class="hljs-title class_">WebView</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.webkit.WebView&#x27;</span>);<br>    <span class="hljs-comment">//重写WebView类的重载方法，因为setWebContentsDebuggingEnabled不是静态方法，所以需要一个对象来调用这个方法</span><br>    <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebView.$init is called!1&quot;</span>);<br>        <span class="hljs-keyword">var</span> retval = <span class="hljs-variable language_">this</span>.$init(a);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>        <span class="hljs-keyword">return</span> retval;<br>    &#125;<br>    <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebView.$init is called!2&quot;</span>);<br>        <span class="hljs-keyword">var</span> retval = <span class="hljs-variable language_">this</span>.$init(a, b);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>        <span class="hljs-keyword">return</span> retval;<br>    &#125;<br>    <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, c</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebView.$init is called!3&quot;</span>);<br>        <span class="hljs-keyword">var</span> retval = <span class="hljs-variable language_">this</span>.$init(a, b, c);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>        <span class="hljs-keyword">return</span> retval;<br>    &#125;<br>    <span class="hljs-comment">//始终设置为true,打开调试</span><br>    <span class="hljs-title class_">WebView</span>.<span class="hljs-property">setWebContentsDebuggingEnabled</span>.<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;setWebContentsDebuggingEnabled is called!&quot;</span>);<br><br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment">// replace_str_maps();</span><br><br><br><span class="hljs-comment">// setTimeout(Android_WebView_inspector, 3000);</span><br><br><span class="hljs-comment">// console.log(&quot;脚本加载成功&quot;);</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;脚本加载成功&quot;</span>);<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">perform</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> <span class="hljs-title class_">WebView</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.webkit.WebView&#x27;</span>);<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125;<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a, b);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125;<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, c</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a, b, c);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125;<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, c, d</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a, b, c, d);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125;<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;boolean&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, c, d</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a, b, c, d);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125;<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;java.util.Map&#x27;</span>, <span class="hljs-string">&#x27;boolean&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, c, d, e</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a, b, c, d, e);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125;<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.content.Context&#x27;</span>, <span class="hljs-string">&#x27;android.util.AttributeSet&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;java.util.Map&#x27;</span>, <span class="hljs-string">&#x27;boolean&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, c, d, e, f</span>) &#123;<br>            <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a, b, c, d, e, f);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>);<br>            <span class="hljs-keyword">return</span> result;<br>        &#125;<br>    &#125;);<br>&#125;<br><span class="hljs-title function_">setImmediate</span>(main);<br><br><br><span class="hljs-comment">// setTimeout(main, 2000);</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">main2</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">perform</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><br>        <span class="hljs-comment">// Hook WebView 的 loadUrl 方法 (经测试全部用的是这个)</span><br>        <span class="hljs-comment">// var WebView = Java.use(&#x27;android.webkit.WebView&#x27;);</span><br>        <span class="hljs-comment">// WebView.loadUrl.overload(&#x27;java.lang.String&#x27;).implementation = function(url) &#123;</span><br>        <span class="hljs-comment">//     console.log(&quot;WebView loading URL: &quot; + url);</span><br>        <span class="hljs-comment">//     // 打印栈追踪 (调用链)</span><br>        <span class="hljs-comment">//     var stackTrace = Java.use(&#x27;android.util.Log&#x27;).getStackTraceString(Java.use(&#x27;java.lang.Exception&#x27;).$new());</span><br>        <span class="hljs-comment">//     console.log(&quot;调用链: &quot; + stackTrace);</span><br>        <span class="hljs-comment">//     // 继续执行原来的 loadUrl 方法</span><br>        <span class="hljs-comment">//     return this.loadUrl(url);</span><br>        <span class="hljs-comment">// &#125;;</span><br><br>        <span class="hljs-comment">// Hook WebView 的 loadUrl 方法 (经测试全部用的是这个)</span><br>        <span class="hljs-keyword">var</span> <span class="hljs-title class_">WebView</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.webkit.WebView&#x27;</span>);<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">setWebContentsDebuggingEnabled</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&quot;boolean&quot;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">s</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;强制开启webview调试&quot;</span>);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setWebContentsDebuggingEnabled</span>(<span class="hljs-literal">true</span>)<br>        &#125;<br>        <span class="hljs-title class_">WebView</span>.<span class="hljs-property">loadUrl</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">url</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebView loading URL: &quot;</span> + url);<br>            <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;javascript:&quot;</span>) &amp;&amp; url.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;window.requestConfig&quot;</span>)) &#123;<br>                <span class="hljs-comment">// 提取Base64字符串</span><br>                <span class="hljs-keyword">var</span> base64EncodedString = url.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/&quot;([^&quot;]+)&quot;/</span>)[<span class="hljs-number">1</span>]; <span class="hljs-comment">// 匹配出Base64字符串</span><br>                <span class="hljs-comment">// 解码Base64</span><br>                <span class="hljs-keyword">var</span> decodedBase64 = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.util.Base64&#x27;</span>).<span class="hljs-title function_">decode</span>(base64EncodedString, <span class="hljs-number">0</span>);<br>                <span class="hljs-keyword">var</span> decodedString = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>).$new(decodedBase64, <span class="hljs-string">&quot;UTF-8&quot;</span>);<br>                <span class="hljs-comment">// 使用Java的replace方法进行转义字符替换</span><br>                decodedString = decodedString.<span class="hljs-title function_">replace</span>(<span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>).$new(<span class="hljs-string">&quot;\\u0026&quot;</span>), <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>).$new(<span class="hljs-string">&quot;&amp;&quot;</span>));<br>                decodedString = decodedString.<span class="hljs-title function_">replace</span>(<span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>).$new(<span class="hljs-string">&quot;\\u003d&quot;</span>), <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>).$new(<span class="hljs-string">&quot;=&quot;</span>));<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;解码 Base64: &quot;</span> + decodedString)<br>            &#125;<br>            <span class="hljs-comment">// 打印栈追踪 (调用链)</span><br>            <span class="hljs-keyword">var</span> stackTrace = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.util.Log&#x27;</span>).<span class="hljs-title function_">getStackTraceString</span>(<span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;java.lang.Exception&#x27;</span>).$new());<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;调用链: &quot;</span> + stackTrace);<br>            <span class="hljs-comment">// 继续执行原来的 loadUrl 方法</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadUrl</span>(url);<br>        &#125;;<br><br>        <span class="hljs-comment">// 解码Unicode字符串的函数</span><br>        <span class="hljs-keyword">function</span> <span class="hljs-title function_">decodeUnicode</span>(<span class="hljs-params">str</span>) &#123;<br>            <span class="hljs-keyword">return</span> str.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\\u[\dA-Fa-f]&#123;4&#125;/g</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">match</span>) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(<span class="hljs-built_in">parseInt</span>(match.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&quot;\\u&quot;</span>, <span class="hljs-string">&quot;&quot;</span>), <span class="hljs-number">16</span>));<br>            &#125;);<br>        &#125;<br><br><br>        <span class="hljs-comment">// Hook WebViewClient 的 onPageFinished 方法</span><br>        <span class="hljs-keyword">var</span> <span class="hljs-title class_">WebViewClient</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.webkit.WebViewClient&#x27;</span>);<br>        <span class="hljs-title class_">WebViewClient</span>.<span class="hljs-property">onPageFinished</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.webkit.WebView&#x27;</span>, <span class="hljs-string">&#x27;java.lang.String&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">view, url</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebView finished loading URL: &quot;</span> + url);<br>            <span class="hljs-comment">// 可以在这里处理更多逻辑，如获取网页内容</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">onPageFinished</span>(view, url);<br>        &#125;;<br><br>        <span class="hljs-comment">// Hook WebView 的 WebResourceRequest</span><br>        <span class="hljs-keyword">var</span> <span class="hljs-title class_">WebResourceRequest</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.webkit.WebResourceRequest&#x27;</span>);<br>        <span class="hljs-keyword">var</span> <span class="hljs-title class_">WebViewClient2</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;android.webkit.WebViewClient&#x27;</span>);<br><br>        <span class="hljs-title class_">WebViewClient2</span>.<span class="hljs-property">shouldInterceptRequest</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;android.webkit.WebView&#x27;</span>, <span class="hljs-string">&#x27;android.webkit.WebResourceRequest&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">view, request</span>) &#123;<br>            <span class="hljs-keyword">var</span> requestUrl = request.<span class="hljs-title function_">getUrl</span>().<span class="hljs-title function_">toString</span>();<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Intercepting WebResourceRequest: &quot;</span> + requestUrl);<br><br>            <span class="hljs-comment">// 在这里可以执行任何自定义逻辑，如修改请求</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">shouldInterceptRequest</span>(view, request);<br>        &#125;;<br>    &#125;);<br>&#125;<br><br><br><span class="hljs-comment">// setTimeout(main2, 3000);</span><br></code></pre></td></tr></table></figure><h1 id="hook-So层的-newStringUTF8"><a href="#hook-So层的-newStringUTF8" class="headerlink" title="hook So层的 newStringUTF8"></a>hook So层的 newStringUTF8</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">hook_NewStringUTF</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> artModule = <span class="hljs-title class_">Process</span>.<span class="hljs-title function_">findModuleByName</span>(<span class="hljs-string">&quot;libart.so&quot;</span>);<br>    <span class="hljs-keyword">var</span> symbols = artModule.<span class="hljs-title function_">enumerateSymbols</span>();<br>    <span class="hljs-keyword">var</span> newStringUTF = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; symbols.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">let</span> symbol = symbols[i];<br>        <span class="hljs-keyword">if</span> (symbol.<span class="hljs-property">name</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot;NewStringUTF&quot;</span>) !== -<span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(symbol.<span class="hljs-property">name</span>);<br>            newStringUTF = symbol.<span class="hljs-property">address</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (newStringUTF) &#123;<br>        <span class="hljs-title class_">Interceptor</span>.<span class="hljs-title function_">attach</span>(newStringUTF, &#123;<br>            <span class="hljs-attr">onEnter</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">args</span>) &#123;<br>                <span class="hljs-keyword">let</span> string = args[<span class="hljs-number">1</span>].<span class="hljs-title function_">readCString</span>()<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[字符串]:&quot;</span>, string);<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;[调用栈]:&quot;</span>,<span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">backtrace</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-title class_">Backtracer</span>.<span class="hljs-property">FUZZY</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">DebugSymbol</span>.<span class="hljs-property">fromAddress</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;\n&#x27;</span>) + <span class="hljs-string">&#x27;\n&#x27;</span>);<br>            &#125;, <span class="hljs-attr">onLeave</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">retval</span>) &#123;<br>            &#125;<br>        &#125;)<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;没有这个函数&quot;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="hook具体函数地址"><a href="#hook具体函数地址" class="headerlink" title="hook具体函数地址"></a>hook具体函数地址</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">hook_dlsym</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// 获取dlsym函数的地址</span><br>    <span class="hljs-keyword">let</span> dlsymAddr = <span class="hljs-title class_">Module</span>.<span class="hljs-title function_">findExportByName</span>(<span class="hljs-string">&quot;libdl.so&quot;</span>,<span class="hljs-string">&quot;dlsym&quot;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dlsymAddr);<br>    <span class="hljs-comment">// hook dlsym</span><br>    <span class="hljs-title class_">Interceptor</span>.<span class="hljs-title function_">attach</span>(dlsymAddr,&#123;<br>        <span class="hljs-attr">onEnter</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>)&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">args1</span> = args[<span class="hljs-number">1</span>];<br>        &#125;,<br>        <span class="hljs-attr">onLeave</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">retval</span>)&#123;<br>            <span class="hljs-keyword">let</span> md= <span class="hljs-title class_">Process</span>.<span class="hljs-title function_">findModuleByAddress</span>(retval);<br>            <span class="hljs-keyword">if</span>(md==<span class="hljs-literal">null</span>)<span class="hljs-keyword">return</span>;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;函数：&quot;</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">args1</span>.<span class="hljs-title function_">readCString</span>(),<span class="hljs-string">&quot;模块：&quot;</span>+md.<span class="hljs-property">name</span>,<span class="hljs-string">&quot;地址：&quot;</span>+retval,<span class="hljs-string">&quot;偏移：&quot;</span>+retval.<span class="hljs-title function_">sub</span>(md.<span class="hljs-property">base</span>));<br>        &#125;<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="HashMap或转Json"><a href="#HashMap或转Json" class="headerlink" title="HashMap或转Json"></a>HashMap或转Json</h1><p>方法一：直接打印：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-title class_">HashMap</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;java.util.HashMap&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;map：&quot;</span> + <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">cast</span>(map, <span class="hljs-title class_">HashMap</span>).<span class="hljs-title function_">toString</span>());<br> <br><span class="hljs-comment">// 输出展示：map -&gt; &#123;onlyCanExchange=0, pageSize=5, pageNum=1&#125;</span><br></code></pre></td></tr></table></figure><p>方法二：借助Gson转Json打印（推荐）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Gson</span> = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;com.google.gson.Gson&#x27;</span>).$new();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;map -&gt; &quot;</span> + <span class="hljs-title class_">Gson</span>.<span class="hljs-title function_">toJsonTree</span>(map).<span class="hljs-title function_">getAsJsonObject</span>());<br> <br><span class="hljs-comment">// 输出展示：map -&gt; &#123;&quot;onlyCanExchange&quot;:0,&quot;pageSize&quot;:&quot;5&quot;,&quot;pageNum&quot;:&quot;1&quot;&#125;</span><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> frida </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac安装Mongodb</title>
      <link href="/2025/09/19/Mac%E5%AE%89%E8%A3%85Mongodb/"/>
      <url>/2025/09/19/Mac%E5%AE%89%E8%A3%85Mongodb/</url>
      
        <content type="html"><![CDATA[<h1 id="Homebrew-安装"><a href="#Homebrew-安装" class="headerlink" title="Homebrew 安装"></a>Homebrew 安装</h1><ol><li>更新 brew</li></ol><blockquote><p>brew update</p></blockquote><ol start="2"><li>添加 MongoDB 官方 tap</li></ol><blockquote><p>brew tap mongodb&#x2F;brew</p></blockquote><ol start="3"><li>安装最新稳定版</li></ol><blockquote><p>brew install <a href="mailto:&#x6d;&#x6f;&#110;&#103;&#x6f;&#100;&#98;&#x2d;&#x63;&#x6f;&#x6d;&#x6d;&#x75;&#110;&#x69;&#x74;&#x79;&#64;&#x37;&#46;&#48;">mongodb-community@7.0</a><br>（这里我写的是 7.0，如果你需要特定版本可以改，比如 6.0。）</p></blockquote><ol start="4"><li>启动 MongoDB 服务</li></ol><blockquote><p>brew services start <a href="mailto:&#x6d;&#x6f;&#110;&#x67;&#x6f;&#100;&#98;&#45;&#99;&#111;&#x6d;&#109;&#117;&#110;&#x69;&#x74;&#x79;&#x40;&#55;&#46;&#48;">mongodb-community@7.0</a><br>brew services start mongodb&#x2F;brew&#x2F;<a href="mailto:&#x6d;&#x6f;&#x6e;&#x67;&#111;&#x64;&#98;&#x2d;&#99;&#x6f;&#109;&#109;&#x75;&#x6e;&#105;&#x74;&#121;&#64;&#x37;&#46;&#x30;">mongodb-community@7.0</a></p></blockquote><ol start="5"><li>确认 MongoDB 是否启动成功</li></ol><blockquote><p>ps aux | grep -v grep | grep mongod</p></blockquote><ol start="6"><li>连接 MongoDB</li></ol><blockquote><p>mongosh</p></blockquote><p>默认会连到本地 mongodb:&#x2F;&#x2F;localhost:27017</p>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MongoDB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Wails+svelte开发入门</title>
      <link href="/2025/09/07/Wails-svelte%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/"/>
      <url>/2025/09/07/Wails-svelte%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><blockquote><p>go install github.com&#x2F;wailsapp&#x2F;wails&#x2F;v2&#x2F;cmd&#x2F;wails@latest</p></blockquote><h1 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h1><blockquote><p>wails init -n “my-svelte-app” -t “svelte”</p></blockquote><ul><li><p><code>-n</code>：指定项目名称，这里是<code>my-svelte-app</code>。</p></li><li><p><code>-t</code>：指定前端模板，这里我们使用 <code>svelte</code>。</p></li></ul><h2 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h2><p>项目创建完成后，进入项目目录并运行：</p><p>Bash</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">cd</span> my-svelte-<span class="hljs-keyword">app</span><br>wails dev<br></code></pre></td></tr></table></figure><h1 id="Svelte-核心概念"><a href="#Svelte-核心概念" class="headerlink" title="Svelte 核心概念"></a>Svelte 核心概念</h1><p>您好！很高兴能带您快速入门并精通 Svelte。这是一个非常棒的选择，因为它以其简洁和高效而闻名。</p><p>Svelte 的核心理念与您可能听说过的其他框架（如 React 或 Vue）截然不同。与其在浏览器运行时执行大量工作，Svelte 更像一个<strong>编译器</strong>。它在您构建项目时，将您的代码转换成体积小、运行速度快的原生 JavaScript。这意味着最终用户在访问您的应用时，无需加载庞大的框架代码，从而带来<strong>极佳的性能</strong>。</p><h2 id="Svelte-快速入门指南"><a href="#Svelte-快速入门指南" class="headerlink" title="Svelte 快速入门指南"></a>Svelte 快速入门指南</h2><p>要使用 Svelte 快速上手 Wails 项目，您可以按照以下步骤操作：</p><h3 id="1-创建-Wails-Svelte-项目"><a href="#1-创建-Wails-Svelte-项目" class="headerlink" title="1. 创建 Wails + Svelte 项目"></a>1. 创建 Wails + Svelte 项目</h3><p>在终端中，运行以下命令来创建一个新的项目：</p><p>Bash</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">wails init -<span class="hljs-built_in">n</span> <span class="hljs-string">&quot;my-svelte-app&quot;</span> -<span class="hljs-built_in">t</span> <span class="hljs-string">&quot;svelte&quot;</span><br></code></pre></td></tr></table></figure><ul><li><code>-n</code>：指定项目名称，这里是 <code>my-svelte-app</code>。</li><li><code>-t</code>：指定前端模板，这里我们使用 <code>svelte</code>。</li></ul><h3 id="2-运行项目"><a href="#2-运行项目" class="headerlink" title="2. 运行项目"></a>2. 运行项目</h3><p>项目创建完成后，进入项目目录并运行：</p><p>Bash</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">cd</span> my-svelte-<span class="hljs-keyword">app</span><br>wails dev<br></code></pre></td></tr></table></figure><p><code>wails dev</code> 命令将启动 Wails 开发模式，同时运行您的 Go 后端和 Svelte 前端。Svelte 的 Vite 开发服务器会自动为您处理热重载。</p><hr><h2 id="Svelte-核心概念-1"><a href="#Svelte-核心概念-1" class="headerlink" title="Svelte 核心概念"></a>Svelte 核心概念</h2><p>要快速精通 Svelte，您只需掌握几个核心概念。它避免了许多其他框架中常见的样板代码。</p><h3 id="1-组件-Components"><a href="#1-组件-Components" class="headerlink" title="1. 组件 (Components)"></a>1. 组件 (Components)</h3><p>在 Svelte 中，每个 <code>.svelte</code> 文件都是一个组件。一个组件通常包含三部分：</p><ul><li><strong><code>&lt;script&gt;</code> 标签</strong>：用于存放组件的 JavaScript 逻辑。</li><li><strong>HTML 标签</strong>：用于定义组件的模板结构。</li><li><strong><code>&lt;style&gt;</code> 标签</strong>：用于编写组件的 CSS 样式。值得注意的是，<strong>样式默认是作用域化的</strong>，这意味着它们只会影响当前组件，而不会污染全局样式。</li></ul><h3 id="2-响应式-Reactivity"><a href="#2-响应式-Reactivity" class="headerlink" title="2. 响应式 (Reactivity)"></a>2. 响应式 (Reactivity)</h3><p>Svelte 的响应式非常简单。当您想让一个变量成为响应式状态时，只需正常声明它即可。当您改变这个变量时，所有使用它的地方都会自动更新。</p><p>Svelte</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs svelte">&lt;script&gt;<br>let count = 0; // 声明一个响应式变量<br>function increment() &#123;<br>    count++; // 直接修改变量，UI 会自动更新<br>&#125;<br>&lt;/script&gt;<br><br>&lt;button on:click=&#123;increment&#125;&gt;点击了 &#123;count&#125; 次&lt;/button&gt;<br></code></pre></td></tr></table></figure><h3 id="3-响应式声明"><a href="#3-响应式声明" class="headerlink" title="3. 响应式声明 ($:)"></a>3. 响应式声明 (<code>$:</code>)</h3><p>如果您需要从一个或多个响应式变量中派生新值，可以使用 Svelte 独有的 <code>$:</code> 语法。</p><p>Svelte</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs svelte">&lt;script&gt;<br>let count = 0;<br>// total 是一个派生值，当 count 改变时会自动重新计算<br>$: total = count * 2;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="4-属性-props"><a href="#4-属性-props" class="headerlink" title="4. 属性 (props)"></a>4. 属性 (<code>props</code>)</h3><p>要将数据从父组件传递给子组件，可以使用 <code>export let</code> 语法。</p><p>Svelte</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs svelte">&lt;!-- ChildComponent.svelte --&gt;<br>&lt;script&gt;<br>export let name; // 声明一个可接受的 prop<br>&lt;/script&gt;<br><br>&lt;h1&gt;你好, &#123;name&#125;!&lt;/h1&gt;<br></code></pre></td></tr></table></figure><p>Svelte</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs svelte">&lt;!-- App.svelte (父组件) --&gt;<br>&lt;script&gt;<br>import ChildComponent from &#x27;./ChildComponent.svelte&#x27;;<br>&lt;/script&gt;<br><br>&lt;ChildComponent name=&quot;Svelte&quot; /&gt;<br></code></pre></td></tr></table></figure><h3 id="5-逻辑块"><a href="#5-逻辑块" class="headerlink" title="5. 逻辑块"></a>5. 逻辑块</h3><p>Svelte 提供简洁的语法来处理条件渲染和列表渲染：</p><ul><li><strong>条件渲染</strong>：使用 <code>&#123;#if...&#125;</code></li><li><strong>列表渲染</strong>：使用 <code>&#123;#each...&#125;</code></li></ul><p>Svelte</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs svelte">&#123;#if user&#125;<br>    &lt;div&gt;欢迎, &#123;user.name&#125;!&lt;/div&gt;<br>&#123;:else&#125;<br>    &lt;div&gt;请登录&lt;/div&gt;<br>&#123;/if&#125;<br><br>&#123;#each items as item&#125;<br>    &lt;div&gt;&#123;item.name&#125;&lt;/div&gt;<br>&#123;/each&#125;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 一日一库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> Golang </tag>
            
            <tag> Svelte </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vaptcha手势验证码分析流程</title>
      <link href="/2025/08/29/%E6%89%8B%E5%8A%BF%E9%AA%8C%E8%AF%81%E7%A0%81%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/"/>
      <url>/2025/08/29/%E6%89%8B%E5%8A%BF%E9%AA%8C%E8%AF%81%E7%A0%81%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h1><p>先config 获取信息 再get拿到验证码和order</p><p><img src="https://s2.loli.net/2025/08/25/lRa5dCrwXDiKTqf.png"></p><p>如下图 配置如下</p><p>vi： 固定</p><p>k：返回值</p><p>en： 加密值</p><p><img src="https://s2.loli.net/2025/08/25/trCgI8WO56mpweR.png"></p><h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><h2 id="get请求"><a href="#get请求" class="headerlink" title="get请求"></a>get请求</h2><p>n 生成出如下</p><p><img src="https://s2.loli.net/2025/08/25/kZyih3G2oaIRN1K.png"></p><p>第一个en 随便扣扣 就扣出来了。</p><p><img src="https://s2.loli.net/2025/08/25/yWGmVfgKibajRlA.png"></p><p>然后把比较重要的component拿出来</p><p><img src="https://s2.loli.net/2025/08/25/sJ4SVXiojG7RCdZ.png"></p><p>然后抠出来 请求就可以了。中间会遇到很多坑。</p><p>其中指纹需要复制。</p><h2 id="底图还原"><a href="#底图还原" class="headerlink" title="底图还原"></a>底图还原</h2><p>这里请求完之后会获取到图片信息和 图片的order</p><p>但是这个order不是直接还原的order。还需要去js中找到加密的地方。</p><p>（这里为了保持代码一致。我扣下来一版 来找对应位置。所以有些值和网页会有所对应不上）</p><p>还原位置如下：</p><p>搜索关键词：imageOnload 或者 Decrypt</p><p><img src="https://s2.loli.net/2025/08/28/hcDXq6gmKMyJ2Ai.png"></p><p>这里就直接硬扣就完事了。</p><p>Decrypt的算法逻辑如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">_0xb05afc</span>(<span class="hljs-params">_0x2b9119, _0x1f3614</span>) &#123;<br>    <span class="hljs-keyword">var</span> _0x431184 = <span class="hljs-string">&quot;&quot;</span>;<br>    _0x431184 = (<span class="hljs-built_in">parseInt</span>(_0x2b9119) - _0x1f3614).<span class="hljs-title function_">toString</span>();<br>    <span class="hljs-keyword">if</span> (_0x431184.<span class="hljs-property">length</span> &lt; (<span class="hljs-number">983293</span> ^ <span class="hljs-number">983287</span>)) &#123;<br>        _0x431184 = <span class="hljs-string">&quot;0&quot;</span> + _0x431184;<br>    &#125;<br>    <span class="hljs-keyword">return</span> _0x431184;<br>&#125;<br></code></pre></td></tr></table></figure><p>稍微麻烦的也就是传参的这个</p><p><img src="https://s2.loli.net/2025/08/28/MXGf6zUZISOnqgk.png"></p><h2 id="算法还原"><a href="#算法还原" class="headerlink" title="算法还原"></a>算法还原</h2><p>拿到底图链接 即重新拼接成一个完整图片</p><p>算法如下；</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_image</span>(<span class="hljs-params">order: <span class="hljs-built_in">str</span>, image_url: <span class="hljs-built_in">str</span>, output_path: <span class="hljs-built_in">str</span> = <span class="hljs-string">&quot;image.png&quot;</span></span>):<br>    CANVAS_WIDTH, CANVAS_HEIGHT = <span class="hljs-number">290</span>, <span class="hljs-number">167</span><br>    SOURCE_WIDTH, SOURCE_HEIGHT = <span class="hljs-number">400</span>, <span class="hljs-number">230</span><br><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (<span class="hljs-built_in">len</span>(order) == <span class="hljs-number">10</span> <span class="hljs-keyword">and</span> order.isdigit()):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;错误：排序字符串必须为10位数字&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    response = requests.get(image_url, timeout=<span class="hljs-number">10</span>)<br>    source_image = Image.<span class="hljs-built_in">open</span>(io.BytesIO(response.content))<br><br>    target_canvas = Image.new(<span class="hljs-string">&#x27;RGB&#x27;</span>, (CANVAS_WIDTH, CANVAS_HEIGHT), <span class="hljs-string">&#x27;white&#x27;</span>)<br><br>    canvas_block_w, canvas_block_h = CANVAS_WIDTH // <span class="hljs-number">5</span>, CANVAS_HEIGHT // <span class="hljs-number">2</span><br>    source_block_w, source_block_h = SOURCE_WIDTH // <span class="hljs-number">5</span>, SOURCE_HEIGHT // <span class="hljs-number">2</span><br><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>        <span class="hljs-comment"># 计算源和目标位置</span><br>        source_x, source_y = (i % <span class="hljs-number">5</span>) * source_block_w, (i // <span class="hljs-number">5</span>) * source_block_h<br>        pos = <span class="hljs-built_in">int</span>(order[i])<br>        target_x, target_y = (pos % <span class="hljs-number">5</span>) * canvas_block_w, (pos // <span class="hljs-number">5</span>) * canvas_block_h<br><br>        <span class="hljs-comment"># 裁剪、缩放并粘贴</span><br>        block = source_image.crop((source_x, source_y, source_x + source_block_w, source_y + source_block_h))<br>        resized_block = block.resize((canvas_block_w, canvas_block_h), Image.Resampling.LANCZOS)<br>        target_canvas.paste(resized_block, (target_x, target_y))<br><br>    target_canvas.save(output_path, <span class="hljs-string">&#x27;PNG&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;图像已保存为 <span class="hljs-subst">&#123;output_path&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="validate"><a href="#validate" class="headerlink" title="validate"></a>validate</h2><p>validate的请求中的en </p><p>定位点如下图所示</p><p><img src="https://s2.loli.net/2025/08/28/214CoGMDfOzyub6.png"></p><p>其实这里算法都和你简单随便扣扣就出来了。</p><p>传参这里看看。</p><p><img src="https://s2.loli.net/2025/08/29/xSoBO8wQjnJa1lH.png"></p><p>v： 轨迹</p><p>vi：固定值 和uk差不多</p><p>k：接口返回</p><p>dt： 滑动时间</p><p>ch：heigh 图片高度</p><p>cw：width 图片宽度</p><p><img src="https://s2.loli.net/2025/08/29/DuMCjlp7FWi8nZS.png"></p><p>补充说明：具体值demo如上</p><h1 id="难点与坑"><a href="#难点与坑" class="headerlink" title="难点与坑"></a>难点与坑</h1><p>这里讲完流程大概讲下难点</p><ol><li><p>en有个UA头 前后要保持一致 如下图<img src="https://s2.loli.net/2025/08/28/fe6JKqcagSGP58r.png" alt="image-20250828235814245"></p></li><li><p>GenerateFP。下图其实这里就是运用了 JavaScript 生成器 的特性。.sent 就是接受了上一步吐出来的值。</p><p><img src="https://s2.loli.net/2025/08/29/gSqoDkRuFaJwAxW.png"></p></li><li><p>这里有个异步方法 其实。只需要看他返回值 然后扣下来或者给AI就可以了。</p><p><img src="https://s2.loli.net/2025/08/29/rCMNwedOGS1IWsi.png"></p><p><img src="https://s2.loli.net/2025/08/29/yW5jtdHVxPYDKIG.png"></p><p>当然 这里还有个环境指纹 直接copy下来就好了。</p><p><img src="https://s2.loli.net/2025/08/29/RJe2kpswx6FInQq.png"></p></li><li><p>轨迹 </p><p>这里不应该是坑点。这里打个鼠标断点就能找到轨迹生成的地方。可以对着分析 但是没屌用。具体我也没研究明白。</p><p><img src="https://s2.loli.net/2025/08/29/UNylLinexzOZ6CS.png"></p></li></ol><h1 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h1><p>结果就是我也没搞出来。demo站倒是比较松。这个真应用起来好像是划得来不太准就会一直错。</p><p><img src="https://s2.loli.net/2025/08/29/tpiMF2Es3gRIHWS.png"></p><p>代码返回了 103 代表了canvas 指纹不对。</p><p><img src="https://s2.loli.net/2025/08/29/OQLEkjb78H4x3Ti.png"></p><p>代码返回了101 代表了 en生成的值和 knock的值不对。</p><p><img src="https://s2.loli.net/2025/08/29/GhQqWOCVcFsbrud.png"></p><p>代码返回了104 代表了 轨迹的值不对。最终也是卡死在了这一步。</p><p>至于识别的话。这里我使用了CSDN的某位大佬的方案。</p><p>使用cv2 手动的去滑。然后 line 的去模拟轨迹。但是实际下来好像是不太行。</p><p>这里我把代码也开源出来</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">record_trajectory</span>(<span class="hljs-params">img_path</span>):<br>    points = []<br>    img = cv2.imread(img_path)<br>    <span class="hljs-keyword">if</span> img <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;无法加载图片，请检查路径&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span><br><br>    cv2.namedWindow(<span class="hljs-string">&#x27;Image Trajectory Recorder&#x27;</span>)<br>    cv2.setMouseCallback(<span class="hljs-string">&#x27;Image Trajectory Recorder&#x27;</span>,<br>                         <span class="hljs-keyword">lambda</span> event, x, y, flags, param:<br>                         (points.append(&#123;<span class="hljs-string">&#x27;x&#x27;</span>: x, <span class="hljs-string">&#x27;y&#x27;</span>: y, <span class="hljs-string">&#x27;time&#x27;</span>: <span class="hljs-built_in">int</span>(time.time() * <span class="hljs-number">1000</span>)&#125;))<br>                         <span class="hljs-keyword">if</span> event == cv2.EVENT_LBUTTONDOWN <span class="hljs-keyword">or</span> (<br>                                     event == cv2.EVENT_MOUSEMOVE <span class="hljs-keyword">and</span> flags == cv2.EVENT_FLAG_LBUTTON) <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;在图片上按住鼠标左键并移动来绘制轨迹，按&#x27;s&#x27;保存并返回，按&#x27;q&#x27;退出&quot;</span>)<br><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        clone = img.copy()<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(points) &gt; <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(points) - <span class="hljs-number">1</span>):<br>                cv2.line(clone,<br>                         (points[i][<span class="hljs-string">&#x27;x&#x27;</span>], points[i][<span class="hljs-string">&#x27;y&#x27;</span>]),<br>                         (points[i + <span class="hljs-number">1</span>][<span class="hljs-string">&#x27;x&#x27;</span>], points[i + <span class="hljs-number">1</span>][<span class="hljs-string">&#x27;y&#x27;</span>]),<br>                         (<span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>), <span class="hljs-number">2</span>)<br>        cv2.imshow(<span class="hljs-string">&#x27;Image Trajectory Recorder&#x27;</span>, clone)<br><br>        key = cv2.waitKey(<span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span><br><br>        <span class="hljs-comment"># 按&#x27;s&#x27;保存并返回</span><br>        <span class="hljs-keyword">if</span> key == <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;s&#x27;</span>):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> points:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;没有记录到轨迹点&quot;</span>)<br>                <span class="hljs-keyword">break</span><br><br>            <span class="hljs-comment"># 计算相对时间并添加偏移量</span><br>            start_time = points[<span class="hljs-number">0</span>][<span class="hljs-string">&#x27;time&#x27;</span>]<br>            <span class="hljs-keyword">for</span> point <span class="hljs-keyword">in</span> points:<br>                point[<span class="hljs-string">&#x27;time&#x27;</span>] = point[<span class="hljs-string">&#x27;time&#x27;</span>] - start_time<br>                point[<span class="hljs-string">&#x27;x&#x27;</span>] += <span class="hljs-number">30</span><br>                point[<span class="hljs-string">&#x27;y&#x27;</span>] += <span class="hljs-number">35</span><br><br>            <span class="hljs-comment"># 返回JSON字符串</span><br>            trajectory_data = json.dumps(points, indent=<span class="hljs-number">2</span>)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;轨迹已记录，共 <span class="hljs-subst">&#123;<span class="hljs-built_in">len</span>(points)&#125;</span> 个点。&quot;</span>)<br><br>            cv2.destroyAllWindows()<br>            <span class="hljs-keyword">return</span> trajectory_data<br><br>        <span class="hljs-comment"># 按&#x27;q&#x27;退出</span><br>        <span class="hljs-keyword">elif</span> key == <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;q&#x27;</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;已退出，未保存轨迹&quot;</span>)<br>            <span class="hljs-keyword">break</span><br><br>    cv2.destroyAllWindows()<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 逆向 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>补环境复制原型属性脚本</title>
      <link href="/2025/08/26/%E8%A1%A5%E7%8E%AF%E5%A2%83%E5%A4%8D%E5%88%B6%E5%8E%9F%E5%9E%8B%E5%B1%9E%E6%80%A7%E8%84%9A%E6%9C%AC/"/>
      <url>/2025/08/26/%E8%A1%A5%E7%8E%AF%E5%A2%83%E5%A4%8D%E5%88%B6%E5%8E%9F%E5%9E%8B%E5%B1%9E%E6%80%A7%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">copyObject</span>=(<span class="hljs-params">obj, maxDepth = <span class="hljs-number">3</span></span>) =&gt;&#123;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">extract</span>(<span class="hljs-params">o, depth = <span class="hljs-number">0</span></span>) &#123;<br>    <span class="hljs-keyword">if</span> (depth &gt; maxDepth) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;[Max Depth]&#x27;</span>;<br>    <span class="hljs-keyword">const</span> result = &#123;&#125;;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> o) &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">const</span> value = o[key];<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;function&#x27;</span>) <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">null</span> || value === <span class="hljs-literal">undefined</span> || <span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>          result[key] = value;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(value)) &#123;<br>          result[key] = value;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>          <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(value);<br>            result[key] = value;<br>          &#125; <span class="hljs-keyword">catch</span> &#123;<br>            result[key] = <span class="hljs-title function_">extract</span>(value, depth + <span class="hljs-number">1</span>);<br>          &#125;<br>        &#125;<br>      &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>        result[key] = <span class="hljs-string">`[Error: <span class="hljs-subst">$&#123;e.message&#125;</span>]`</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>  &#125;<br><br>  <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">extract</span>(obj);<br>  <span class="hljs-title function_">copy</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Copied to clipboard!&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="补环境框架"><a href="#补环境框架" class="headerlink" title="补环境框架"></a>补环境框架</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> envPatcher = &#123;<br>  <span class="hljs-attr">config</span>: &#123;<br>    <span class="hljs-attr">debug</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">log</span>: <span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>,<br>    <span class="hljs-attr">throwErrors</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 是否抛出代理中捕获的错误</span><br>  &#125;,<br><br>  <span class="hljs-comment">// 代理创建器</span><br>  <span class="hljs-attr">createProxy</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">name, target</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, &#123;<br>      <span class="hljs-title function_">get</span>(<span class="hljs-params">obj, prop</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>          <span class="hljs-keyword">const</span> value = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(obj, prop);<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br><br>            <span class="hljs-keyword">const</span> excludeProps = [<span class="hljs-string">&quot;Array&quot;</span>, <span class="hljs-string">&quot;String&quot;</span>, <span class="hljs-string">&quot;Date&quot;</span>, <span class="hljs-string">&quot;Object&quot;</span>, <span class="hljs-string">&quot;Symbol&quot;</span>, <span class="hljs-string">&quot;constructor&quot;</span>];<br>            <span class="hljs-keyword">if</span> (!excludeProps.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">String</span>(prop))) &#123;<br>              envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[GET] <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span> -&gt; <span class="hljs-subst">$&#123;<span class="hljs-keyword">typeof</span> value&#125;</span>`</span>);<br>            &#125;<br><br><br><br>          &#125;<br>          <span class="hljs-comment">// 如果获取的值是函数，也为其创建代理</span><br>          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&quot;function&quot;</span> &amp;&amp; !value.<span class="hljs-property">_isProxied</span>) &#123;<br>            <span class="hljs-keyword">const</span> proxiedFunc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(value, &#123;<br>              <span class="hljs-attr">apply</span>: <span class="hljs-function">(<span class="hljs-params">target, thisArg, args</span>) =&gt;</span> &#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                  <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>                    envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>                      <span class="hljs-string">`[CALL] <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span>(<span class="hljs-subst">$&#123;args</span></span><br><span class="hljs-subst"><span class="hljs-string">                        .map((a) =&gt; <span class="hljs-keyword">typeof</span> a)</span></span><br><span class="hljs-subst"><span class="hljs-string">                        .join(<span class="hljs-string">&quot;, &quot;</span>)&#125;</span>)`</span><br>                    );<br>                  &#125;<br>                  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target, thisArg, args);<br>                &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>                  <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>                    envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>                      <span class="hljs-string">`[ERROR] Failed to call <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span>: <span class="hljs-subst">$&#123;error.message</span></span><br><span class="hljs-subst"><span class="hljs-string">                      &#125;</span>`</span><br>                    );<br>                  &#125;<br>                  <span class="hljs-comment">// 在错误处添加debugger语句，方便查看堆栈</span><br>                  <span class="hljs-keyword">debugger</span>;<br>                  <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">throwErrors</span>) &#123;<br>                    <span class="hljs-keyword">throw</span> error; <span class="hljs-comment">// 根据配置决定是否重新抛出错误</span><br>                  &#125; <span class="hljs-keyword">else</span> &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// 如果不抛出错误，则返回undefined</span><br>                  &#125;<br>                &#125;<br>              &#125;,<br>            &#125;);<br>            <span class="hljs-comment">// 标记已代理，避免重复代理</span><br>            proxiedFunc.<span class="hljs-property">_isProxied</span> = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span> proxiedFunc;<br>          &#125;<br>          <span class="hljs-keyword">return</span> value;<br>        &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>            envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>              <span class="hljs-string">`[ERROR] Failed to get <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span>: <span class="hljs-subst">$&#123;error.message&#125;</span>`</span><br>            );<br>          &#125;<br>          <span class="hljs-comment">// 在错误处添加debugger语句，方便查看堆栈</span><br>          <span class="hljs-keyword">debugger</span>;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">throwErrors</span>) &#123;<br>            <span class="hljs-keyword">throw</span> error; <span class="hljs-comment">// 根据配置决定是否重新抛出错误</span><br>          &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// 如果不抛出错误，则返回undefined</span><br>          &#125;<br>        &#125;<br>      &#125;,<br><br>      <span class="hljs-title function_">set</span>(<span class="hljs-params">obj, prop, value</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>            envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>              <span class="hljs-string">`[SET] <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span> = <span class="hljs-subst">$&#123;value&#125;</span> (<span class="hljs-subst">$&#123;<span class="hljs-keyword">typeof</span> value&#125;</span>)`</span><br>            );<br>          &#125;<br>          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(obj, prop, value);<br>        &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>            envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>              <span class="hljs-string">`[ERROR] Failed to set <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span>: <span class="hljs-subst">$&#123;error.message&#125;</span>`</span><br>            );<br>          &#125;<br>          <span class="hljs-comment">// 在错误处添加debugger语句，方便查看堆栈</span><br>          <span class="hljs-keyword">debugger</span>;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">throwErrors</span>) &#123;<br>            <span class="hljs-keyword">throw</span> error; <span class="hljs-comment">// 根据配置决定是否重新抛出错误</span><br>          &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// 如果不抛出错误，则返回false</span><br>          &#125;<br>        &#125;<br>      &#125;,<br><br>      <span class="hljs-title function_">has</span>(<span class="hljs-params">obj, prop</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>          <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">has</span>(obj, prop);<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>            envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[HAS] <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span> -&gt; <span class="hljs-subst">$&#123;result&#125;</span>`</span>);<br>          &#125;<br>          <span class="hljs-keyword">return</span> result;<br>        &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>            envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>              <span class="hljs-string">`[ERROR] Failed to check has <span class="hljs-subst">$&#123;name&#125;</span>.<span class="hljs-subst">$&#123;<span class="hljs-built_in">String</span>(prop)&#125;</span>: <span class="hljs-subst">$&#123;error.message</span></span><br><span class="hljs-subst"><span class="hljs-string">              &#125;</span>`</span><br>            );<br>          &#125;<br>          <span class="hljs-comment">// 在错误处添加debugger语句，方便查看堆栈</span><br>          <span class="hljs-keyword">debugger</span>;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">throwErrors</span>) &#123;<br>            <span class="hljs-keyword">throw</span> error; <span class="hljs-comment">// 根据配置决定是否重新抛出错误</span><br>          &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> &#123;&#125;; <span class="hljs-comment">// 如果不抛出错误，则返回空对象</span><br>          &#125;<br>        &#125;<br>      &#125;,<br><br>      <span class="hljs-comment">// 处理构造函数调用</span><br>      <span class="hljs-title function_">construct</span>(<span class="hljs-params">target, args</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>            envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>              <span class="hljs-string">`[CONSTRUCT] new <span class="hljs-subst">$&#123;name&#125;</span>(<span class="hljs-subst">$&#123;args.map((a) =&gt; <span class="hljs-keyword">typeof</span> a).join(<span class="hljs-string">&quot;, &quot;</span>)&#125;</span>)`</span><br>            );<br>          &#125;<br>          <span class="hljs-keyword">const</span> instance = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">construct</span>(target, args);<br>          <span class="hljs-keyword">return</span> instance;<br>        &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">debug</span>) &#123;<br>            envPatcher.<span class="hljs-property">config</span>.<span class="hljs-title function_">log</span>(<br>              <span class="hljs-string">`[ERROR] Failed to construct <span class="hljs-subst">$&#123;name&#125;</span>: <span class="hljs-subst">$&#123;error.message&#125;</span>`</span><br>            );<br>          &#125;<br>          <span class="hljs-comment">// 在错误处添加debugger语句，方便查看堆栈</span><br>          <span class="hljs-keyword">debugger</span>;<br>          <span class="hljs-keyword">if</span> (envPatcher.<span class="hljs-property">config</span>.<span class="hljs-property">throwErrors</span>) &#123;<br>            <span class="hljs-keyword">throw</span> error; <span class="hljs-comment">// 根据配置决定是否重新抛出错误</span><br>          &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> &#123;&#125;; <span class="hljs-comment">// 如果不抛出错误，则返回空对象</span><br>          &#125;<br>        &#125;<br>      &#125;,<br>    &#125;);<br>  &#125;,<br><br>  <span class="hljs-comment">// 函数保护器</span><br>  <span class="hljs-attr">protectFunction</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">func, nativeCode</span>) &#123;<br>    <span class="hljs-keyword">const</span> symbol = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;native&quot;</span>);<br>    <span class="hljs-keyword">const</span> originalToString = <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>;<br><br>    func[symbol] =<br>      nativeCode || <span class="hljs-string">`function <span class="hljs-subst">$&#123;func.name || <span class="hljs-string">&quot;anonymous&quot;</span>&#125;</span>() &#123; [native code] &#125;`</span>;<br><br>    <span class="hljs-keyword">if</span> (!func.<span class="hljs-property">toString</span>[symbol]) &#123;<br>      func.<span class="hljs-property">toString</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> func[symbol] || originalToString.<span class="hljs-title function_">call</span>(func);<br>      &#125;;<br>      func.<span class="hljs-property">toString</span>[symbol] = <span class="hljs-string">&quot;function toString() &#123; [native code] &#125;&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> func;<br>  &#125;,<br><br>  <span class="hljs-comment">// 设置属性</span><br>  <span class="hljs-attr">setProp</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">obj, prop, value, writable = <span class="hljs-literal">true</span></span>) &#123;<br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, prop, &#123;<br>      <span class="hljs-attr">value</span>: value,<br>      <span class="hljs-attr">writable</span>: writable,<br>      <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,<br>      <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,<br>    &#125;);<br>    <span class="hljs-keyword">return</span> obj;<br>  &#125;,<br><br>  <span class="hljs-comment">// 构造函数创建器，嵌套 protectFunction</span><br>  <span class="hljs-attr">createConstructor</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">name, implementation</span>) &#123;<br>    <span class="hljs-comment">// 定义构造函数</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-title class_">Constructor</span> = implementation || <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; &#125;;<br>    <span class="hljs-comment">// 使用 protectFunction 包装构造函数</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-title class_">ProtectedConstructor</span> = envPatcher.<span class="hljs-title function_">protectFunction</span>(<br>      <span class="hljs-title class_">Constructor</span>,<br>      <span class="hljs-string">`function <span class="hljs-subst">$&#123;name&#125;</span>() &#123; [native code] &#125;`</span><br>    );<br>    <span class="hljs-comment">// 设置构造函数名称</span><br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">ProtectedConstructor</span>, <span class="hljs-string">&quot;name&quot;</span>, &#123;<br>      <span class="hljs-attr">value</span>: name,<br>      <span class="hljs-attr">writable</span>: <span class="hljs-literal">false</span>,<br>      <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>,<br>      <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,<br>    &#125;);<br>    <span class="hljs-comment">// 设置原型</span><br>    <span class="hljs-title class_">ProtectedConstructor</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, &#123;<br>      <span class="hljs-attr">constructor</span>: &#123;<br>        <span class="hljs-attr">value</span>: <span class="hljs-title class_">ProtectedConstructor</span>,<br>        <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span>,<br>      &#125;,<br>    &#125;);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">ProtectedConstructor</span>;<br>  &#125;,<br><br><br>  <span class="hljs-comment">// 设置继承关系</span><br>  <span class="hljs-attr">setInheritance</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">child, parent</span>) &#123;<br>    <span class="hljs-comment">// 设置构造函数继承</span><br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(child, parent);<br>    <span class="hljs-comment">// 设置原型继承</span><br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(child.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, parent.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br>    <span class="hljs-keyword">return</span> child;<br>  &#125;,<br><br>  <span class="hljs-comment">// 批量设置属性</span><br>  <span class="hljs-attr">setProps</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">obj, props</span>) &#123;<br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(props).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> &#123;<br>      <span class="hljs-keyword">const</span> config = props[key];<br>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> config === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; config.<span class="hljs-property">value</span> !== <span class="hljs-literal">undefined</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setProp</span>(obj, key, config.<span class="hljs-property">value</span>, config);<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setProp</span>(obj, key, config);<br>      &#125;<br>    &#125;);<br>    <span class="hljs-keyword">return</span> obj;<br>  &#125;,<br><br>&#125;;<br><br><br><span class="hljs-keyword">const</span> $toString = <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>;<br><span class="hljs-keyword">const</span> toStringSymbol = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;toString&#x27;</span>);<br><br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>($toString, &#123;<br>  <span class="hljs-title function_">apply</span>(<span class="hljs-params">target, thisArg, args</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">new</span>.<span class="hljs-property">target</span>) &#123;<br>      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&quot;toString is not a constructor&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// 检查是否有自定义的 native code 标记</span><br>    <span class="hljs-keyword">if</span> (thisArg &amp;&amp; thisArg[toStringSymbol]) &#123;<br>      <span class="hljs-keyword">return</span> thisArg[toStringSymbol];<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target, thisArg, args);<br>  &#125;<br>&#125;);<br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Window</span> = envPatcher.<span class="hljs-title function_">createConstructor</span>(<span class="hljs-string">&quot;Window&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Navigator</span> = envPatcher.<span class="hljs-title function_">createConstructor</span>(<span class="hljs-string">&quot;Navigator&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Location</span> = envPatcher.<span class="hljs-title function_">createConstructor</span>(<span class="hljs-string">&quot;Location&quot;</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Document</span> = envPatcher.<span class="hljs-title function_">createConstructor</span>(<span class="hljs-string">&quot;Document&quot;</span>);<br><br><br><br><span class="hljs-keyword">const</span> navigatorObj = &#123;&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(navigatorObj, <span class="hljs-title class_">Navigator</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br><span class="hljs-keyword">const</span> locationObj = &#123;&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(locationObj, <span class="hljs-title class_">Location</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br><span class="hljs-keyword">const</span> documentObj = &#123;&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(documentObj, <span class="hljs-title class_">Document</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">setPrototypeOf</span>(globalThis, <span class="hljs-title class_">Window</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br>globalThis.<span class="hljs-property">window</span> = globalThis;<br>globalThis.<span class="hljs-property">self</span> = globalThis;<br>globalThis.<span class="hljs-property">top</span> = globalThis;<br>globalThis.<span class="hljs-property">parent</span> = globalThis;<br>globalThis.<span class="hljs-property">frames</span> = globalThis;<br><br><span class="hljs-comment">// 设置其他全局对象</span><br>globalThis.<span class="hljs-property">navigator</span> = navigatorObj;<br>globalThis.<span class="hljs-property">Navigator</span> = <span class="hljs-title class_">Navigator</span>;<br>globalThis.<span class="hljs-property">location</span> = locationObj;<br>globalThis.<span class="hljs-property">Location</span> = <span class="hljs-title class_">Location</span>;<br>globalThis.<span class="hljs-property">document</span> = documentObj;<br>globalThis.<span class="hljs-property">Document</span> = <span class="hljs-title class_">Document</span>;<br><br><br><br>globalThis.<span class="hljs-property">window</span> = envPatcher.<span class="hljs-title function_">createProxy</span>(<span class="hljs-string">&#x27;window&#x27;</span>, <span class="hljs-variable language_">window</span>)<br>globalThis.<span class="hljs-property">document</span> = envPatcher.<span class="hljs-title function_">createProxy</span>(<span class="hljs-string">&#x27;document&#x27;</span>, <span class="hljs-variable language_">document</span>)<br>globalThis.<span class="hljs-property">navigator</span> = envPatcher.<span class="hljs-title function_">createProxy</span>(<span class="hljs-string">&#x27;navigator&#x27;</span>, navigator)<br>globalThis.<span class="hljs-property">location</span> = envPatcher.<span class="hljs-title function_">createProxy</span>(<span class="hljs-string">&#x27;location&#x27;</span>, location);<br><br><br>;;;;;;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDA学习</title>
      <link href="/2025/08/22/IDA%E5%AD%A6%E4%B9%A0/"/>
      <url>/2025/08/22/IDA%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<h1 id="还原JNI函数方法名"><a href="#还原JNI函数方法名" class="headerlink" title="还原JNI函数方法名"></a>还原JNI函数方法名</h1><p>如下图所示，输入</p><blockquote><p>JNIEnv <em>a1 或者 JNIEnv</em></p></blockquote><p>找到调用的jni函数名，鼠标选中a1,单击y,弹出如下界面</p><p><img src="https://s2.loli.net/2025/08/22/kSMNzhyvQlTA4G9.png"></p><p>点击OK 即可。</p>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ida </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>某蜂窝 zzzghostsigh 补环境+纯算</title>
      <link href="/2025/08/19/%E9%A9%AC%E8%9C%82%E7%AA%9Dunidbg%E8%A1%A5%E7%8E%AF%E5%A2%83%E2%80%94%E2%80%94%E4%BF%AE%E6%94%B9%E5%AF%84%E5%AD%98%E5%99%A8/"/>
      <url>/2025/08/19/%E9%A9%AC%E8%9C%82%E7%AA%9Dunidbg%E8%A1%A5%E7%8E%AF%E5%A2%83%E2%80%94%E2%80%94%E4%BF%AE%E6%94%B9%E5%AF%84%E5%AD%98%E5%99%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="jadx"><a href="#jadx" class="headerlink" title="jadx"></a>jadx</h1><p>首先找到定位点。</p><p>这里直接搜索 zzzghostsigh</p><p><img src="https://s2.loli.net/2025/07/25/IrSbqQZTWa3582Y.png"></p><p>然后找他引用的位置</p><p><img src="https://s2.loli.net/2025/07/25/tdPlEbB5TfHVMye.png"></p><p>继续往下找一下位置。</p><p>这里发现是一个接口的实现。<img src="https://s2.loli.net/2025/07/25/fok8VWFG4ZKDsva.png"></p><p>那没关系。我们继续找下实现的位置。</p><p>这里可以挨个去看。</p><p>这里发现是gh.b()</p><p><img src="https://s2.loli.net/2025/07/25/12ihHAPMaurTSe5.png"></p><p>继续点两下 就找到了 引用的位置。找到so层 是 libmfw.so</p><p><img src="https://s2.loli.net/2025/07/17/uf4tKXM78lDiA13.png"></p><p>然后我们hook一下 看看传餐以及结果值。</p><p><img src="https://s2.loli.net/2025/07/17/KZWTlUqh7pReHLw.png"></p><h1 id="unidbg"><a href="#unidbg" class="headerlink" title="unidbg"></a>unidbg</h1><p>这里直接unidbg补环境</p><p>封装好请求</p><p>直接运行 报错如下</p><p>这里看到 直接就运行了没报错 缺少什么环境</p><p><img src="https://s2.loli.net/2025/07/17/WEcnH5RM1D7la6i.png"></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">[10:49:23 460]  WARN [com.github.unidbg.linux.ARM64SyscallHandler] (ARM64SyscallHandler:410) - handleInterrupt intno=2, NR=-128336, svcNumber=0x1a2, PC=unidbg@0xfffe0ab4, LR=RX@0x1203cbac[libmfw.so]0x3cbac, syscall=null<br>java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0<br></code></pre></td></tr></table></figure><p>直接去看报错的这部分基址。跳过这部分校验</p><p>ida找一下 3cbac</p><p>然后分析下 。这个方法中都是校验。补起来相对还是比较麻烦的。</p><p><img src="https://s2.loli.net/2025/07/18/ebXqKf2xwCvHt1o.png"></p><p>所以这里我们往上看。这个方法</p><p><img src="https://s2.loli.net/2025/07/18/dzFTCv8OJ19it7N.png"></p><p>按x 看下调用的地方。这里就是调用环境的地方。</p><p><img src="https://s2.loli.net/2025/07/18/62MQmob4Zv1Wcqr.png"></p><p>所以这里我们直接跳过这个判断。</p><p>这里直接unibdg 去跳过 这个环境</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"> emulator.attach().addBreakPoint(<span class="hljs-keyword">module</span>.base + <span class="hljs-number">0x3970C</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">BreakPointCallback</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onHit</span><span class="hljs-params">(Emulator&lt;?&gt; emulator, <span class="hljs-type">long</span> address)</span> &#123;<br><span class="hljs-comment">//                emulator.getBackend().reg_write(Arm64Const.UC_ARM64_REG_PC,0x3970C+4);</span><br>                emulator.getBackend().reg_write(Arm64Const.UC_ARM64_REG_PC,address+<span class="hljs-number">4</span>);<br>                emulator.getBackend().reg_write(Arm64Const.UC_ARM64_REG_X0,<span class="hljs-number">1</span>);<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;);<br></code></pre></td></tr></table></figure><p>这里返回true 即断点不会断住，返回false 即代表断点断住。</p><p>然后直接运行。发现可以出值。</p><p><img src="https://s2.loli.net/2025/08/18/jvhzZ4LywsW3tum.png"></p><p>结果也正如一开始我们frida的值一样。</p><p>接下来就是trace了</p><h1 id="纯算分析"><a href="#纯算分析" class="headerlink" title="纯算分析"></a>纯算分析</h1><p>这里直接搜索 0x4a55</p><p>搜索到了 0x4a55d456 拆成了 8个字节。</p><p><img src="https://s2.loli.net/2025/08/18/dltBqg6FuGAyzOZ.png"></p><p>那我们再搜下 0x9606ba47 果然也有 13个。实际不算结果12个。</p><p><img src="https://s2.loli.net/2025/08/18/58hPl9EorNHMfA6.png"></p><p>那总计下</p><p>4a55d456 9606ba47 87057a46 2b4f926c f9739142</p><p>拆成了 五组。 40位。其实已经可以猜出来是sha256了。</p><p>先找下 0x4a55d456的基址 0x1203f360</p><p>搜索 一下</p><p><img src="https://s2.loli.net/2025/08/18/4xg8jhpFCmzJqAe.png"></p><p>这里先回去看看 ida</p><p>这里把代码丢给gpt。gpt直接告诉我们这是个sha1</p><p><img src="https://s2.loli.net/2025/08/18/ZmBHMtW8OyXKTgz.png"></p><p>但是我们实际上去运算。发现好像对不上啊</p><p><img src="https://s2.loli.net/2025/08/18/IsXb8ujNv3JM5eS.png"></p><p>所以肯定是魔改了一些参数。这里继续回去看010里的trace。</p><p>这里就相对简单了。我们对这源码去看实现就好。</p><p>这里找着入口对着看。</p><p>这里直接找sha1的特征值。</p><p>找一段源码（最好找python的。或者Go的 只要不是JS的,因为我就是js改的。千奇百怪）</p><p>这里我们找下sha1 的轮常数： 1518500249，1859775393，1894007588（-1894007588） </p><p>然后把它转成16进制去trace搜索。</p><p>这里分别为 0x5A827999，0x6ED9EBA1，0x8F1BBCDC</p><p>这里去搜搜</p><p><img src="https://s2.loli.net/2025/08/18/XyrBPNU6wDq97Mb.png"></p><p>这里可以发现trace的地方有703个很明显不合理</p><p>找到 w29&#x3D;0x5A827999 做下切割。</p><p>只拿一段。</p><p><img src="https://s2.loli.net/2025/08/18/lPTn7FCAherIiKu.png"></p><p>这里找到 movk的地方。</p><p>发现一共4轮。</p><p><img src="https://s2.loli.net/2025/08/18/Sc2EayOoZIVuPTH.png"></p><p>但是这这里movk直接就是就是加载常量了 所以得往前看一点。看看谁那些值。</p><p><img src="https://s2.loli.net/2025/08/18/BmbaQcG65uloC2F.png"></p><p><img src="https://s2.loli.net/2025/08/18/BMSzX749xfyrqKc.png"></p><p>具体看看trace中的值。</p><p><img src="https://s2.loli.net/2025/08/18/x74eozQcHSfphYX.png"></p><p>这里可以推断出SHA1的魔值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c">v18 = <span class="hljs-number">0x67452301</span><br>v19 = <span class="hljs-number">0xEFCDAB89</span><br>V20 = <span class="hljs-number">0x98BADCFE</span><br>v21 = <span class="hljs-number">0x5E4A1F7C</span><br>v22 = <span class="hljs-number">0x10325476</span><br></code></pre></td></tr></table></figure><p>但是好像和标准值有差别</p><p>标准的 “v21”与“v22”为 “0x10325476” 以及 “0xC3D2E1F0”</p><p>这里虽然改了。但是结果仍然不一致。</p><p>继续往下看吧。</p><p>分析下具体的代码</p><p><img src="https://s2.loli.net/2025/08/18/j1xtAycUY28vLhW.png"></p><p>如下</p><p>以上依次为</p><p>movk、rev、and、add、eor、add、ror、add、ror、add、</p><p>_、字节反转、与、加、异或、右移、加、右移、加</p><p>这里可以看到这里基本和算法都差不多没有魔改。这一段对这去扣。</p><p>剩余是否一致也是一样的。往下看。</p><p>这里只讲差异点吧。</p><p>在开头搜过 0x5a827999 这个值。但是正常这个值。其实标准中应该只参与过16轮。而稳重有36轮。</p><p><img src="https://s2.loli.net/2025/08/18/nFHoXyz3p2WvsKZ.png"></p><p>所以还有20轮肯定是改了轮数。</p><p>所以下文开始就是16轮之后的改的论数</p><p><img src="https://s2.loli.net/2025/08/18/ZgRMS15vFkVp4L9.png"></p><p>对应的伪c如下</p><p><img src="https://s2.loli.net/2025/08/18/y3mxTEOCZh84oQY.png"></p><p>继续问下ai</p><p><img src="https://s2.loli.net/2025/08/18/ANFd4RyGlfKDHIc.png"></p><p>所以代码应该如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">16</span>) &#123;<br>    f = (b &amp; c) | ((~b) &amp; d);<br>    k = <span class="hljs-number">0x5A827999</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">20</span>) &#123;<br>    f = b ^ c ^ d;<br>    k = <span class="hljs-number">0x6ED9EBA1</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">40</span>) &#123;<br>    f = (b &amp; c) | (b &amp; d) | (c &amp; d);<br>    k = <span class="hljs-number">0x8F1BBCDC</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i &lt; <span class="hljs-number">60</span>)&#123;<br>    f = (b &amp; c) | ((~b) &amp; d);<br>    k = <span class="hljs-number">0x5A827999</span>;<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    f = b ^ c ^ d;<br>    k = <span class="hljs-number">0xCA62C1D6</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这里既是改了 这些值还是对不上。</p><p>走到最后</p><p><img src="https://s2.loli.net/2025/08/18/todO2cb91BnaZ57.png"></p><p>这里对源码看看</p><p><img src="https://s2.loli.net/2025/08/18/RyPmKDgX5Gw9eTv.png"></p><p>那正常 应该是 </p><p>4 3 2 1 0</p><p>而我们的 是</p><p>4 2 3 1 0</p><p>所以这样调转下位置。 然后运行</p><p><img src="https://s2.loli.net/2025/08/18/yGgx1rCKYeIDXkA.png"></p><p>发现终于一模一样了。</p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>也算搞了好几天。还原了一个比较简单的算法。</p>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 逆向 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>某猫投诉 flutter Signature 逆向</title>
      <link href="/2025/08/15/%E6%9F%90%E7%8C%AB%E6%8A%95%E8%AF%89%20flutter%20Signature%20%E9%80%86%E5%90%91/"/>
      <url>/2025/08/15/%E6%9F%90%E7%8C%AB%E6%8A%95%E8%AF%89%20flutter%20Signature%20%E9%80%86%E5%90%91/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>直接说了是 flutter了 那就不必多说了。</p><p>先介绍下 什么是flutter。 这里我直接把AI的回复粘贴过来了。</p><p>Flutter 是谷歌开发的一套 UI 工具包，让你只写一份代码，就能同时为 iOS、Android、Web 和桌面等多个平台创建美观、高性能的应用。</p><p>1、<strong>“万物皆 Widget”：</strong> Flutter 中所有界面元素，包括按钮、文本和布局，甚至应用本身，都是“Widget”（小部件）。它们可以像积木一样组合起来构建复杂的界面。</p><p>2、<strong>自带渲染引擎（Skia）：</strong> Flutter 不依赖操作系统原生的 UI 组件，而是通过自带的高性能图形引擎 Skia 直接将所有 Widget 绘制到屏幕上。这样可以实现极高的渲染速度和流畅的用户体验。</p><p>3、<strong>Dart 语言：</strong> Flutter 使用 Dart 语言开发。</p><ul><li><strong>AOT 编译：</strong> 发布时，Dart 代码会被直接编译成机器码，使应用运行速度极快，性能接近原生。</li><li><strong>JIT 编译 + 热重载：</strong> 开发时，Dart 支持即时编译和“热重载”功能，开发者修改代码后能立即看到效果，大大提高了开发效率。</li></ul><p>4、<strong>响应式 UI：</strong> Flutter 采用声明式 UI 编程。你只需描述界面“长什么样”，而不用关心“如何更新”，当数据变化时，Flutter 会自动高效地更新界面。</p><p>libflutter.so  &#x3D;&#x3D;&#x3D;&gt;  libapp.so</p><p>那这里 AI介绍了 flutter的特点。</p><p>再补充几点</p><p>1、flutter是由Dart开发</p><p>2、 Flutter被编译出来其实就是个So文件</p><p>3、So文件无函数名。基本都是sub_开头，也无JNI绑定方法。</p><p>4、执行是由flutter.so执行</p><h1 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h1><p>抓包可知。需要逆向的参数 是这个 signautre</p><p><img src="https://s2.loli.net/2025/08/05/GYFbhyNRjKrMmic.png"></p><p>这里Java层找不到</p><h1 id="IDA配置"><a href="#IDA配置" class="headerlink" title="IDA配置"></a>IDA配置</h1><p>这里 flutter 反编译 全是一sub 函数。几万个。找不到</p><p>这里使用blutter去做一个函数名还原。</p><p>解压 app 把 libflutter.so 以及 libapp.so 拿出来。</p><p>下载完Blutter。</p><p>这里我是Mac</p><p>使用如下命令</p><p>两个版本 </p><p>macOS Sequoia</p><ul><li>Install XCode</li><li>Install required tools</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>cmake ninja pkg-<span class="hljs-built_in">config</span> icu4c capstone<br>pip3 <span class="hljs-keyword">install </span>pyelftools requests<br></code></pre></td></tr></table></figure><p>macOS Ventura and Sonoma (clang 16)</p><ul><li>Install XCode</li><li>Install clang 16 and required tools</li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span><span class="hljs-keyword">llvm@16 </span>cmake ninja pkg-<span class="hljs-built_in">config</span> icu4c capstone<br>pip3 <span class="hljs-keyword">install </span>pyelftools requests<br></code></pre></td></tr></table></figure><p>然后执行下述命令</p><blockquote><p>python3 blutter.py .&#x2F;arm64 .&#x2F;output</p></blockquote><p>如下图位置 即可。</p><p><img src="https://s2.loli.net/2025/08/06/5ETP9exBkbchr6o.png"></p><p>直接讲ida中还原变量名。</p><p><img src="https://s2.loli.net/2025/08/05/HYlOxmtKPojwZqG.png"></p><p>把这个py文件拖进去</p><p><img src="https://s2.loli.net/2025/08/05/ePTuFUOM4KbE1Rg.png"></p><p>中间有错误不用管。然后就发现</p><p>诶。变量名都还原了。</p><p><img src="https://s2.loli.net/2025/08/05/LUf6gPlpmXQ2w4v.png"></p><p>​</p><h1 id="具体分析"><a href="#具体分析" class="headerlink" title="具体分析"></a>具体分析</h1><p>这里其实我搞过web的 知道这个signature 是 sha256</p><p>这里直接搜索 sha256</p><p><img src="https://s2.loli.net/2025/08/05/XwzYPrNaO6kTVgB.png"></p><p>当然可以把这个Allocate，以及flutter 开头的过滤掉。</p><p>这里点开第一个</p><p><img src="https://s2.loli.net/2025/08/06/Q1yiIzbLJmhtvOk.png"></p><p><img src="https://s2.loli.net/2025/08/06/flcpLsIUG4uogBt.png"></p><p>直接找他函数地址 Hook一下就好了</p><p>这里直接对比。</p><p><img src="https://s2.loli.net/2025/08/05/zkt69FVZ8pMJCOK.png"></p><p>对比</p><p><img src="https://s2.loli.net/2025/08/05/XYCD2Z8As6egTHx.png"></p><p>最后发现是由这段加密而成。</p><p><img src="https://s2.loli.net/2025/08/05/MSbXx621GWeRzq9.png"></p><p>结果一模一样</p><p>看着唬人 实则非常简单。</p><h1 id="具体结果"><a href="#具体结果" class="headerlink" title="具体结果"></a>具体结果</h1><p>最后还需要一点小小改动。<br><img src="https://s2.loli.net/2025/08/15/OSkZxvBtWD7UaCH.png"></p>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 逆向 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AST_通用插件</title>
      <link href="/2025/08/14/AST-%E9%80%9F%E8%AE%B0/"/>
      <url>/2025/08/14/AST-%E9%80%9F%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="哦~这个密码无效。请检查后再试一次。" data-whm="哎呀，这些解密的内容可能已被更改，但你仍然可以查看。">  <script id="hbeData" type="hbeData" data-hmacdigest="73666b37e4014140409c0350e3748c44f9ff63a2a69ddb5b0afad37193f627a5">83e5631915b29311d4c3e64518d9116cd82725197ef8dd179ab4fdc2110a6cc3c475c4cdd90a557dcbd238828277a19caad800c3c8caef9ed15a913ac60147188debec377d0aca8d88b3939127242825092021788d72ea79684e3f7d89726eef18d12c52de1e5ea905c9c27eaefc146a61711e481a660e6b1f54d000fa410e2457d4f96b401361772ef8be7df40945bf3bed6f8e17fd2ad405403f9e3674e47941aac44b1a50c56da3955595168d18f111e77d15c336ef590317d71c36b5dce9c443ee4d1eea0f03d457e28e45eda2793a3c53649912283e22be79b292e6a03f0ea278a714fce14650eba40d5feac9451fe7a77d36cc292649ee62b21beb3066269573a8c1b99deb914de8678699eb19ee6366573a348ccbcf03c65f19b8cdcda6bab90efc362e034156c5c2aac607ea2dd9c1ccba02104547dbf1af546e69f9aefdbef511b49ba5178d5b9b93c21ed2715cdfe3404347b5cc36a1a30c705b761cfeff698a0f1ec43b5b2afc2b5b45a2ee7948556b1c52d1ecb7fe13d8190ff6dd5daf3cac02398e0b8b49c15311ef960281b8ad8397629a2c15e96c0267ea6cc86bd4d2097aaaac41d1bcf804314ff1a86213412c3ffb8250370361d19e578a544e56024626e59bed411bc2bea293de7a135452d5f7669ba2f5a3571eef010ad82cf2e436bfcc91e75c8921d22a6886feff4e3139c23438145286a151ee1246e63a51a4f42fbd2e3a124e03e678a54856bbf544d80ed94d42d6aabc7e21bec9bd87309e6a0a51bfe6ad1c847298a016c9320d96ca440443281c5a3e07153b0cf32e153a76759ef1880c3ff3647e9b0649cbddc77d9d7ef70dfcd94e6338ee6a0a2a342943c4791ba4da92d3f4f7d0b947c9059b9cf0bbdd9ea92806436e8618c7334b50a5cf8a97c20168c4406322b4a70234d60eeee6da74b6b4b4d06f2ae6f0805382f2ecdd1cc6b47964e03f63e100c0f324e35f7d4460fbe9784b318ac93e80c4e578eeb6e133a58422da821360ad63da2d283c669d863dbc6bf7371d3f4db609b2bf8ef6b08cc8315b771e5bdfe601c584a595a75610a072452e729558a598a626170d3e313357a27fac9071939c5d1be2453be9c81a76e9acaeb1d1925a8d2f02deeb19b0beda5a90baef8d4cb09ce3c7242ad4139c26855295f3eb8967ede2e0e54815356f7aa007e2fb5c438e8e4e08e5ceb3b55f82154de487a198cbd1bede17085f24e9db852ef03300584b29b14ae300daf12c76e9174fa48f0dd049a9cad6686de5d38413bbd9aab67bc6b79685edaf7e01ee2c836d668159a85c3883cb2beac48c26e890b710e2f0627a35e095478aab4a59c02a8e44186e3ddaad2e7addab504b5d7da124b1994951bc84f06000388fa73c75b0abd901ca4a925ae731754f6f4e18a496f9cc845dfdd11ac8ba3f0906a7c20a31a373048854b1c89cad822cf4c9a2ebd75ee0df7ef6ca9fda620f2c8d31fa91ca577828b388bf7dcdbe9c66e28a66eeb479e2958971e20799bfe669f2041056852ea193cfd8e3b237d392205a75453c3f30c2274bb960f2e997f2bf1a2cf2ec51c95f5d0d7a14c48ed13d2aeb3a493dd638dda6fbfd346feb547b53315b1eef7a513c23d8c0be166a4347fbec129c8045df850feaae1e31e89b7d280ffee9ac268665ecfdc48a06dbd72a6b189d0c1531055afb04702fd869d9321883b00ed66c2e9a56c0d668a32eb1374cd2fb8ae344dc6d3667138c7c53409178cae0ddca174336a0969e09c9325c1b83440da299d2ba62ab18564a4089a4bc2a558e0e8b2f388a9b0a4d71902e308247799dce22dbeed1995ffd537abe5b7cfeba0e337d0c3d3f9ce2a66e2639e89c93ac220724f93d7599c37dd73cbc8296adc272d2980604f51dadf3a29892b4361ed4e9ee51e2d9c26797de9c0652c3eb28022d67699d58bf25874924c4c1eb8065ee440e49d5d8809dc9dbc67adb92b48c3ce2683faaa92f33cfd3f553fa4b9d3172bce7eb5a381b6175a739ab5523924326143e6e043ab61242943b89a8ede32519ed1b5a99ed7126aeea81c023838368a508ccebbb40cda3a2f7b11e04758a3ab5c6a3f563759764aab3530aaa47c426c00fac81b6b62d837e1de482bf3fdd3b41449527ed0cda83b5b1bbf35b3a5ec1e2c60216693a6f1c901efff38f183f59e9c422ebab69c8859a049de39b62273660c1d322127a3329f18190f75a9135d29f8a6cd10664c59e6ba030158967295cf1280dc872bdb91310d8e544e9a4b6e7f60995b429166923d7ee8f953b2793190c37c70fbe5270d5f02eb006cfc03a3e65bc23e6fd363899af508bcb3ca24a98f52069e4d894b097b614b6f9eecc1ca5f096783010d830671dc727fa9199b8a4190ab67c1368071aaba8088cdeb15f11e3acc9d31c9f8b7b5d65d881596e6be38ee4a7769252aa9f373c8f492d11cf6fe67b75300e8c37c46c03a08d447a8141897e7d7c1ec8227942e1dad633bab85ce9a7e93b62ab92aa2e019da09f1330e913bdaa3c017e644b7706278b7d6a0cb50cfed12cf581c14b417899e695d878471045938f128e3d7515bc929429e0e2d96480e2140ed00f02610facf966ff006f8e2f047dba247fee8ba276291889512e4bc6798baaa9ad772154ebd2f9c27dec2112c80f3a3a106f5f034d3a320f6c783a3260546be8c34c84bc39f53c9602e141ae248975927797b86bf96884b1a75c2f2e533d937256cf78e06f7a43a5ea4a26cf7e4fd79e18ecfd66b1a84bf9b4725ed6589ca1c0938cea80634273933f27b473004f7b20ab45d007ab50a519488853aba41b81ae6d29adac52386ae06609bf53a3ebc89f63379a75606af11a47e1e0f2a0e46fd92e18063df32aed90b7872c1ea2cc10d2bafa78769c96fe6a44d56e93121df1ab273874ec218231adbc6b02014771840c634daf68f759fe93d5b83c658d8dcb7446e658a02781c06038f45d24d5511b41f633da1aca0312a58abad28791cfbed818f7e5d178bf18fd321e0e0a869a9c196e6b44fa7bd3e7954fb7424b8608ca7c7642ced8025d53988f04a993741fb7f861ce9c360efa2bf24499e767d4f1d97aafc9740ed66276a29790ce12a017fc106fc55740210c45f3506f263f3e583e29db99b8e10c986300304cc00956eb05b5c3eb85d9994f2d6f809460c1806f4ec41f72ac37894e8d607dff2e40622fb03d043a3ad4101f2b7a3b00c11d64232716c3894208bb943b2e9d0bcfa478f9442072b6dc68b3b8153d6cfeb77fcbd5c703980fccdf40815b53a96d0c018b4b113cd2b1527c1a94f6c3c7ddacb07070ea37be55f075e85833d54526d0b3c2e0194f94656eead4c1b811c5b2767277ef08ab279d66f2967f4d0d0a35f709e89d729920f0f4f009fd4ac35e0d24e39e158ed56c5cc4fe9b7b0fdc06f9d4a2e255e3b2c7ac729fbf16be8bec26e0bd80dc4999a25833334d46df72ee15daf5c317ed033b86ee58d5fba16f1f5202a930560d399f01cc29c816c397746b79035cb3f1be5938db37f17491a5548c240560e4aa754c437d87e852647c3e5e27be390528ea9e9e990d6890922912ad16dd7a3c1db1ba77a365ffe0ed906fecd0e99f70b22347866d4e1457674abc928709fad4246f7a7e3e33874d673f777bfb4ce7a36c34519321024f71d73c14c6040686660430d5029be503ca1dede5a06662f7317d945a7bcf2cee066468fe49eed88b50a52ff467d43d9687f24345737994db7cae0408d633cd7650a19fefb11ef36d1029826241a9ad563127eb4697a498c563be4200e4bfb3429850f01e035c28d4102bcb5543be1016f00ecbfc9203e77624c21369eb7feb84de4a28f98ff57c3798e8dde57d597d652c25fd676fa91127dc4c76749245940fa25d8fa0413e2836ff1122fc9ed428c64f4a93e47a3c3feb5a101e4b1ad6ed64815a80c60e6385c3d0fcb5e0650ee080a06ab6de7122e09b3ed686a9d11515f5a6168df493280a5bfa702fbe92839c533f34549c70d7bbdd1394f1571afe5cb619872e10608fe4fa54866a83946082627d4ab8c43ec4c55b9367c47ae060c99616c76063ffa7227ea88c77b1e1b0ea273d18c05bc7fb46cbc25246c8e1cb499a62a1705402affd4514f6ea31ae246ccbb484f9127e82bf7431ca5deb0589a03632acf71ddbb8d5e4c2c9ecde87877dad90e52e17fe4761cf968ed7a6b01ee9acb7f3c4763abf781fa49b19729d43f70ae2e368768c3b1e1b3bd9816d87ebebe7ef13667170c9bd175de839ecab48f89c427655daee41382983e99533481d57701acfe53c30b67bc16dfeaf0b1d589df84a8dc6f4cd2a3dd05a00f2528e2bf888d0cc6ed9959dd5d806bd9e9e53fcaff36afe53666fd7ef9c5d5a59cb992fa3fcb11662a30864b5cfb691d2d333e341861333f8a190525a71375b00a14c004361d576ebbd4a021269a25f52bdc147db0dcae6cb686f2b7330f7295674cfdea903f929ec9b3d64294ac072c19162287473e17ee57b2c8a6a356e93016ba75b512174e05ff2ea360dce30cdf299d1fd3580a1ff69cd6657f825f96fcc562df2e58bd39019d511b553ea1846dd18a00a0f275483ae1b40ce443df693358547b769d0abe96c524bc0d8c5eacbf0df2b1278e758d8eb0112286368bc2b41f6f1f74a750b284c5740a4d76eb643d2835df4c2304bb5774801626ef54e1df7326cf659e7029ab1ca8da53adb4c3aa57bafb7e42e71e82bdbcaeb38c7a2c68f0b81a99501a01ab7e23f2b49143bc0fc7a2c7a2237fa273cfea61fe0bf93819d689723929bc845e622c98fa438e45c0b371b2650902306be532e33a9904fbb9de58827172b5acdcd01cd096506faa2c0c0de051d5e62155ed0359b4f2b9b646e6a231b428e825ff041f9acae0bc716d93d5ba58317258f9ee50e7d776467f1c566e94d4c7b04a96d05a4b24774c907bae335b6b73a2dd4fcfab08aa063d0723fef0526480acdf7d194d9286d749fd24079edb93f8ce7fa9dde83c08641305f247cacad1e3d7950f3b98af3574eab5a11e77607fbc21c8bd0e93a0c078730e7e7aab5f85fab0022a250c7e25389796676a599c8a4ac3a09995b82dbef474a29e8d908327ba087aae99fb1daa47267c43f3ea8eb37d6cd34a768c43cac4765ce2e02999cf5d2c0034295337c87c2fd67048dedae506fcb529a147d322568475463d4d0b14d31081543c142e2f3c79c0b7159f55149bfe9bcaa934d25ca454c6757d2de104aae89892385ea41775fd00e44814934ee4aee0dedc9b4995df2dd5eced35099d56a0cb59f88d1d9b76ad51c4dff419aaa77d76ae28e78712ca8d7adbf09732c91f68f0120bbb25695280fec8514df86186dc7ea6fd49aadabf5b956e38e3bf1c2bacbc48ef1c6ee964963a0c7aafaba2b9252c86ad306d2e2c9fdde1b4482c08f0282189e182e872559d6eb3fbd4f5a82781bf33a3ed0c2153c554b6548e2dc5b26e2946d7844504b3e2c22d5a1fe3870ce74142e04d10b90a06d2586a486e25ae9150d0ee5ef7637d5e67cc98fbebef24ca565531ddb6d74f76c62609c75282f7ace8abc79ebb409ebb12dcbd62b3a95ac806afd21ca1c2dc6a6a2d1f476d1485c73146ca212fe45355f45e8081787a4c83cc0fddc4723b480e476873e294778c9928643b60981f2f856ec71b07ee41c38dbc6b47c58cbc7211a352329993dece25c4a47ab2ad6f923fcf7cdb79d207a12c6765bd7c5ad93ed6ab094d6dd3f302506b6c3c09722583b93c12f411d91e962d7f69a9cbce3e852b2bd5482ea9eee86104348d992b53d0874677c1285a03fced7cfe36fc05bea4eef6d2b9192eaddd49e74c42142c3983375205dcf43fa8f83220d4879319e9401524c80f2be0538772d6d83e47227aa5bf25026f984922f4d6242d4e5e591eca33d2a7f0a8d38b6f337911c6af282219d7338ee32b829c87ccab8d8c4869a1bb493243d3b5ca05d7e8dc13440f83a102c8296bfbd139efd9e6fc867a59a481f721eca93e62f32170b0fafee1d5631a695606289ae1e672643429c9ce3f80c92a5fd239c29e8f724dae9594eb4aa8ff635c0acb17b7b0e81e1366bd44a45c29e2f8bcccff47b269858f2f513ec77ca8f61943b3a575172cfd6782dbab6b64fb9f0a713d001c997ab985d8715aa87ca2b90aec4cc41c88227c5c78e0369f1b84878d0d1c40dee114636851e156545c4774bc6d8b3c9dceea95025115e0487a0a0a3dd5409bae7d1cba1c5b13d21be78007f068bb5a2f597c53a54a30ebff7c22a313149ffaddf5af90aeb432547975e833566c0cf9034b57297525ff8932dd12ad3f25a2bcc120c5e510fa98385c8721713c6bbc98f54c1e265669f54e41c03db3a44cda02453a7d7b692b666c6b207f3e68cbbdc980f9f375a66768a6ca64c9bfe7398c3d6ee0b483e8dc1590ff2b2d50cb02d3bd23ebb1745e13f43efaf9eb9ac0709ed9cf65ed2c82a56d0efd668ee221cf59b415b40487255f2af7f3083ccf3bd032e30020104a784618454969b95c15cddb76668efe843d6b3de5e01b0ef2c89c0320fd247f4173923bd03ea7d0919285ef254f3c9fb4be55d6a90fac846b338ad688671f0fba5d0b484e937030170a82e0ca0ee327d2d6c5c6dd630b14eef8aa883f60360fd5a6f720ac2f6efb05fc819c40d6e282991627bd8691ff072a99bd32db72de9bc7b0f09e2dd73510863245084dbc3425513a4fb5f4214cf65f144d8987d8798fd402e87c928ecb05f499cb7398ce76394c51fab9311a0ab0e71a1ee200c9ff164fb081abfe401a97be9e119469e684c4ccf3faf1470358a634744d9a668c3eeec116f235f0495657e2ebd8d4efb98395492ce96f4a71cc1c000b685363a3f6c0a6cd825558dfc5c92ce291929563131f064dfb11fa3dd102b67945dc3c69890fbf891a23479d703533177afb752dcacc1fd784ba51c685a9599bef045d863bac05e9c1e4fd5a2015804aa2ddf44f8dddf04e95428d8b0713c192fa163f68fb6fe04b66c65c6328627532bf1b7c06fc8de26a6c343e55832072c8624c86d546d1dfca6feed9f61b616fdb122fd2da1b0e4e97f51a907914dbc69a0f5783e1311a69fb0dc642f096b3b8dc0b29dcbd8d4e075af3d739d46355742b3769c62d5b8b7b548d3f316058fc9fa496e0261a493ea1359d743cd029541b77a20999f89e69a9a0b1fad83d16e86109c2c835d41dde74aa8fc9ffc2a24f5dbb88019682558670dfc4099fc417a763c721d0c073cd10e532c44f9166cb66ad72d1a79e32ebc1262ef07f516687a6654c241832f2d36415b4a2795e016f20904e9cb374c23871bd7eeeca6894565ae51f4097144ae9e65283ab5bb0293309327c6e3c71720a2aa0cba4ec78078d1bff553810cd4c5244789030c1c3bef6bac480ed6b6a6702b6122a98600926b0acad5ba000f36dbfe2f89bd6d0963c83d7a8bc662fa6e659c3a404e6f37af51df56c50aaac1f3cac0354f2bb9f7e7780d78c953783561df91bde3756bf0881a5e76425d6c0210b8a5ea6382b411a3d4f217d34e84610a2059a06e4cb3c3fd7da32603f0698c0186f3b2cb753933acfb30512e71ac8c1792121253fbc451cacbdf05522c13d9aab64bdf12286fb5633359671b1d500ebe140ff24fa98e4ad5b2be8f29be6c8cb26bfd6f4e382d851848ae89054471212ac4280edc2ea0e346e2ac4b5ca98c5fa71a741975449b00924b4ddc03967c313b7d1aac3f1942b9b038007481f1f2b8332e5ffe0df1f5e9a4c7cb041f869960ba1fee07b5932022e325fd60f66fdce6ce8d8fe5645be590af583067e3ce5258cee8df5bf36b55ef2720c56f4615f616c2d6dc2176cd48bfbddbe8c5276de519ebdfa59ceca7dc0df5d2fc41fb83e93ed11d8ab4ca60c5a6c31a68de0336df330eb934e667c760caf965352001c23d50d7ad10e1ad7ff2bde4841c23129cfc1639ba85769f99e0e7aa3a58ff7992ca0f1484edcce9d60c31a8ea2329adb32449107c9a6245e521a34a652ecdd8fc46e0fa3b9370ff432b30537e2f935f516235cba23884364a7b2989f7e0869124a2e170380492025d92b8666f69391a0f345073622ae0928830faa5d71c385a40c24d6d5b5e29ed566218dbbec1fb16ae543ee18ab29c9f0aa5c4bbf2d5c60d174ec5596ee08c84b34e6cd25a7dfb351c7c5260f834ee6414457fcce863f8a161f02f8c4aa09b7830f8f0948122c8f1d65f5476e8626e27af747189696bbb8957082341c9b2d0f84125cd226223de9048d587057a820ce1d50efb9c2b55c571788ca6e49a058a6dbc6dc2de724534dff46d3eecd94a22a619411c0383a3e833ad05fda844a88b53519a84464f0e9acfdfb28c863281748ccc651408641cd1fa567c86206417af6fce444430804d36d574b6b96d619f898b0352d0b7525d66431e65f331cf02863e0ffc57987faa7e315f1bcbdd8380e166cbbb263e25ae7eb3c76a8ebe7d351a3509306f7e25144368ffa0bb4011375b07da34a6d9cad6c7baef2aa6504c8cd0d5761fd33b5d5cc96d8f0fc96ab1e1d711250b96a830430b5833233b40deab4dcfdb9d04a27400ff2c2f69d8ac10fa83766c770652a55c164afb02062896d3eda4b1a521e2d8575710607aad5533e2d7b57e738427d3bb92f569704edd3c245a3587727dadd86f64facd385ca64118e59e3d4d94a181a0fb098746f48bfe31d0073b1a12f720026a173b57e1db6d5b1ab11eccb0a9e4c7013ab4a0f30e51a7f7fcb1b84181ed19c72f0cbfd57c7d46d87ef47520a5f974434384f1d4053113a036ad33705a39fd3cea07b49ff2f2c18e54f7b8afdad29a6f5c7a85a530065f42ed316ff27a6dbfeb8bd4111eee188be4dfd4c4540a4ab512946f00cc2fffe0ff4e724b3d3268669bba4507525d1ffe8a1c475b3d09c6a389d044823896440137b71f430f3a9c5b071a7b7e31ced416d01c8770410ad694524845330a140571e3a84d6df6d419760374016e3f6d06223cecc674c5d318f8c4c69b3b5ca9ad3d2889ab7c3134bca30c6c940d5d6f930e3b949f9b3540c0f614d795c3c52bb06014ca0bd36a262b7b90370057699ffadd4a1022c725cb79e192a3c5b4f86e9039b2f441b0f42e72e16889de34473c0f3d3655282cadb27bcc8659479f6a91707c36625bd2fe386d856be033692abcf4a0eef355009bec1478e371e6b3c3d5e2f8a038c23fbf43ade67a82e5bf0d5fc41e518a9b217daacae922e7d5dbca7f688beaddb9d1c2b63e0c5508792fb7cffd3c89a80851bc4b7cb4e78de50d4e007becdb1ce3228ea744dbf06a51db3634d0c548c45c004993424f83f9a95c6f52281b90203b4da81fd4a71c3cc5bd388c83c90c1082f5f0530dbcc6e408a7838486ae1ee549f3e70d8f25f3ba2daf3878220a7b47d4fc19b3f529f77664780925026b8251e156c1d7437a66bb818cb987e4351039974afde9ba85639b1ff22512d6bd235a1695a85deffd4596c7bf9c1a0aa17f689ea5e3f7640e283a732dfdbbb78947e8bcbe5f9ae3c7bbb714de9874d3b97c01718b0f4ebe453496c1ac9f7735b491962941ea8ecbce2d6b777afce487b9a79ec50ad91c78510a784d1a99e04c20f8e33c3bb49fac8649dd3c481765258b9bf5107bd6204d2078420f2de2f627326a60af02f5ccc22ae271735f4709a19a852b476e0df846aff263d89e25165ab2ffc44acd1062a9f2a7e08c52d99006abb2bc8ba6b5ad8deb9bb3ce0ff25ca23c0c49ff32236128f706972e1c2d2b49e7bfda899348e7ae398d53d3a01f75590be0e5d8c5c1d64c17f871fcaedf7e3135fc7840728e53878ea4f4f923c35bfa66b7d1ca6f3b03bd997eab9f7e89a35a64376f68b63373c9f95b5eb27e7b96525b508bf0c089bb3b98edc81e730ced2627d1bf60f73fb53bed47d44328d24f1d7aa1751a6f10a7ad88629edbdebdb62b1447623eba76240e381bb46c9bb0125d561d64883612f0ee894891d67bf796657a66baaa7d25602212296780a5bef9a0a553b8587f0c8a1dbfce99caf3ae73d312178bddc2bee4d35f3d52b847a7f6d435022175978b8ccd094b17f291fa7d32b676411d409932356e13ac08ee38610156844df8c1e176989b884e30b144197a01b4cfdd1f58027619d4063f41bbc7925b24b40c5b8f50fde1a25576d2b20fe8db30c3aff2632eec435c604596b9950e6449a9fe8f064be4cf9cdad35b16c6e51dc8dc1e704cdc03d0102df5fe8d8760c4a960f5ffb510b44f0fc830d2bf720f0364195a65949c71e44315a2e0bee77825982e89ed5956811f5608bf9b37bd956a9f13fe9a46fb2b48108b76e77bb679ff1a77a582f8ec1dd86f96be064df39185aeeeaf9b81165dd27fda7db595dc0b16486ef6fcb2ed00b5a066f228eb0b05db3a9c25102bee973089e9d7790269878cc05a31ce497d6ef92caf9d90585b08fccf12acc4142288172d334fa03ba0f77e30947f4c51254253b93ca65a0b9645a2be8b9a340509b66acaeab589e37a4ab847776035a675e7469fced4b6dfbc532e0eab5b8e6c91bdaa508d868c757a558ec417e68581e33b01ee82f856f5e03fe18a27350c2a1cdbb078fc73b3e68bd54b2a64a01f1ba7d57242e38b1f086cf0d9e3f8d177941e3b127e93a1652bb7a10214d620ba0033fc1b252b38e23b2b1f5744fe45fa250469eafdc2f0b0632cfab2679cad055dc9d3e37574a654f17114b62400e915e597e6331d88a7889468b8261e834158371e670903f1b15cb23938c358e353a5bde4dcfe3029428c5528f343b104bad8ab11256bfe67eb0c4297689880a3aa88d269e1efc9a6a46495c90d042915a6686b7c226d195f5fbb4e2c39b301c65f35e595e03cfc696f5bec88b297c0c046448f9e4c0c4c19feababc30f82de68d9f145eee3b3af6d6082933044c8ccd6ed8d26735cdbf6a15fe93ea4dfcaff9c9e86422114b5a2fefa62b0397ccd75f8cfac7d87ee6a790a5f5888237380425cf16162fd67518e794e5d4e429ccf4c7a88790c1adaa79e219f29fb1b7e43e15ccaf45363d492f126327c438d6960a00b1efbfcf4157c0f792bb69d882e1e49706467b204117f3215e212da80676549721a88b7c69b20e330e4c0c547a64d48928ddd2b6738aeb656c841dd65e67dd0f3b32af60f2bfda260d708aaf3a3af30ea5f33295cd2d83950c70b5e6ea467078670f8af6862c8a468e8aa7d95ef866392b13603483b2499d4cd03fcaec5509c056367824da107ea739557147ae0ceea4e43bbaf9ec239970130a586c9d0a441eb98a564365f3882010efa02665e4d7840e5c36644bb4785534f3b8e5d811ec85db753ea4b3decf145f1b7ffb9a8d5d0fbb14dfea61a92a05b2610ed925a4713ab4982417034f0431cba8694ead235e47b5d5c18008e866c9c2d026cb132a458793acac9e324841986c7081a776ba4355f4a698853645854141c1538ae14e7f31ef526d773c2b6489aa08788bb45152c01b19c2e4ad4ba1efbf3d17d0e7bc50287a5d0ebc1f0c463d7e824d8324d7b6b7698b64d785863f7ff39b21bfd827fe1e4624bb55e59fb4f1d2452dd7f45cb153db9b862a54b4bade9f1b7c79ccb33ee7225bf608996d0636a988c918129326ce5e00944d4c44c8a669167935a1e08c216a96aacf06826c5232ab460ad0ff3fc0a664f1deba0398b46a08c0d537d0a398cc63dc99c7caf107d0683074db53e59be35a21951a1e51ae2e503f9753e30744f85c74433d07b899785805a129621cfaa9018eca01a007e5862d7aba1bbe717172af021a55ab448c7c102ccc1b151ae69a64f5164766c5116d32005fd2885a2aa0bc118fb2f36206e68d8d1d05fdc583359454fca8defb181fcfb32abaaa4f9a088ff9ef5d0dee976c35ea87e7d90b9f5f3ef15900ad0f22199ee0f7b2c9c37ca6fba5db7b8654e435ee6fda1036702deb0799e94f59a18b0f4f038198b19851aa7844b1b9dbff18ec641159885a1b5b6f177f550cee7c5e394f4927e2b011108e55bc6d2fb9551651b12ea8357a1b9b6613883166eb858effd6e30de35bd0a6172de1caf7df42fa30a837a080ed76912e8e7bdb24f5fa15f9f3989d81fee6e2ec17e2c04452b3f901930778a64d9c4fd07612508121ce0fa35977380db9b773cae3a1da6faa5ed85682a72a9a8e4d5359f866a2c19c9b00a8557f3548c74e3c986b5af9f483f602f62c3862c65304e6959717705f55f59aef28b40dea0c6bd78b909bbd5f6eeb65abcceaa70ea973062aaeddfe0dc58263117f05c9ffc31eb4b2171e94cb85ce6c48d686a83cc996e2f9448de76172827599a5abd7eb8e5b2d178b0aa2e7bb4d697c8a1be9dc5e15787ad4484de8a2829af295e1b438bc4eeb7ca934c5a446f3eb423bf114b4eaf070615a789ac5a2be0b5f0515893ef0c1dc3aa0dfe4742a1626a68e9e2d8ffaf2a6b7dc0db16d45fd03d54cee07396ab2032a7cdd2739e8388fa09aae1d26581ea61671d0c01e83383fbe2eaf15c9db0ea8ee6649558e310e550275a054fd01074e5df2b58ac9d9a8ff869feac3ca721e8ed5363c5a3b0157d1d5f8e7546dbb60e708bd6339581b20e6e95c6d06e5b17a8733f477b59586afa8fa5bd2210e6f91fa28b60cd42fba6ae86a6e1e9af9db62576e1d8ef7cdb161e0ea3d5d94e50b767179f7cfabecee308e849ff01465e8f2142dd8472bb5aa2c8442f5c3801e99dddf042d9389040418b78efbe780fb998f533ebbc5fc82c6920583b1fee4c2d471ad434548c213379c01372d38fecae75b8b293faf57816771969b73d33fdec14106a185c43014c482ba4f7b1c194eb0d4c15b5fa2e18301ea742d7e752935ddaa03a56e4d5a3c8105049ee2ec6725e8c8d797ebbb0209a8c80825d51decaba6888e3f1b2973befda9fcafbad765000a032765bd31de1ab3bfa1dbca117470a9aafbdf849b920b79b878fcb6f9ef13fef7ed80cdaec3e98ecbeae2437acc33683a5253ab46c0d51a87dcc640dbd92f51cde123329dfe9891c6d7e0c7a3776574078e1bc71fc46be3def90aba306a6b06ece104837c53c30e986eb5f9b3b0ef67e751046dc630ba8f88c535be078fa2ba97bcc84e4ce2ff5ee06737d8faf947d2cf18b511f2ece29a5b8a6ffe6f7e693419e8e935f98e02b99a6a6eb88ea864419f7e1c4ef51d762a2664e80a3f7a94dbbbb783544e5d753c88ab7232558006571a4b45ed2e2fd73423789a5cdeaab6030ef3afac3bf7682cec8664ed8b44c65da30411f5976836c28c9ba521f02505bf74cfe1483f362049479c42f53130472a8b19404aae269bd7a335e388d1aa904d25a521fd120fc9cc8bede38fd40f33e0d4fd25b53e6df588c699ddac297c6f0da7c1825d6f533042777d010f11f906e74f1649db57dc83755a969403967bc336b34d2ab9408b7f38c0649b25efdb627f85d4008cc5fe0df62add4e1f2c8c4332872fee844267ffbe7d1816a2c50a8c1e1952e15d07cb06509a12b9c6d43b86bc4b62e79db28de53e8ee32796d589d1f5c424acc491b2c40f2ff96877890652ec7e0e307ff8423638b3cef6ba80b3c79d78e515482cf88618e38067e5821ba9c5fbef63a43eb682a6b6dcccd0f44d8cd59c93b660f9f9f99971c713aee0c14770ece6e0a4de6b8d85edee6f0590b69b0819c361f9317d5808711479fda3c256431a502bc2d6f2ac84c4b0bf1f70b0960d2b65791d4c080878e71197dc328355a5260c67a07f2707fe482e80e3c2a981d30dea50652fa7cd6a5c22e65f094e446a2154690055e4c638eeab95c9da5ea9b6ae46d5c99c98d33cff1e4debe34ebaa523941b392adb548912baa9cdd6a9961800046bb8e3db8d873ca868999cd589b732b8fce5ef049fb9c314d7b164378ab5a76576d3da14455aa8420354e95b856b85a33f5c2f314d5aa68434483605983e6bd9b4f4c8251495ed5c3d76a741da1acf975ea9cf41ab0d745ea512e70c398e00932aad2bc5b2fe72747a31c47b17adcc18e19f417e82d1b43f317b9d84b232884954be348ed9dfbcd3830dfae4e4aca9cff66ee215e201d1924a3a4072be92366486323c6e946141ecb2b71319f4aa95a843dfbd595ce6738c0fc88715560d1375018df34090498f390437505a295db540c8cdcb32c53c9ade1cb8a3c3b1f234997be968be4d0686c24474a524157deb11779a74c52d8af07fc3141168e2714e6d99ca5ae4e6f8bb6767cd903efe9e890b2e27cbee4e7cd49cfe0168010bbea558aadf94c01bd7f11559bd599e22873745ca3cd410ffd8ef3b633a0377c4f9604dc212ab43bfd3513cef57bc995b12f2a7c18bb16ad31eea5654c63ffff131e6ebc7ff487d76c5077f56300bb9a995ed3c44ee68b61bc757705042bc3eabfa40463f263c40bbb9ef156f7b1eca49f4d6d9d6fa9ebae4e1a7b30daaf7e763fcce2f13f388e474ab36b73aa5e68b330944b2316d1e01d828b90c91055becd84c14b3abb9a84454a04962dddd460ef231012cf8404e441cb024930d6cf8d65aee09fe737221d4384313268d3e99d93c68d9ab2b2a02065357529d82e7c9bf4e2033df80ca8c278336c17dd8982b12cbf978abb6132f7b306698bd7378635a131c7f4b72d8097d2c5a25fc5adc45db1ac20d2f8bddda34dd550769f24e479f5587fcb16bca1bf0c4441759fee1ad5d6456c31fa60a8fc7469e476a6af3a9bdac02fb7c9e9e3af3016e50f75faae3abfa9cef1711898b965fec08199c97b1cc8c390cb0b5449e45a7509034428fdcf809a4106e7e9f9c18d7ecb3073202ddd60cf5ba9b0a31964813fee2f2ffe176ce54e7540b149f802e40a4a484e1345c0d6b46f65b0f4a38ae82962ab95dc2bd639feb55e51ba4d599c7373e232c34913e4cc929723f85aebfa76fdb0259feb4ca132eae27115be852941cc6590c7ce9bfacfcffca84b77b6033f2026af78f49beda23c563897b718d64044b52b38af347d1731ad8c9e757dfbc9f047e9cd6ec611bef5e429d993b712899d549e950b630e73c2331062a6af0df90078dc34f588954cd3002765833e0732804fef4776e62d01e9b89556b9ea76eca0fdd60c6f2fe7e0ba2f2742125062217c25fc6ffad797295ccff641a8a1a16eaeda4b53bac7f62e5d64dadf45b47aa860174d07ab893592ed1e2922d2904e6d054f2552df9377b940724b2c30efde92119ba29abdb57c0bd01bb8b54e2d8d646c03c71dcef8246b3b324f783a44d73abeb879f7da07c9fcf11e12519804cb18e04df210aee84dbb8939a82458067e9c2f56d4220bdb099272e698b86332a27e5a3b96aaec36bc6442b24358ab5192e941d47053fa401de57e00c0923f38bab9fcf8c7cb8ffba95c668d4fa845d894f0e09ecedf479024fc8424034a95cb79fb195c58873038318aed8cb17511375bada5ecd44403f89930088b5079114abda028b9b74fa73d2dfbc1a92607f1a6e3cda711a73893431684cd228c3c73dfbc960ddb111cbb258e2cbe8637505c5aa6f7367fc956cb892aa653b3e20b58c40fc29bae0ab4aed9c173b20ab239083d13178fede772327a160afaec2ef15e69d867829c42adeedda0da62579da83ff7a7a0e225340f2b3e889c9276806715b20dcda86e43247f103ce4cc16e09179cc2d22008c06eae67fad496408dedaa86cf42886f5989a67a101358d057232fa205fba5324d94a27530cc2149cd171c57783d159050ad9dd16cc970513f661543658bcf9d7b46d2647bd6af571dbacbffb750f1931b9fe5671f9c9936bb1ef78bd131d8c85e3a441b41b9a9297bb958e063bfda3ff984ba297953f4ff157f766a384b7aaf3833f264fb21bbcd87e604ca076edf8fe26e650ad68ff35ee5f1c9d6f4a41a8f4e2cd12a5541b8bbec83b3c259c713a651b821420ce44876cdc6ee7afd4b5b23744aed07522c0e28b989d67853321910bc323ef5887a757f46bed0a87fb2a8df6b290c59debb21fa492cc76d8a7cc2f47f893381836ad3c37243b0e201135cb9e9b4121e57ee107d3024ef4a8669b4d1eaf5212e6708ebec895c618895c6926c4862af5b94356951dada6943c3364dae5f16007298fcf4452d2c9aba4ebcdf08ef921c00a0ff7a6670e3122461997dd35ded1e57f98a56ade8713d8b162255f4585618d927832aa5b2b0c8ea61d535f3a91df653031605293658efb1357c1f1fc6e7af944c62f12934544f21e34d8c7654ddc709f28a94975e286304c7325f75d74447f24be00a346840050725e4a02d19ad34f7c91fa1c0fe596e63a0263aa88472726f9ca0020ab967d455e5b3e682e71155b0e052b0bf7ae9f9056818d13381ab972c5ee8473a1dba1080613ded9f31d2a63be935983ed2a0b0a4da2a92601df7070b1f6b54a64cb743437f824d568f062f937c6f47f58f8ce4eb6dd7dac777760dc971d293a049456b58789ee01d59cbc2587f020314aaf83ded5a4906a9fe733d569534eb86d62f87d50cef6a7b259ed5728c769d549d71310343fadf33338843733345d9bc48f7659d3135f7a58dfc78a15a3a2cb73b43053a54f21bc15401366eac49ad5e134fe924d3ea86440ab4bf56267ba466674d544602bf9ff03b2b901486cdb3fb36b6a23f1c386507f41c8239489060a5d7f600605e9a7f6e4f60668efa15c4ad54b5b3a62fa19f29715c8fa3b9a8a1a7fea7724a4de5292add4bfb6d1a4aea56eccd22332654d360ba4ab9b72f688a788d0e264c9abe64712ca5ccde1cb81b626680512df62573dcd8b2691a9666cd314c832d1fce12bd8def92dd738c7b8a8b9ce31a0bdc6e98f3c2910a26ef95622dd489c24681d8fc7cca9672583bab40c3bc821d7375cd10ac2ec444394a36c68cfd1dfba8be2e6da7b6011311d4baa6313a6f38beaff96336f305940e450678f24295e0c626939028d05b64b4e0309d7dcffded158819bd55b59b3d3e8da4cf84af6dbdcd3786cc178b895b9c288530aa6ad04f8b735769b30c9b553257feddab067031aaad2e6255b814c9053dc07681b48c07a25f8e9654c0ef3cf23f938dd857e02d874faaabc9b35135dc59f0b0acebfa368861bab110ad742f4c2ce89cdd5df8b2b7456a4e3a04bd0966be6502ccae817833fcd869fa16670240ca2c79c949c260eac78620c8de28caf1a1a9580bf7ad4ba1f6845b04f682c1d97a1666a1c467efd6a95259bbdcd039778986ffa134c1f6878ac7b5cea5dfe5763ccd9ee1fd2bcdbae23a0ac56d374a7b9255bedeb7f58c7c5917fc4a5dad38666be2fbdcf759613c577d6355ea42dbd072801c819c7131a176d36ea4e8f5068ffd3416e0914f369341b957318eb822ab47dd48d2585281cb18ccf71fc1e76c6582ee6ed397591bfd6652890cc78093b9fd346bd2eb7657b5dfd28030c55ef619b368aa2b8ce4f378169ec534fe5053a931825c5f460f64c8e192e225537d3a2357ce63ff3f32d316d663292d6a6ff0a8684d097ae1a81eee6d7562509dbbec8ebde6234e277bff9811cad6aa21f8b7fa61cb140d7a579d97a97fe601e5cbd4511a1c3d9e5654db0c3dea0904e56b2d293712eecfc25131e70f4e839308d90bfb502ed6569626607d539e3af78fd3c802d01bb8ca44ffe79161a349cd073854423063fffcf684132df6e1e51ad49bd39e751575987b7d2e87844708cc76ee1be6ab00adc94a139bbc64c2a0dc3835d3be5c4a3fc83e60073f3d402ba2f9131ae52de84248fc751f34d9eee25f7915d39359683caba02b3d289feca568a43a15bc67baba9291750791b28fa192b86ecee659e79d311533405165b2319dc8d401e5a5614ab8f3c6fdaa2949a984406ce2d23c0d5a6080aaf78eb5a6723fdd6798ec08abc03630dfff0f403755079f091a387317d89cb2a8b331ee50f82fe21efc2cde464c579c394a57109f6cdc278f22ead11e38e84f0b26b673b84f3a070142850cb6cd342cdbdfabc9f41db6fc0c7ed2f7a50e38cc3f2a114f2987f760c2110812382b77c637ed74a0892f0e002ba44050d5f0b2fe9364553b28c399decb32a5aacc2df4ddaf393b09d4accae8643cea0676d27b3f214b5db5387de7b320469c417df299fc4af0c0dac8a2a5c5ba872c1c3fba519241450e059ff6822120c2726bb70ff1b174d42225965b6c45ab19893527d8fa30dd2d268300f8529fb691ded4543e44d57bbed90f76b6184c4ce9b9c920a7dd03aba4c7887354e8a014d843aa55d46bd5094f72b6c6dcaf5afbf427dbd847b820404c47e0481b8a13b6e4ba391fd72fde95da86757042605cf0aa14704dd27c26ed9d0880f6d82b6dc6a90b3a704042921920993d5a0c7d0691e587ef2af153e57d236b69d031d55425a14fb0e41380e797490e2d4d8cfe394444816954f0cd014a4772dd5df986e5de675fdee2bb54453204c8ec9a88fab2d725aead6d0cb33acd1b866d4c2ec5819b12ffd126ce5bd5a507ddfee950af5314d45aa8c206941</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">这篇文章已被作者加密，请输入密码</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> AST学习日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac 用Jenv安装多个Java环境</title>
      <link href="/2025/03/26/Mac-%E7%94%A8Jenv%E5%AE%89%E8%A3%85%E5%A4%9A%E4%B8%AAJava%E7%8E%AF%E5%A2%83/"/>
      <url>/2025/03/26/Mac-%E7%94%A8Jenv%E5%AE%89%E8%A3%85%E5%A4%9A%E4%B8%AAJava%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<h1 id="Mac使用Jenv-安装多个Java环境"><a href="#Mac使用Jenv-安装多个Java环境" class="headerlink" title="Mac使用Jenv 安装多个Java环境"></a>Mac使用Jenv 安装多个Java环境</h1><h1 id="安装Jenv"><a href="#安装Jenv" class="headerlink" title="安装Jenv"></a>安装Jenv</h1><p>通过Homebrew快速安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">brew install jenv<br></code></pre></td></tr></table></figure><p>配置环境变量到Shell配置文件（如<code>.zshrc</code>或<code>.bash_profile</code>）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&#x27;eval &quot;$(jenv init -)&quot;&#x27;</span> &gt;&gt; ~/.zshrc<br><span class="hljs-built_in">source</span> ~/.zshrc<br></code></pre></td></tr></table></figure><h1 id="安装Java环境"><a href="#安装Java环境" class="headerlink" title="安装Java环境"></a>安装Java环境</h1><p><a href="https://www.azul.com/core-post-download">https://www.azul.com/core-post-download</a></p><p>选择 自己相应的 版本 一键式安装接口</p><h1 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h1><ul><li><p>下载 <code>.dmg</code> 文件并安装，默认路径为：<br><code>/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home</code></p></li><li><p><strong>添加至 jenv 管理</strong></p><ul><li><pre><code class="language-bash">jenv add /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Homejenv versions  # 验证是否显示 &quot;1.8&quot;</code></pre></li></ul></li></ul><h1 id="安装完成即可"><a href="#安装完成即可" class="headerlink" title="安装完成即可"></a>安装完成即可</h1><p>如下图所示</p>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vscode 自定义配置操作</title>
      <link href="/2025/03/24/Vscode-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E6%93%8D%E4%BD%9C/"/>
      <url>/2025/03/24/Vscode-%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h1 id="vscode-自定义配置"><a href="#vscode-自定义配置" class="headerlink" title="vscode 自定义配置"></a>vscode 自定义配置</h1><h1 id="必装插件与配置"><a href="#必装插件与配置" class="headerlink" title="必装插件与配置"></a>必装插件与配置</h1><ol><li><p><strong>Go，python</strong>——跟着你要运行代码来</p></li><li><p><strong>Code Runner</strong> ——代码运行工具</p></li><li><p><strong>IntelliJ IDEA Keybindings</strong>——使用IDEA快捷键</p></li><li><p><strong>Pylance</strong>——修正python语法与感知</p></li><li><p><strong>Black Formatter</strong>——代码格式化工具</p></li><li><p><strong>Better Comments</strong> ——美化注释的插件</p></li><li><p><strong>Bracket Pair Colorizer 2</strong>——找大括号 逆向者</p></li><li><p><strong>Material Theme Icons</strong>——文件图标</p></li><li><p><strong>Error Gutters</strong>——错误提示</p></li><li><p><strong>Code Spell Checker</strong> ——代码单词检查</p></li><li><p><strong>open in browser</strong>——可以打开HTML</p></li><li><p><strong>Postcode</strong> ——集成的Postman</p></li><li><p><strong>Project Manager</strong>——项目管理工具</p></li><li><p><strong>koroFileHeader</strong>——自动生成头部注释</p><ol><li><pre><code class="language-js">&quot;fileheader.customMade&quot;: &#123;    &quot;Author&quot;: &quot;一尾流莺&quot;,    &quot;Description&quot;: &quot;&quot;,    &quot;Date&quot;: &quot;Do not edit&quot;,    &quot;LastEditTime&quot;: &quot;Do not edit&quot;,    &quot;FilePath&quot;: &quot;&quot;  &#125;,    &quot;fileheader.cursorMode&quot;: &#123;    &quot;description&quot;: &quot;&quot;,    &quot;param&quot;: &quot;&quot;,    &quot;return&quot;: &quot;&quot;  &#125;<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br><span class="hljs-number">15</span>. <br><br># 保存即格式化<br><br>```json<br>&#123;<br>  <span class="hljs-string">&quot;editor.formatOnSave&quot;</span>: <span class="hljs-literal">true</span>,<br> <span class="hljs-string">&quot;editor.defaultFormatter&quot;</span>: <span class="hljs-string">&quot;esbenp.prettier-vscode&quot;</span>  // 指定默认格式化工具（如Prettier）<br>&#125;<br></code></pre></td></tr></table></figure></code></pre></li></ol></li></ol><p>也可以根据语言</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;[javascript]&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;editor.defaultFormatter&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;esbenp.prettier-vscode&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h1 id="Mac中自动选择Python环境"><a href="#Mac中自动选择Python环境" class="headerlink" title="Mac中自动选择Python环境"></a>Mac中自动选择Python环境</h1><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;python.condaPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/Users/hybpjx/miniconda3/bin/conda&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;terminal.integrated.profiles.osx&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;bash&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;bash&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;-l&quot;</span><span class="hljs-punctuation">]</span> <span class="hljs-comment">// 加载登录 shell 的环境变量</span><br>      <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;zsh&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-attr">&quot;path&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;zsh&quot;</span><span class="hljs-punctuation">,</span><br>        <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;-l&quot;</span><span class="hljs-punctuation">]</span><br>      <span class="hljs-punctuation">&#125;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;terminal.integrated.defaultProfile.osx&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;zsh&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;code-runner.executorMap&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;javascript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;source ~/.nvm/nvm.sh &amp;&amp; node&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;java&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; javac $fileName &amp;&amp; java $fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;c&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; gcc $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;zig&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;zig run&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;cpp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; g++ $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;objective-c&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; gcc -framework Cocoa $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;php&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;php&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;python.pythonPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;$&#123;env:CONDA_PREFIX&#125;/bin/python&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;perl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;perl&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;perl6&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;perl6&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;ruby&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ruby&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;go&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;go run&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;lua&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;lua&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;groovy&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;groovy&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;powershell&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;powershell -ExecutionPolicy ByPass -File&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;bat&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cmd /c&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;shellscript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;bash&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;fsharp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;fsi&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;csharp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;scriptcs&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;vbscript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cscript //Nologo&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;typescript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ts-node&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;coffeescript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;coffee&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;scala&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;scala&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;swift&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;swift&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;julia&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;julia&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;crystal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;crystal&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;ocaml&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ocaml&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;r&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Rscript&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;applescript&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;osascript&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;clojure&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;lein exec&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;haxe&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;haxe --cwd $dirWithoutTrailingSlash --run $fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;rust&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; rustc $fileName &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;racket&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;racket&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;scheme&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;csi -script&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;ahk&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;autohotkey&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;autoit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;autoit3&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;dart&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dart&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;pascal&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; fpc $fileName &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;d&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; dmd $fileName &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;haskell&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;runghc&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;nim&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;nim compile --verbosity:0 --hints:off --run&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;lisp&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sbcl --script&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;kit&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;kitc --run&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;v&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;v run&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;sass&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;sass --style expanded&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;scss&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;scss --style expanded&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;less&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; lessc $fileName $fileNameWithoutExt.css&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;FortranFreeForm&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;fortran-modern&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;fortran_fixed-form&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;fortran&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; gfortran $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;sml&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; sml $fileName&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;mojo&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;mojo run&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;erlang&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;escript&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;spwn&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;spwn build&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;pkl&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;cd $dir &amp;&amp; pkl eval -f yaml $fileName -o $fileNameWithoutExt.yaml&quot;</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;gleam&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;gleam run -m $fileNameWithoutExt&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>akamai 某环境参数VMP逆向</title>
      <link href="/2025/03/10/akamai-%E6%9F%90%E7%8E%AF%E5%A2%83%E5%8F%82%E6%95%B0VMP%E9%80%86%E5%90%91/"/>
      <url>/2025/03/10/akamai-%E6%9F%90%E7%8E%AF%E5%A2%83%E5%8F%82%E6%95%B0VMP%E9%80%86%E5%90%91/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>懂得都懂 直接开干。本文出口入口值会有些许区别 网站值没有固定。<br>仅分析部分算法。</p><h1 id="流程分析"><a href="#流程分析" class="headerlink" title="流程分析"></a>流程分析</h1><p>如下图 断点打在 第一个wPz 生成的地方。看 jsz</p><p><img src="https://s2.loli.net/2025/02/21/C1ixLR67QuHUNWY.png"></p><p>目标: 获取jsz中的mst的dvc。如下图所示</p><p><img src="https://s2.loli.net/2025/02/21/NeacpEFJmfndT4o.png"></p><p>往上找，找到jsz生成的地方 如下图所示</p><p><img src="https://s2.loli.net/2025/02/21/EhTqgQUK6wIDszm.png"></p><p>然后右边看作用域。找到与之匹配的 “dvc”</p><p><img src="https://s2.loli.net/2025/02/21/FtZfD178HqMpSWU.png"></p><p>然后继续往上找 找到jzz的生成处</p><p><img src="https://s2.loli.net/2025/02/21/edLzZA8EvtYb5C2.png"></p><p>经过分析下面这段代码即使生成dvc的位置</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">pL</span>(x4, [<br>    <span class="hljs-title function_">VQ</span>()[<span class="hljs-title function_">AJ</span>(xg)](<span class="hljs-title class_">FCz</span>, lE, <span class="hljs-variable constant_">SL</span>),<br>    <span class="hljs-title function_">N8</span>()<br>      [<span class="hljs-title function_">CR</span>(xV)].<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, [<span class="hljs-title class_">Gr</span>, lt, zdz])<br>      [<span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(<span class="hljs-title class_">Rg</span>)](lY, <span class="hljs-variable constant_">X9</span>)](<br>        <span class="hljs-variable constant_">GI</span>,<br>        <span class="hljs-title class_">Jj</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title function_">rJ</span>()[<span class="hljs-title function_">YJ</span>(<span class="hljs-title class_">Rg</span>)], <span class="hljs-title function_">cg</span>(<span class="hljs-title function_">N8</span>()[<span class="hljs-title function_">CR</span>(xV)](nR, lt, zdz), [][[]]))<br>          ? <span class="hljs-title function_">rJ</span>()[<span class="hljs-title function_">YJ</span>(s3)](gCz, vZ, sHz, hR, <span class="hljs-title class_">Bx</span>(<span class="hljs-title class_">Bx</span>(<span class="hljs-variable constant_">F8</span>)))<br>          : <span class="hljs-title function_">rJ</span>()[<span class="hljs-title function_">YJ</span>(qJ)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-title class_">Vx</span>, <span class="hljs-title class_">Lt</span>, q2z, <span class="hljs-variable constant_">H3</span>, <span class="hljs-title class_">Cx</span>)<br>      )<br>      [<br>        <span class="hljs-title function_">l8</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(zx)], <span class="hljs-title function_">cg</span>(<span class="hljs-string">&quot;&quot;</span>, [][[]]))<br>          ? <span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(<span class="hljs-title class_">Rg</span>)](lY, <span class="hljs-variable constant_">X9</span>)<br>          : <span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(wO)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, bI, bJ)<br>      ](<span class="hljs-title class_">Bh</span>, <span class="hljs-title function_">rJ</span>()[<span class="hljs-title function_">YJ</span>(qJ)](<span class="hljs-title class_">Vx</span>, <span class="hljs-title class_">Hj</span>, q2z, <span class="hljs-variable constant_">H3</span>, <span class="hljs-title class_">St</span>))<br>      [<br>        <span class="hljs-title class_">Jj</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(fZ)], <span class="hljs-string">&quot;undefined&quot;</span>)<br>          ? <span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(wO)](<span class="hljs-title class_">PCz</span>, tO)<br>          : <span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(<span class="hljs-title class_">Rg</span>)](lY, <span class="hljs-variable constant_">X9</span>)<br>      ](bMz),<br>  ])<br><br></code></pre></td></tr></table></figure><p>然后我们分析下</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-title function_">VQ</span>()[<span class="hljs-title function_">AJ</span>(xg)](<span class="hljs-title class_">FCz</span>, lE, <span class="hljs-variable constant_">SL</span>) = <span class="hljs-string">&#x27;dvc&#x27;</span><br><span class="hljs-variable constant_">GI</span> = <span class="hljs-string">&quot;a3iea3adfa3eeYe2yi2a&quot;</span><br><br><span class="hljs-title class_">Gg</span>()[<span class="hljs-title function_">ES</span>(<span class="hljs-title class_">Rg</span>)](lY, <span class="hljs-variable constant_">X9</span>) = <span class="hljs-string">&#x27;concat&#x27;</span><br><br><span class="hljs-title function_">rJ</span>()[<span class="hljs-title function_">YJ</span>(qJ)].<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>, <span class="hljs-title class_">Vx</span>, <span class="hljs-title class_">Lt</span>, q2z, <span class="hljs-variable constant_">H3</span>, <span class="hljs-title class_">Cx</span>) = <span class="hljs-string">&quot;,&quot;</span><br><br><span class="hljs-title function_">rJ</span>()[<span class="hljs-title function_">YJ</span>(qJ)](<span class="hljs-title class_">Vx</span>, <span class="hljs-title class_">Hj</span>, q2z, <span class="hljs-variable constant_">H3</span>, <span class="hljs-title class_">St</span>) = <span class="hljs-string">&quot;,&quot;</span><br><br>bMz = <span class="hljs-string">&#x27;l+h+f+b+i+j+k+a+c+g+e+d+&#x27;</span><br><br></code></pre></td></tr></table></figure><p>这样大概的逻辑就很清楚了</p><p>如下图是入口地方</p><p><img src="https://s2.loli.net/2025/02/21/Jw8WxNpfSvrdQU5.png"></p><h1 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h1><p>这里其实都不用看这个 随便看看 应该就知道哪个地方是重点</p><p>先监控下这个PT里的值</p><p><img src="https://s2.loli.net/2025/02/26/rJposFbmOD436cn.png"></p><p>然后再监控下入口的这个传参值</p><p><img src="https://s2.loli.net/2025/02/26/MumlLrOwC4JQbhe.png"></p><p>还需要看看入口的这个值 是什么</p><p><img src="https://s2.loli.net/2025/02/26/evjRLhFgli5JYBS.png"></p><p>然后就是<strong>重点</strong></p><p><img src="https://s2.loli.net/2025/02/26/sM7GQOLgokEeWNK.png"></p><p>这个值会出来</p><p><strong>先把入参找出来 本文是[2, ‘16|24’, 0, 0]</strong></p><h1 id="第一个值"><a href="#第一个值" class="headerlink" title="第一个值"></a>第一个值</h1><p>刷新完 看看日志。</p><p>挨个分析</p><p><img src="https://s2.loli.net/2025/02/26/wzrCo1cMtY2yN7K.png"></p><p>确定是UA 可以暂时不用分析了。</p><h1 id="第二个值"><a href="#第二个值" class="headerlink" title="第二个值"></a>第二个值</h1><p>如下图</p><p><img src="https://s2.loli.net/2025/02/26/nVIy1mAgx7DeoOc.png"></p><p>不讲了。 但是这个值得记录下来 2482411364</p><p>这里分享个第一个算法吧。 其他的自己努力努力</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">let</span> <span class="hljs-variable constant_">UA</span> =<br>  <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0&quot;</span>;<br><span class="hljs-keyword">let</span> startTs = <span class="hljs-number">1740487469858</span>;<br><br><span class="hljs-keyword">let</span> frist = <span class="hljs-string">&quot;0&quot;</span> + startTs.<span class="hljs-title function_">toString</span>() + <span class="hljs-variable constant_">UA</span>.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">32</span>) + <span class="hljs-string">&quot;0&quot;</span>;<br><br><span class="hljs-keyword">let</span> r2 = <span class="hljs-number">5381</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; frist.<span class="hljs-property">length</span>; i++) &#123;<br>  r2 = (r2 * <span class="hljs-number">33</span>) ^ frist.<span class="hljs-title function_">charCodeAt</span>(i);<br>&#125;<br>r2 = r2 &gt;&gt;&gt; <span class="hljs-number">0</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;r2&quot;</span>, r2);<br><br></code></pre></td></tr></table></figure><h1 id="第三个值"><a href="#第三个值" class="headerlink" title="第三个值"></a>第三个值</h1><p>如下图</p><p><img src="https://s2.loli.net/2025/02/26/V52ydgUxzu9pG8o.png"></p><p>不讲了</p><p>把这个值也记录下来 10010011111101101001011101100100</p><h1 id="第四个值"><a href="#第四个值" class="headerlink" title="第四个值"></a>第四个值</h1><p>第四个稍微就有点多了 坑点也增多</p><p><img src="https://s2.loli.net/2025/02/26/UzoDp8QZcbtqHkl.png"></p><p>如下 入参的某个值 charCodeAt了记录下来</p><p><img src="https://s2.loli.net/2025/02/26/q3TJOWcy2BS74tM.png"></p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arcade">[...<span class="hljs-string">&quot;214|160&quot;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-function"><span class="hljs-params">char</span>=&gt;</span>char.charCodeAt())<br><br></code></pre></td></tr></table></figure><p>这个 214 和 160是哪来的呢？</p><p>看入参的第二个值</p><p>拼接逻辑如下</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs jsx">[<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;16|24&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>][<span class="hljs-number">0</span>].<span class="hljs-title function_">toString</span>() + [<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;16|24&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>][<span class="hljs-number">1</span>].<span class="hljs-title function_">toString</span>() + [<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;16|24&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>][<span class="hljs-number">2</span>].<span class="hljs-title function_">toString</span>()<br><br></code></pre></td></tr></table></figure><p>继续网上看</p><p>可以发现 有个固定值 split 并且固定值 每次都经过了一些判断 并且 变成了新的一个值。</p><p><img src="https://s2.loli.net/2025/02/26/yRHo7V3seaIFdb4.png"></p><p>这里的逻辑和第四个值没啥关系 但是也还是需要搞出来。</p><p>如下图 得到最终值 以及一些算法 可以反推出来</p><p><img src="https://s2.loli.net/2025/02/26/wiCSps61JcGavYq.png"></p><p>这里细节不多说了 最终值 1588180537</p><h1 id="第五个值"><a href="#第五个值" class="headerlink" title="第五个值"></a>第五个值</h1><p>如下图</p><p><img src="https://s2.loli.net/2025/02/26/3WOINpXVBjAbLsd.png"></p><p>生成如下</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">(<span class="hljs-number">4070591901</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p>重点就是 4070591901 怎么来的</p><p>不讲了 网上看看 有些坑 自己注意下就好了。</p><h1 id="第六个"><a href="#第六个" class="headerlink" title="第六个"></a>第六个</h1><p>这个 是最难的 也是最麻烦的</p><p><img src="https://s2.loli.net/2025/02/26/NE3K2gi6JxwbL9r.png"></p><p>简单说下</p><p>这里分两个 长的字符串+短的字符串</p><h2 id="长"><a href="#长" class="headerlink" title="长"></a>长</h2><p><img src="https://s2.loli.net/2025/02/26/5YWuQ2MhdKFw1TJ.png"></p><p>基于 两个传参的互相相加 然后charAt互相相加</p><h2 id="短"><a href="#短" class="headerlink" title="短"></a>短</h2><p>太麻烦，有空了再说 单开贴 这个要搞的话日志要打全。</p><p>最好挨个跟栈去看控制流。</p><h1 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h1><p>最后验证下结果</p><p>传入传参与入参</p><p>这是代码生成的值</p><p><img src="https://s2.loli.net/2025/02/26/mHYfxU75eNzQli1.png"></p><p>这是网站生成的值</p><p><img src="https://s2.loli.net/2025/02/26/M2qpQPHb8fIxE1Y.png"></p><p>教程帮助 感谢我7</p>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 逆向 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mac 基础操作指南</title>
      <link href="/2025/03/10/Mac-%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/"/>
      <url>/2025/03/10/Mac-%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<h1 id="链接Linux"><a href="#链接Linux" class="headerlink" title="链接Linux"></a>链接Linux</h1><p>ssh 用户名@ip地址</p><p>输入密码</p><h1 id="sftp传输文件"><a href="#sftp传输文件" class="headerlink" title="sftp传输文件"></a>sftp传输文件</h1><p>上传</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">sftp&gt; put <span class="hljs-string">&quot;本地绝对路径&quot;</span> linux绝对路径<br></code></pre></td></tr></table></figure><p>下载</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsx">get <span class="hljs-string">&quot;本地绝对路径&quot;</span> linux绝对路径<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Window Server 激活流程</title>
      <link href="/2025/01/08/Window-Server-%E6%BF%80%E6%B4%BB%E6%B5%81%E7%A8%8B/"/>
      <url>/2025/01/08/Window-Server-%E6%BF%80%E6%B4%BB%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="Window-server-激活流程"><a href="#Window-server-激活流程" class="headerlink" title="Window server 激活流程"></a>Window server 激活流程</h1><h1 id="页面窗口激活"><a href="#页面窗口激活" class="headerlink" title="页面窗口激活"></a>页面窗口激活</h1><p>即正常激活 </p><ol><li>断网离线</li><li>输入激活码</li><li>联网</li><li>激活成功</li></ol><h1 id="命令行激活"><a href="#命令行激活" class="headerlink" title="命令行激活"></a>命令行激活</h1><p>输入命令</p><p>1、右键开始按钮，在快捷菜单点击命令提示符(管理员)，或者Windows PowerShell(管理员)；</p><p>2、卸载产品密钥命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">slmgr.vbs /upk<br></code></pre></td></tr></table></figure><p>按回车确定，卸载之前的密钥，弹出窗口显示“成功地卸载了产品密钥”；【如果提示找不到密钥，不用管，直接跳到下一步】</p><p>3.安装产品密钥命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">slmgr /ipk xxxxxxxxx<br></code></pre></td></tr></table></figure><p>按回车执行，弹出窗口显示“成功地安装了产品密钥”。这个密钥是企业系统用户密钥，家庭版或者专业版请百度搜索；</p><p>4.设置KMS服务器命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">slmgr /skms zh.us.to<br></code></pre></td></tr></table></figure><h1 id="报错-0xC004F069"><a href="#报错-0xC004F069" class="headerlink" title="报错 0xC004F069"></a>报错 0xC004F069</h1><p>如果是评估版本，则需要先把评估版本升级为正式版本，才能正确的使用。</p><p>1、右键开始按钮，在快捷菜单点击命令提示符(管理员)，或者Windows PowerShell(管理员)；</p><p>2、输入命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">DISM /online /Get-CurrentEdition<br><br>DISM /online /Set-Edition:这一步输入上层需要的当前版本 /ProductKey:XXXXX-XXXXX-XXXXX-XXXXX-XXXXX /AcceptEula<br></code></pre></td></tr></table></figure><p>正常应该是如下流程</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">开始升级组件…<br>开始安装产品密钥…<br>产品密钥安装已完成。<br><br>正在删除程序包 Microsoft-Windows-ServerDatacenterEvalEdition31bf3856ad364e35amd64~~<span class="hljs-number">10.0</span><span class="hljs-number">.14393</span><span class="hljs-number">.0</span><br><span class="hljs-string">[100.0%]</span><br>组件升级已完成。<br></code></pre></td></tr></table></figure><p>如果这一步依然不行</p><p>访问如下链接<a href="https://massgrave.dev/">Microsoft Activation Scripts (MAS) | MAS</a></p><ol><li>打开 PowerShell（不是 CMD）。为此，请右键单击 Windows 开始菜单并选择 PowerShell 或终端。</li><li>复制并粘贴下面的代码，然后按 Enter 键</li></ol><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">irm https://get.activated.win | iex<br></code></pre></td></tr></table></figure><p>选择6 改变版本 </p><p>如下图即成功</p><p><img src="https://s2.loli.net/2025/01/08/MhiwU1Gxrz6WfAj.png"></p><p>后面完成即正常激活即可</p>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>h5st 5.0逆向分析流程</title>
      <link href="/2025/01/01/%E6%9F%90%E4%B8%9Ch5st5.0%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/"/>
      <url>/2025/01/01/%E6%9F%90%E4%B8%9Ch5st5.0%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="目标网站"><a href="#目标网站" class="headerlink" title="目标网站"></a>目标网站</h1><blockquote><p>aHR0cHM6Ly9pdGVtLmpkLmNvbS8xMDAwNzcxODA5MTAuaHRtbA&#x3D;&#x3D;</p></blockquote><h1 id="流程分析"><a href="#流程分析" class="headerlink" title="流程分析"></a>流程分析</h1><p>直接搜索ParamsSign 找到这个融合接口的地方</p><p><img src="https://s2.loli.net/2024/12/24/P2dzYbXTEcihjDs.png"></p><p>后续直接搜索这个Psign即可</p><p>这里有很多 可以每个都打上断点。也可以根据搜索自己的接口传参打断点。</p><p>这里可以发现 得到的值应该就是新版的h5st的值。</p><p><img src="https://s2.loli.net/2024/12/24/Uw216GDQZrim4Yq.png"></p><p><del>这里直接反推另辟蹊径 去把这个new ParamsSign给补了。</del></p><p><del>然后给他全扣出来，伪造出来 放到浏览器执行就行了。</del></p><blockquote><p> 这里新版直接扣这个ParamsSign 返回的是null。</p><p>看了下接口校验。校验强的接口，已经改成了最新版，弱的接口仍然还是这个ParamsSign.</p></blockquote><p>如下图所示位置</p><p>可以看到 new 三个实例都可以，分别是ParamsSign、ParamsSignLite、ParamsSignMain</p><p><img src="https://s2.loli.net/2024/12/24/Yp9VyIxOCPbcWin.png"></p><p>这里分别声明，可以发现第一个走的是老的逻辑，第二个返回的是未定义。第三个是一套新的流程。</p><p>这里总结下：</p><ul><li><p>强校验接口的老逻辑代码后续依然会走到新的流程里。</p></li><li><p>弱校验接口会走老流程。估计5.0 最近会改。</p></li></ul><p>这里不管了。直接全部封装好。只不过调用逻辑 改成新的流程。</p><p>改了下 然后跑下发现可以。对比了下长度也是一样的。</p><p><img src="https://s2.loli.net/2024/12/24/14UTQAuRjodzEJn.png"></p><h1 id="补环境"><a href="#补环境" class="headerlink" title="补环境"></a>补环境</h1><p>这里我们先补环境吧。先把node伪造出来</p><p>复制上文到node中。</p><p>这里原型挺多的，直接用v-jstools一把梭</p><p><img src="https://s2.loli.net/2024/12/24/D9nX3C8lI2ircuV.png"></p><p>补完然后会报一个 ：  Cannot set property Symbol(Symbol.toStringTag) of #<Object> which has only a getter</p><p>直接给他改了 或者把他重新定义一下</p><p>如下 声明下面添加下列代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(_$MF, <span class="hljs-title function_">_$B4</span>(<span class="hljs-title class_">Et</span>(<span class="hljs-number">0xd7</span>)), &#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;&#x27;</span>,<br>    <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>然后跑出来应该就有值了</p><p>但是看了下长度  明显对不上。</p><p><img src="https://s2.loli.net/2024/12/24/Gck6KtVaHJDx8fg.png"></p><p>这里就看源码吧。看看是什么没补的。</p><p>这里生成处如下：</p><p><img src="https://s2.loli.net/2024/12/24/3ZryfpYIn8RcqK1.png"></p><p>这个 <strong>_$ms</strong> 是一个switch流。暂时先不管。看看传参。</p><p><strong>浏览器：</strong></p><p><img src="https://s2.loli.net/2024/12/24/VeLwyFXjpHGu3on.png"></p><p><strong>Node：</strong></p><p><img src="https://s2.loli.net/2024/12/24/HlP4hy2aVtLEGFC.png"></p><p>这里发现 传参的这个$clt() 长度对不上。</p><p>这里发现**_$clt()** 也是个swtich流。</p><p><img src="https://s2.loli.net/2024/12/24/gaCLu4HctneMXJm.png"></p><p>那这里我们挨个看吧。</p><h2 id="clt"><a href="#clt" class="headerlink" title="_$clt()"></a>_$clt()</h2><p>这里直接插装吧。</p><p>然后发现这里。collect envCollect 应该就是收集环境值的地方。</p><p><img src="https://s2.loli.net/2024/12/24/9HFKAZlde6Xcki4.png"></p><p>那这里我们再看下node</p><p><img src="https://s2.loli.net/2024/12/24/LhDZqyQevkrnaVW.png"></p><p>这里挨个对比啊 然后修改即可。</p><p>全部修改完毕。然后发现 长度终于一致了。</p><p><img src="https://s2.loli.net/2024/12/24/teKHdi2lY6Co5PS.png"></p><p>然后全部封装请求。</p><p>发现 请求出来 依然是403.</p><p><img src="https://s2.loli.net/2024/12/24/FwBIyZc4DTxEd9r.png"></p><p>虽然长度对了。但是请求好像依然有问题。</p><p>刚刚只看了传参的值没看生成函数的switch流。那这里继续回去看看。</p><h2 id="ms"><a href="#ms" class="headerlink" title="_$ms"></a><strong>_$ms</strong></h2><p>我们插装看看值。</p><p><img src="https://s2.loli.net/2024/12/24/MI38kdg21Pt6ESx.png"></p><p>这段代码还是挺简单的。</p><p>同比，我们对比node中的插装值。</p><p><img src="https://s2.loli.net/2024/12/24/zGZgXIoRLkia1wN.png"></p><p><img src="https://s2.loli.net/2024/12/24/F6pb4hziV9DJM7K.png"></p><p>这里发现 好像node中的是tk04，浏览器中的是 tk03。这个的差别是什么 大家应该都知道。</p><p>这里需要请求request_algo。把tk 还有一些东西 替换 一下再请求看看。</p><p>这里还要看下这个逻辑是从哪进的. 把这个sign也插一波</p><p>执行出来的顺序是[0,5,6,1,2,3] 所以我们去看这个this._$rds();</p><p>后面看到 rds 做了一些检测 逻辑因此走的tk04，这里可以选择直接修改上层。</p><blockquote><p> 后面修改完了之后依然是403 即使抓包直接使用都不行，测试下来原来是tls…  修改下就可以了</p></blockquote><p>最后修改变成tk03就可以用了 </p><h1 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h1><p><img src="https://s2.loli.net/2024/12/24/Zdh9H5LebQ8GT6W.png"></p>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Xposed API使用大全</title>
      <link href="/2024/12/08/Xposed-API%E4%BD%BF%E7%94%A8%E5%A4%A7%E5%85%A8/"/>
      <url>/2024/12/08/Xposed-API%E4%BD%BF%E7%94%A8%E5%A4%A7%E5%85%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="Xposed常用HOOK方法"><a href="#Xposed常用HOOK方法" class="headerlink" title="Xposed常用HOOK方法"></a>Xposed常用HOOK方法</h1><p>不讲废话</p><h1 id="hook修改静态方法"><a href="#hook修改静态方法" class="headerlink" title="hook修改静态方法"></a>hook修改静态方法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">XposedHelpers.setBooleanField(<span class="hljs-string">&quot;对象&quot;</span>, <span class="hljs-string">&quot;名称&quot;</span>, <span class="hljs-literal">false</span>);<br>XposedHelpers.setIntField(<span class="hljs-string">&quot;对象&quot;</span>, <span class="hljs-string">&quot;名称&quot;</span>, <span class="hljs-number">1</span>);<br>XposedHelpers.setObjectField(<span class="hljs-string">&quot;对象&quot;</span>, <span class="hljs-string">&quot;名称&quot;</span>, <span class="hljs-string">&quot;值&quot;</span>);<br></code></pre></td></tr></table></figure><h1 id="hook-构造函数"><a href="#hook-构造函数" class="headerlink" title="hook 构造函数"></a>hook 构造函数</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 找到类名方法</span><br>Class&lt;?&gt; clazz = XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.类名&quot;</span>, lpparam.classLoader);<br>XposedHelpers.findAndHookConstructor(clazz, <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>      <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>   &#125;<br>&#125;);<br>XposedHelpers.findAndHookConstructor(clazz, String.class, <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>      <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>   &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="hook-普通方法"><a href="#hook-普通方法" class="headerlink" title="hook 普通方法"></a>hook 普通方法</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 找到类名方法</span><br>Class&lt;?&gt; clazz = XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.类名&quot;</span>, lpparam.classLoader);<br>XposedHelpers.findAndHookMethod(clazz, <span class="hljs-string">&quot;方法名&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        <span class="hljs-built_in">super</span>.afterHookedMethod(param);<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="hook-复杂函数"><a href="#hook-复杂函数" class="headerlink" title="hook 复杂函数"></a>hook 复杂函数</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 找到类名方法</span><br>Class&lt;?&gt; clazz = XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.类名&quot;</span>, lpparam.classLoader);<br>XposedHelpers.findAndHookMethod(clazz, <span class="hljs-string">&quot;方法名&quot;</span>,<br>        String[][].class,<br>        String.class,<br>        Map.class,<br>        ArrayList.class,<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                <span class="hljs-built_in">super</span>.afterHookedMethod(param);<br>            &#125;<br>        &#125;<br>);<br></code></pre></td></tr></table></figure><p>或者</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 找到类名方法</span><br> <br>XposedHelpers.findAndHookMethod(clazz, <span class="hljs-string">&quot;方法名&quot;</span>,<br>        <span class="hljs-string">&quot;[[Ljava.lang.String&quot;</span>,<br>        <span class="hljs-string">&quot;java.lang.String&quot;</span>,<br>        Class.forName(<span class="hljs-string">&quot;java.utils.Map&quot;</span>),<br>        Class.forName(<span class="hljs-string">&quot;java.util.ArrayList&quot;</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>            &#125;<br><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                <span class="hljs-built_in">super</span>.afterHookedMethod(param);<br>            &#125;<br>        &#125;<br>);<br></code></pre></td></tr></table></figure><h1 id="hook-自定义类参数"><a href="#hook-自定义类参数" class="headerlink" title="hook 自定义类参数"></a>hook 自定义类参数</h1><p>获取类的方式</p><blockquote><ol><li>类名.class  </li><li>对象.getClass()  </li><li>class.forName()  </li><li>xposedHelpers.findClass(“”,””)</li><li>new DexClassLoader(“”,””,””,””).loadClass() .&#x2F;&#x2F; 加载类 用于脱壳加固</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// 类名.class  对象.getClass()  class.forName()  xposedHelpers.findClass(&quot;&quot;,&quot;&quot;)</span><br>Class&lt;?&gt; JiaZaiClazz = lpparam.classLoader.loadClass(<span class="hljs-string">&quot;xxxx.xxx.xxx.类名&quot;</span>);<br>Class&lt;?&gt; clazz = XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.类名&quot;</span>, lpparam.classLoader);<br>XposedHelpers.findAndHookMethod(clazz, <span class="hljs-string">&quot;方法名&quot;</span>, <br>        <span class="hljs-string">&quot;[[Ljava.lang.String&quot;</span>,<br>        <span class="hljs-string">&quot;java.lang.String&quot;</span>,<br>        JiaZaiClazz,<span class="hljs-comment">// 加载的自定义类</span><br>        Class.forName(<span class="hljs-string">&quot;java.utils.Map&quot;</span>),<br>        Class.forName(<span class="hljs-string">&quot;java.util.ArrayList&quot;</span>),<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>            &#125;<br>        &#125;<br>);<br></code></pre></td></tr></table></figure><p>或者用上面的前四种的方法。</p><p>简单示例</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">Class&lt;?&gt; JiaZaiClazz = Class.forName(<span class="hljs-string">&quot;xxxx.xxx.xxx.类名&quot;</span>, <span class="hljs-comment">// 路径类名</span><br>                                     <span class="hljs-literal">false</span>,<span class="hljs-comment">// 是否初始化，一般都是false</span><br>                                     lpparam.classLoader<span class="hljs-comment">// 这个意思是用哪个加载器加载这个类</span><br>                                    );<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Class&lt;?&gt; JiaZaiClazz = XposedHelpers.findClass(<span class="hljs-string">&quot;xxxx.xxx.xxx.类名&quot;</span>,<span class="hljs-string">&quot;lpparam.classLoader&quot;</span>);<br></code></pre></td></tr></table></figure><p>还有一种特殊的</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-string">&quot;xxxx.xxx.xxx.类名&quot;</span> <span class="hljs-comment">// 直接输入即可</span><br></code></pre></td></tr></table></figure><h1 id="hook-替换函数"><a href="#hook-替换函数" class="headerlink" title="hook 替换函数"></a>hook 替换函数</h1><p>即改掉整个函数，不在提前或者之后hook</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">Class&lt;?&gt; clazz = XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.类名&quot;</span>, lpparam.classLoader);<br>XposedHelpers.findAndHookMethod(clazz, <span class="hljs-string">&quot;方法名&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodReplacement</span>() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> Object <span class="hljs-title function_">replaceHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        Log.d(TAG, <span class="hljs-string">&quot;替换的函数输出&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h1 id="hook内部类"><a href="#hook内部类" class="headerlink" title="hook内部类"></a>hook内部类</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">XposedHelpers.findAndHookMethod(XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.xxx.类名$内部类名&quot;</span>, lpparam.classLoader),<br>                <span class="hljs-string">&quot;内部类的方法名&quot;</span>,<br>                String.class,<br>                <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                        <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>                    &#125;<br>                &#125;<br>        );<br></code></pre></td></tr></table></figure><h1 id="主动调用"><a href="#主动调用" class="headerlink" title="主动调用"></a>主动调用</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> Class&lt;?&gt; clazz = XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.类名&quot;</span>, lpparam.classLoader);<br>XposedHelpers.findAndHookMethod(XposedHelpers.findClass(<span class="hljs-string">&quot;xxx.xxx.xxx.类名$内部类名&quot;</span>, lpparam.classLoader),<br>        <span class="hljs-string">&quot;内部类的方法名&quot;</span>,<br>        String.class,<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                XposedHelpers.callMethod(clazz.newInstance(),<span class="hljs-string">&quot;具体方法&quot;</span>,<span class="hljs-string">&quot;值&quot;</span>);<br>                <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>            &#125;<br>        &#125;<br>);<br></code></pre></td></tr></table></figure><h1 id="打印堆栈"><a href="#打印堆栈" class="headerlink" title="打印堆栈"></a>打印堆栈</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">log.e(<span class="hljs-string">&quot;标签&quot;</span>,<span class="hljs-string">&quot;打印的数据&quot;</span>,,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;打印的堆栈&quot;</span>));<br></code></pre></td></tr></table></figure><h1 id="Java-反射大法"><a href="#Java-反射大法" class="headerlink" title="Java 反射大法"></a>Java 反射大法</h1><h2 id="反射调用方法"><a href="#反射调用方法" class="headerlink" title="反射调用方法"></a>反射调用方法</h2><blockquote><ol><li>找到类</li><li>找到字段和方法</li><li>修改字段或者调用方法</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">Class.forName(<span class="hljs-string">&quot;com.xxx.xxx&quot;</span>,<span class="hljs-literal">false</span>,ClassLoader);<br>Class.forName(<span class="hljs-string">&quot;com.xxx.xxx&quot;</span>)<br>类名.class<br>对象.getClass()<br>Xposed中的findClass<br>classLoader中的LoadClass<br><span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span>  lpparam.classLoader.loadClass(<span class="hljs-string">&quot;&quot;</span>);<br><br>XposedHelpers.findClass(<span class="hljs-string">&quot;&quot;</span>,lpparam.classLoader);<br>clazz.getClass();<br>String.class;<br></code></pre></td></tr></table></figure><p>调用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span> lpparam.classLoader.loadClass(<span class="hljs-string">&quot;&quot;</span>);<br><span class="hljs-type">Class</span> <span class="hljs-variable">DemoClazz</span> <span class="hljs-operator">=</span> Class.forName(<span class="hljs-string">&quot;xxx.xxx.xxx&quot;</span>);<br><span class="hljs-comment">// DemoClazz.getMethod(&quot;&quot;);</span><br><span class="hljs-type">Method</span> <span class="hljs-variable">DeclareMethodName</span> <span class="hljs-operator">=</span> DemoClazz.getDeclaredMethod(<span class="hljs-string">&quot;方法名称&quot;</span>);<br>DeclareMethodName.setAccessible(<span class="hljs-literal">true</span>); <span class="hljs-comment">// 给权限</span><br>DeclareMethodName.invoke(clazz.newInstance());<br></code></pre></td></tr></table></figure><h2 id="反射调用属性"><a href="#反射调用属性" class="headerlink" title="反射调用属性"></a>反射调用属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Class</span> clazz = lpparam.<span class="hljs-property">classLoader</span>.<span class="hljs-title function_">loadClass</span>(<span class="hljs-string">&quot;&quot;</span>);<br><span class="hljs-title class_">Class</span> <span class="hljs-title class_">DemoClazz</span> = <span class="hljs-title class_">Class</span>.<span class="hljs-title function_">forName</span>(<span class="hljs-string">&quot;xxx.xxx.xxx&quot;</span>);<br><span class="hljs-comment">// 获取</span><br><span class="hljs-title class_">Field</span> <span class="hljs-title class_">DeclaredFieldName</span> = <span class="hljs-title class_">DemoClazz</span>.<span class="hljs-title function_">getDeclaredField</span>(<span class="hljs-string">&quot;对象&quot;</span>);<br><br><br><span class="hljs-title class_">DeclaredFieldName</span>.<span class="hljs-title function_">getType</span>();<span class="hljs-comment">// 获取字段类型</span><br><span class="hljs-title class_">DeclaredFieldName</span>.<span class="hljs-title function_">getName</span>(); <span class="hljs-comment">// 获取字段名称</span><br><span class="hljs-title class_">DeclaredFieldName</span>.<span class="hljs-title function_">getModifiers</span>();<span class="hljs-comment">// 获取访问修饰符</span><br><br><br><span class="hljs-title class_">DeclaredFieldName</span>.<span class="hljs-title function_">setAccessible</span>(<span class="hljs-literal">true</span>);<span class="hljs-comment">// 给权限</span><br><span class="hljs-title class_">Object</span> insClass = clazz.<span class="hljs-title function_">newInstance</span>();<br><span class="hljs-title class_">Object</span> <span class="hljs-variable constant_">GD</span> = <span class="hljs-title class_">DeclaredFieldName</span>.<span class="hljs-title function_">get</span>(insClass);<br><span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-string">&quot;标签&quot;</span>, <span class="hljs-string">&quot;取值 MSG:&quot;</span> + (<span class="hljs-title class_">String</span>) <span class="hljs-variable constant_">GD</span>);<br><span class="hljs-title class_">DeclaredFieldName</span>.<span class="hljs-title function_">set</span>(insClass, <span class="hljs-string">&quot;值&quot;</span>);<br><span class="hljs-title class_">Object</span> <span class="hljs-variable constant_">SD</span> = <span class="hljs-title class_">DeclaredFieldName</span>.<span class="hljs-title function_">get</span>(insClass);<br><span class="hljs-title class_">Log</span>.<span class="hljs-title function_">d</span>(<span class="hljs-string">&quot;标签&quot;</span>, <span class="hljs-string">&quot;设置 MSG:&quot;</span> + (<span class="hljs-title class_">String</span>) <span class="hljs-variable constant_">SD</span>);<br></code></pre></td></tr></table></figure><h2 id="遍历所有的方法和字段"><a href="#遍历所有的方法和字段" class="headerlink" title="遍历所有的方法和字段"></a>遍历所有的方法和字段</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (!lpparam.processName.equals(<span class="hljs-string">&quot;com.xxx.xxx&quot;</span>))<span class="hljs-keyword">return</span>;<br>    Class&lt;?&gt; clazz = XposedHelpers.findClass(<span class="hljs-string">&quot;com.xiaojianbang.XposedDemo.demo&quot;</span>, lpparam.classLoader);<br>    Method[] md = clazz.getDeclaredMethods(); <span class="hljs-comment">// 获取方法</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span><span class="hljs-number">0</span>;i &lt; md.length;i++)&#123;<br>        Log.d(<span class="hljs-string">&quot;遍历&quot;</span>,md[i].toString());<br>    &#125;<br><br>    Field[] fd = clazz.getDeclaredFields(); <span class="hljs-comment">// 获取字段</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span><span class="hljs-number">0</span>;i &lt; fd.length;i++)&#123;<br>        Log.d(<span class="hljs-string">&quot;遍历&quot;</span>,fd[i].toString());<br>    &#125;<br></code></pre></td></tr></table></figure><h2 id="遍历所有内部类"><a href="#遍历所有内部类" class="headerlink" title="遍历所有内部类"></a>遍历所有内部类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">clazz.getDeclaredClasses();  <span class="hljs-comment">// 遍历所有类</span><br>clazz.getDeclaredConstructors();<span class="hljs-comment">// 遍历所有构造函数</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java">Class&lt;?&gt;[] cls = clazz.getDeclaredClasses();<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; cls.length; i++) &#123;<br>      Log.d(TAG, <span class="hljs-string">&quot;正在遍历内部类&quot;</span>);<br>      Method[] innerMDs = clazz.getDeclaredMethods(); <span class="hljs-comment">// 获取方法</span><br>      <span class="hljs-keyword">for</span> (Method innerMD : innerMDs) &#123;<br>          Log.d(<span class="hljs-string">&quot;遍历&quot;</span>, innerMD.toString());<br>      &#125;<br><br>      Field[] innerFDs = clazz.getDeclaredFields(); <span class="hljs-comment">// 获取字段</span><br>      <span class="hljs-keyword">for</span> (Field innerFD : innerFDs) &#123;<br>          Log.d(<span class="hljs-string">&quot;遍历&quot;</span>, innerFD.toString());<br>      &#125;<br>  &#125;<br></code></pre></td></tr></table></figure><h2 id="遍历所有类"><a href="#遍历所有类" class="headerlink" title="遍历所有类"></a>遍历所有类</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java">XposedHelpers.findAndHookMethod(<br>ClassLoader.class,<br><span class="hljs-string">&quot;com.xxx.xx&quot;</span>,<br>String.class,<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>  <span class="hljs-meta">@Override</span><br>  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>      <span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span> (Class) param.getResult();<br>      Log.d(TAG, <span class="hljs-string">&quot;loadClass&quot;</span> + clazz.getName());<br><br>  &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="hook所有类中的所有方法"><a href="#hook所有类中的所有方法" class="headerlink" title="hook所有类中的所有方法"></a>hook所有类中的所有方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">XposedBridge.hookAllConstructors(); <span class="hljs-comment">// hook所有构造函数</span><br>XposedBridge.hookAllMethods(); <span class="hljs-comment">// hook单个类所有函数</span><br>XposedBridge.hookMethod(); <span class="hljs-comment">// hook 所有函数</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java">XposedHelpers.findAndHookMethod(<br>ClassLoader.class,<br><span class="hljs-string">&quot;com.xxx.xx&quot;</span>,<br>String.class,<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>    <span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span> (Class) param.getResult();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> clazz.getName();<br><br>    Log.d(TAG, <span class="hljs-string">&quot;loadClass&quot;</span> + clazz.getName());<br>    <span class="hljs-keyword">if</span> (className.equals(<span class="hljs-string">&quot;xxx&quot;</span>)) &#123;<br>        <span class="hljs-keyword">for</span> (Method md : clazz.getDeclaredMethods()) &#123;<br>            XposedBridge.hookMethod(md, <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                <span class="hljs-meta">@Override</span><br>                <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                    <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>                    Log.d(TAG, <span class="hljs-string">&quot;Hook_Method：&quot;</span> + md.toString());<br>                &#125;<br>            &#125;);<br>        &#125;<br>    &#125;<br>&#125;<br>&#125;);<br></code></pre></td></tr></table></figure><p>得到了一个方法 如何判断呢？</p><blockquote><p>for (Method md : clazz.getDeclaredMethods()) </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java">XposedHelpers.findAndHookMethod(<br>ClassLoader.class,<br><span class="hljs-string">&quot;com.xxx.xx&quot;</span>,<br>String.class,<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        <span class="hljs-type">Class</span> <span class="hljs-variable">clazz</span> <span class="hljs-operator">=</span> (Class) param.getResult();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">className</span> <span class="hljs-operator">=</span> clazz.getName();<br><br>        Log.d(TAG, <span class="hljs-string">&quot;loadClass&quot;</span> + clazz.getName());<br>        <span class="hljs-keyword">if</span> (className.equals(<span class="hljs-string">&quot;xxx&quot;</span>)) &#123;<br>            <span class="hljs-keyword">for</span> (Method md : clazz.getDeclaredMethods()) &#123;<br><br>                <span class="hljs-type">int</span> <span class="hljs-variable">mod</span> <span class="hljs-operator">=</span> md.getModifiers();<br>                <span class="hljs-keyword">if</span> (!Modifier.isAbstract(mod)  <span class="hljs-comment">// 是不是一个抽象类 判断</span><br>                        &amp;&amp; !Modifier.isNative(mod)  <span class="hljs-comment">// 是不是一个Native方法 判断</span><br>                        &amp;&amp; !Modifier.isInterface(mod)) <span class="hljs-comment">// 是不是一个Interface接口</span><br>                &#123;<br>                    XposedBridge.hookMethod(md, <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            <span class="hljs-built_in">super</span>.beforeHookedMethod(param);<br>                            Log.d(TAG, <span class="hljs-string">&quot;Hook_Method：&quot;</span> + md.toString());<br>                        &#125;<br>                    &#125;);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><p>获取参数</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (md.getName().contains(<span class="hljs-string">&quot;xxxx&quot;</span>)) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; param.args.length; i++) &#123;<br>        Log.d(TAG, param.args[i].getClass().getName());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="自吐算法模块开发"><a href="#自吐算法模块开发" class="headerlink" title="自吐算法模块开发"></a>自吐算法模块开发</h1><p>私人仓库： <a href="https://github.com/hybpjx/HookEncryptXposed">https://github.com/hybpjx/HookEncryptXposed</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.hybpjx.hookencrypt;<br><br><span class="hljs-keyword">import</span> android.util.Base64;<br><span class="hljs-keyword">import</span> android.util.Log;<br><br><span class="hljs-keyword">import</span> java.math.BigInteger;<br><span class="hljs-keyword">import</span> java.security.MessageDigest;<br><span class="hljs-keyword">import</span> java.security.PublicKey;<br><br><span class="hljs-keyword">import</span> javax.crypto.Cipher;<br><span class="hljs-keyword">import</span> javax.crypto.Mac;<br><br><span class="hljs-keyword">import</span> de.robv.android.xposed.IXposedHookLoadPackage;<br><span class="hljs-keyword">import</span> de.robv.android.xposed.XC_MethodHook;<br><span class="hljs-keyword">import</span> de.robv.android.xposed.XposedBridge;<br><span class="hljs-keyword">import</span> de.robv.android.xposed.XposedHelpers;<br><span class="hljs-keyword">import</span> de.robv.android.xposed.callbacks.XC_LoadPackage;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hook</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">IXposedHookLoadPackage</span> &#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">TAG</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Hook_Encrypt&quot;</span>;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleLoadPackage</span><span class="hljs-params">(XC_LoadPackage.LoadPackageParam lpparam)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>        Log.d(TAG, <span class="hljs-string">&quot;Hooking...&quot;</span>);<br><br>        <span class="hljs-comment">// hook md5 Sha 的 digest方法</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllMethods(XposedHelpers.findClass(<span class="hljs-string">&quot;java.security.MessageDigest&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-string">&quot;digest&quot;</span>,<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">MessageDigest</span> <span class="hljs-variable">md</span> <span class="hljs-operator">=</span> (MessageDigest) param.thisObject; <span class="hljs-comment">// 得到对象</span><br>                            <span class="hljs-type">String</span> <span class="hljs-variable">algoritm</span> <span class="hljs-operator">=</span> md.getAlgorithm(); <span class="hljs-comment">// 获取加密名</span><br>                            <span class="hljs-keyword">if</span> (param.args.length &gt;= <span class="hljs-number">1</span>) &#123;<br>                                <span class="hljs-type">byte</span>[] params = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                                <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(params);<br>                                <span class="hljs-type">String</span> <span class="hljs-variable">dataHex</span> <span class="hljs-operator">=</span> byteArray2HexString(params);<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; data: &quot;</span> + data);<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; dataHex: &quot;</span> + dataHex);<br>                            &#125;<br>                            <span class="hljs-type">byte</span>[] res = (<span class="hljs-type">byte</span>[]) param.getResult();<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">resHex</span> <span class="hljs-operator">=</span> byteArray2HexString(res);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">resBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(res, <span class="hljs-number">0</span>);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; resultHex: &quot;</span> + resHex);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; resultBase64: &quot;</span> + resBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>        <span class="hljs-comment">// hook md5的 update方法</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllMethods(XposedHelpers.findClass(<span class="hljs-string">&quot;java.security.MessageDigest&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-string">&quot;update&quot;</span>,<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">MessageDigest</span> <span class="hljs-variable">md</span> <span class="hljs-operator">=</span> (MessageDigest) param.thisObject;<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">algoritm</span> <span class="hljs-operator">=</span> md.getAlgorithm();<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-type">byte</span>[] params = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-keyword">if</span> (param.args.length != <span class="hljs-number">3</span>) &#123;<br>                                offset = <span class="hljs-number">0</span>;<br>                                len = params.length;<br>                            &#125; <span class="hljs-keyword">else</span> &#123;<br>                                offset = (Integer) param.args[<span class="hljs-number">1</span>];<br>                                len = (Integer) param.args[<span class="hljs-number">2</span>];<br>                            &#125;<br>                            <span class="hljs-type">byte</span>[] input = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[len];<br>                            System.arraycopy(params, offset, input, <span class="hljs-number">0</span>, len);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(input);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">dataHex</span> <span class="hljs-operator">=</span> byteArray2HexString(input);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; update data: &quot;</span> + data);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; update dataHex: &quot;</span> + dataHex);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;MessageDigest.update Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br>        <span class="hljs-comment">// hook mac算法</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllMethods(XposedHelpers.findClass(<span class="hljs-string">&quot;javax.crypto.Mac&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-string">&quot;doFinal&quot;</span>,<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-comment">// 获取返回值 要 after, 传参要before</span><br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-keyword">if</span> (param.args.length == <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span>;<br>                            <span class="hljs-type">Mac</span> <span class="hljs-variable">mac</span> <span class="hljs-operator">=</span> (Mac) param.thisObject;<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">algoritm</span> <span class="hljs-operator">=</span> mac.getAlgorithm();<br>                            <span class="hljs-keyword">if</span> (param.args.length == <span class="hljs-number">1</span>) &#123;<br>                                <span class="hljs-type">byte</span>[] params = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                                <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(params);<br>                                <span class="hljs-type">String</span> <span class="hljs-variable">dataHex</span> <span class="hljs-operator">=</span> byteArray2HexString(params);<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; data: &quot;</span> + data);<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; dataHex: &quot;</span> + dataHex);<br>                            &#125;<br>                            <span class="hljs-type">byte</span>[] res = (<span class="hljs-type">byte</span>[]) param.getResult();<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">resHex</span> <span class="hljs-operator">=</span> byteArray2HexString(res);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">resBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(res, <span class="hljs-number">0</span>);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; resultHex: &quot;</span> + resHex);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; resultBase64: &quot;</span> + resBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;crypto.Mac.doFinal Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br>        <span class="hljs-comment">// hook 密钥 可以是 DES，3Des，Aes,Mac算法</span><br>        <span class="hljs-comment">// 构造函数 SecretKeySpec 这个方法   https://www.oschina.net/uploads/doc/javase-6-doc-api-zh_CN/index.html?index-filesindex-4.html</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;javax.crypto.spec.SecretKeySpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">byte</span>[] secretkey = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">algoritm</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>                            <span class="hljs-keyword">if</span> (param.args.length != <span class="hljs-number">2</span>) &#123;<br>                                offset = (Integer) param.args[<span class="hljs-number">1</span>];<br>                                size = (Integer) param.args[<span class="hljs-number">2</span>];<br>                                algoritm = (String) param.args[<span class="hljs-number">3</span>];<br>                            &#125; <span class="hljs-keyword">else</span> &#123;<br>                                size = secretkey.length;<br>                                algoritm = (String) param.args[<span class="hljs-number">1</span>];<br>                            &#125;<br>                            <span class="hljs-type">byte</span>[] keybyte = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[size];<br>                            System.arraycopy(secretkey, offset, keybyte, <span class="hljs-number">0</span>, size);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keyHex</span> <span class="hljs-operator">=</span> byteArray2HexString(keybyte);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keyBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(keybyte, <span class="hljs-number">0</span>);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; SecretKey: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(keybyte));<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; SecretKeyHex: &quot;</span> + keyHex);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; SecretKeyBase64: \n&quot;</span> + keyBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;SecretKeySpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br><br>        <span class="hljs-comment">// hook des的 密钥 https://www.oschina.net/uploads/doc/javase-6-doc-api-zh_CN/index.html?index-filesindex-4.html</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;javax.crypto.spec.DESKeySpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">byte</span>[] desKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">8</span>];<br>                            <span class="hljs-type">byte</span>[] deskeybyte = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-keyword">if</span> (param.args.length != <span class="hljs-number">1</span>)<br>                                offset = (Integer) param.args[<span class="hljs-number">1</span>];<br>                            System.arraycopy(deskeybyte, offset, desKey, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keyHex</span> <span class="hljs-operator">=</span> byteArray2HexString(desKey);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keyBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(desKey, <span class="hljs-number">0</span>);<br>                            Log.d(TAG, <span class="hljs-string">&quot;DESKey: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(desKey));<br>                            Log.d(TAG, <span class="hljs-string">&quot;DESKeyHex: &quot;</span> + keyHex);<br>                            Log.d(TAG, <span class="hljs-string">&quot;DESKeyBase64: \n&quot;</span> + keyBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;DESKeySpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br><br>        <span class="hljs-comment">// hook IV向量 AES DES 3DES, Java 加密体系中的一个类，用于提供初始化向量（IV），主要应用于对称加密算法中的分组加密模式，如 CBC、CFB、OFB 等</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;javax.crypto.spec.IvParameterSpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">byte</span>[] ivbyte = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-keyword">if</span> (param.args.length != <span class="hljs-number">1</span>) &#123;<br>                                offset = (Integer) param.args[<span class="hljs-number">1</span>];<br>                                size = (Integer) param.args[<span class="hljs-number">2</span>];<br>                            &#125; <span class="hljs-keyword">else</span> size = ivbyte.length;<br>                            <span class="hljs-type">byte</span>[] iv = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[size];<br>                            System.arraycopy(ivbyte, offset, iv, <span class="hljs-number">0</span>, size);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">IVHex</span> <span class="hljs-operator">=</span> byteArray2HexString(iv);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">IVBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(iv, <span class="hljs-number">0</span>);<br>                            Log.d(TAG, <span class="hljs-string">&quot;IvParameter: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(iv));<br>                            Log.d(TAG, <span class="hljs-string">&quot;IvParameterHex: &quot;</span> + IVHex);<br>                            Log.d(TAG, <span class="hljs-string">&quot;IvParameterBase64: \n&quot;</span> + IVBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;IvParameterSpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br><br>        <span class="hljs-comment">// hook Cipher(RSA,DES,3DES,AES)  https://www.oschina.net/uploads/doc/javase-6-doc-api-zh_CN/index.html?index-filesindex-4.html</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllMethods(XposedHelpers.findClass(<span class="hljs-string">&quot;javax.crypto.Cipher&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-string">&quot;doFinal&quot;</span>,<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-comment">// 只hook了 返回值非int的</span><br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-keyword">if</span> (param.args.length != <span class="hljs-number">0</span> &amp;&amp; param.args.length != <span class="hljs-number">1</span> &amp;&amp; param.args.length != <span class="hljs-number">3</span>)<br>                                <span class="hljs-keyword">return</span>;<br>                            <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> (Cipher) param.thisObject;<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">algoritm</span> <span class="hljs-operator">=</span> cipher.getAlgorithm(); <span class="hljs-comment">// 返回算法名称</span><br>                            <span class="hljs-type">byte</span>[] dataAll = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-keyword">if</span> (param.args.length == <span class="hljs-number">3</span>) &#123;<br>                                <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> (Integer) param.args[<span class="hljs-number">1</span>];<br>                                <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> (Integer) param.args[<span class="hljs-number">2</span>];<br>                                <span class="hljs-type">byte</span>[] dataByte = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[size];<br>                                System.arraycopy(dataAll, offset, dataByte, <span class="hljs-number">0</span>, size);<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; data: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(dataByte));<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; dataHex: &quot;</span> + byteArray2HexString(dataByte));<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; dataBase64: \n&quot;</span> + Base64.encodeToString(dataByte, <span class="hljs-number">0</span>));<br>                            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (param.args.length == <span class="hljs-number">1</span>) &#123;<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; data: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(dataAll));<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; dataHex: &quot;</span> + byteArray2HexString(dataAll));<br>                                Log.d(TAG, algoritm + <span class="hljs-string">&quot; dataBase64: \n&quot;</span> + Base64.encodeToString(dataAll, <span class="hljs-number">0</span>));<br>                            &#125;<br>                            <span class="hljs-type">byte</span>[] res = (<span class="hljs-type">byte</span>[]) param.getResult();<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">resHex</span> <span class="hljs-operator">=</span> byteArray2HexString(res);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">resBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(res, <span class="hljs-number">0</span>);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; resultHex: &quot;</span> + resHex);<br>                            Log.d(TAG, algoritm + <span class="hljs-string">&quot; resultBase64: \n&quot;</span> + resBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;crypto.Cipher.doFinal Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br><br>        <span class="hljs-comment">// Hook 3Des 算法 除了密钥 其他都一样 </span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;javax.crypto.spec.DESedeKeySpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">byte</span>[] keybyte = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                            <span class="hljs-keyword">if</span> (param.args.length != <span class="hljs-number">1</span>)<br>                                offset = (Integer) param.args[<span class="hljs-number">1</span>];<br>                            <span class="hljs-type">byte</span>[] desedeKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">24</span>];<br>                            System.arraycopy(keybyte, offset, desedeKey, <span class="hljs-number">0</span>, <span class="hljs-number">24</span>);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">desedeKeyHex</span> <span class="hljs-operator">=</span> byteArray2HexString(desedeKey);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">desedeKeyBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(desedeKey, <span class="hljs-number">0</span>);<br>                            Log.d(TAG, <span class="hljs-string">&quot;3DESKey: &quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(desedeKey));<br>                            Log.d(TAG, <span class="hljs-string">&quot;3DESKeyHex: &quot;</span> + desedeKeyHex);<br>                            Log.d(TAG, <span class="hljs-string">&quot;3DESKeyBase64: \n&quot;</span> + desedeKeyBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;DESedeKeySpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br>        <span class="hljs-comment">// hook RSA的Base64密钥</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;java.security.spec.X509EncodedKeySpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">byte</span>[] keybyte = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keybyteBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(keybyte, <span class="hljs-number">0</span>);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keybyteHex</span> <span class="hljs-operator">=</span> byteArray2HexString(keybyte);<br>                            Log.d(TAG, <span class="hljs-string">&quot;X509KeyHex: &quot;</span> + keybyteHex);<br>                            Log.d(TAG, <span class="hljs-string">&quot;X509KeyBase64: \n&quot;</span> + keybyteBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;X509EncodedKeySpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br><br>        <span class="hljs-comment">// hook RSA 16进制的密钥</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;java.security.spec.PKCS8EncodedKeySpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">byte</span>[] keybyte = (<span class="hljs-type">byte</span>[]) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keybyteBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(keybyte, <span class="hljs-number">0</span>);<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">keybyteHex</span> <span class="hljs-operator">=</span> byteArray2HexString(keybyte);<br>                            Log.d(TAG, <span class="hljs-string">&quot;PKCS8KeyHex: &quot;</span> + keybyteHex);<br>                            Log.d(TAG, <span class="hljs-string">&quot;PKCS8KeyBase64: \n&quot;</span> + keybyteBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;PKCS8EncodedKeySpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br>        <span class="hljs-comment">// hook生成生成公钥对象</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllMethods(XposedHelpers.findClass(<span class="hljs-string">&quot;java.security.KeyFactory&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-string">&quot;generatePublic&quot;</span>,<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            <span class="hljs-built_in">super</span>.afterHookedMethod(param);<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack&quot;</span> + <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack Dump&quot;</span>));<br>                            <span class="hljs-type">PublicKey</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> (PublicKey) param.getResult();<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">resHex</span> <span class="hljs-operator">=</span> byteArray2HexString(res.getEncoded());<br>                            <span class="hljs-type">String</span> <span class="hljs-variable">ResBase64</span> <span class="hljs-operator">=</span> Base64.encodeToString(res.getEncoded(), <span class="hljs-number">0</span>);<br>                            Log.d(TAG, <span class="hljs-string">&quot;RSAKey Result:&quot;</span> + res);<br>                            Log.d(TAG, <span class="hljs-string">&quot;RSAKey ResultHex:&quot;</span> + resHex);<br>                            Log.d(TAG, <span class="hljs-string">&quot;RSAKey ResultBase64:&quot;</span> + ResBase64);<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;KeyFactory Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br>        <span class="hljs-comment">// hook RSA 16进制的密钥</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;java.security.spec.RSAPublicKeySpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">BigInteger</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> (BigInteger) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">BigInteger</span> <span class="hljs-variable">E</span> <span class="hljs-operator">=</span> (BigInteger) param.args[<span class="hljs-number">1</span>];<br>                            Log.d(TAG, <span class="hljs-string">&quot;RSAPublicKey N : &quot;</span> + N.toString(<span class="hljs-number">16</span>));<br>                            Log.d(TAG, <span class="hljs-string">&quot;RSAPublicKey E : &quot;</span> + E.toString(<span class="hljs-number">16</span>));<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;RSAPublicKeySpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br>        <span class="hljs-keyword">try</span> &#123;<br>            XposedBridge.hookAllConstructors(XposedHelpers.findClass(<span class="hljs-string">&quot;java.security.spec.RSAPrivateKeySpec&quot;</span>, lpparam.classLoader),<br>                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">XC_MethodHook</span>() &#123;<br>                        <span class="hljs-meta">@Override</span><br>                        <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">beforeHookedMethod</span><span class="hljs-params">(MethodHookParam param)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>                            Log.e(TAG, <span class="hljs-string">&quot;Stack:&quot;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Throwable</span>(<span class="hljs-string">&quot;stack dump&quot;</span>));<br>                            <span class="hljs-type">BigInteger</span> <span class="hljs-variable">N</span> <span class="hljs-operator">=</span> (BigInteger) param.args[<span class="hljs-number">0</span>];<br>                            <span class="hljs-type">BigInteger</span> <span class="hljs-variable">D</span> <span class="hljs-operator">=</span> (BigInteger) param.args[<span class="hljs-number">1</span>];<br>                            Log.d(TAG, <span class="hljs-string">&quot;RSAPrivateKey N : &quot;</span> + N.toString(<span class="hljs-number">16</span>));<br>                            Log.d(TAG, <span class="hljs-string">&quot;RSAPrivateKey D : &quot;</span> + D.toString(<span class="hljs-number">16</span>));<br>                            Log.d(TAG, <span class="hljs-string">&quot;=======================================================================&quot;</span>);<br>                        &#125;<br>                    &#125;);<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            Log.e(TAG, <span class="hljs-string">&quot;RSAPrivateKeySpec Error: &quot;</span> + e.getMessage());<br>        &#125;<br><br><br>    &#125;<br><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">byteArray2HexString</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] bytes)</span> &#123;<br>        <span class="hljs-type">char</span>[] HEX = &#123;<span class="hljs-string">&#x27;0&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;7&#x27;</span>, <span class="hljs-string">&#x27;8&#x27;</span>, <span class="hljs-string">&#x27;9&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-string">&#x27;D&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;F&#x27;</span>&#125;;<br>        <span class="hljs-type">char</span>[] str = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[bytes.length * <span class="hljs-number">2</span>];<br>        <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">byte</span> ele : bytes) &#123;<br>            str[j++] = HEX[(ele &amp; <span class="hljs-number">0xF0</span>) &gt;&gt;&gt; <span class="hljs-number">4</span>]; <span class="hljs-comment">//无符号左移</span><br>            str[j++] = HEX[(ele &amp; <span class="hljs-number">0x0F</span>)];<br>        &#125;<br>        <span class="hljs-keyword">return</span> String.valueOf(str);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scrapyd简易食用教程</title>
      <link href="/2024/12/02/Scrapyd%E7%AE%80%E6%98%93%E9%A3%9F%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2024/12/02/Scrapyd%E7%AE%80%E6%98%93%E9%A3%9F%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="Scrapyd安装"><a href="#Scrapyd安装" class="headerlink" title="Scrapyd安装:"></a>Scrapyd安装:</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#服务端</span><br>pip install scrapyd  <br><span class="hljs-comment">#客户端</span><br>pip install scrapyd-client<br></code></pre></td></tr></table></figure><p>打开命令行，输入</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">scrapyd</span><br></code></pre></td></tr></table></figure><p>访问 127.0.0.1:6800 即可看到web界面</p><h1 id="部署scrapy项目"><a href="#部署scrapy项目" class="headerlink" title="部署scrapy项目"></a>部署scrapy项目</h1><p>在scrapy项目目录下，有一个scrapy.cfg的配置文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># Automatically created by: scrapy startproject</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># For more information about the [deploy] section see:</span><br><span class="hljs-comment"># https://scrapyd.readthedocs.io/en/latest/deploy.html</span><br><br>[settings]<br>default = xxx.settings<br><br>[deploy:<span class="hljs-built_in">test</span>]<br>url = http://localhost:6800/<br>project = xxx<br></code></pre></td></tr></table></figure><p>test——项目名 （随便）</p><p>project 工程名 （你创建 项目时使用的名字）</p><h2 id="windows环境下配置："><a href="#windows环境下配置：" class="headerlink" title="windows环境下配置："></a>windows环境下配置：</h2><p>到python虚拟环境下找到 Scripts&#x2F;scrapyd-deploy</p><p>新建scrapyd-deploy.bat</p><p>这里路径需要自己修改</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">&quot;E:\python_venv\envTest\Scripts\python.exe&quot; &quot;E:\python_venv\envTest\Scripts\scrapyd-deploy&quot; %1 %2 %3 %4 %5 %6 %7 %8 %9<br></code></pre></td></tr></table></figure><p>然后，进入到我们爬虫的根目录，运行scrapyd-deploy</p><h1 id="把爬虫项目上传到服务端"><a href="#把爬虫项目上传到服务端" class="headerlink" title="把爬虫项目上传到服务端"></a>把爬虫项目上传到服务端</h1><p>准备工作：查看当前目录下的 spider</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">(base) $ scrapy list<br>xxxx1  xxxx2<br></code></pre></td></tr></table></figure><ul><li>执行打包命令<br>  <code>scrapyd-deploy 部署名称 -p 项目名称</code><br>  如<code>scrapyd-deploy bushu -p test</code><br>  可以去网页中127.0.0.1:6800查看爬虫运行状态</li><li>停止爬虫<br>  <code>curl http://localhost:6800/cancel.json -d project=scrapy项目名称 -d job=运行ID</code> </li><li>删除scrapy项目<br>  curl <a href="http://localhost:6800/delproject.json">http://localhost:6800/delproject.json</a> -d project&#x3D;scrapy项目名称 </li><li>查看有多少个scrapy项目在api中<br>  curl <a href="http://localhost:6800/listprojects.json">http://localhost:6800/listprojects.json</a> </li><li>查看指定的scrapy项目中有多少个爬虫<br>  curl <a href="http://localhost:6800/listspiders.json?project=scrapy%E9%A1%B9%E7%9B%AE%E5%90%8D%E7%A7%B0">http://localhost:6800/listspiders.json?project=scrapy项目名称</a><br>  总结几个请求url</li></ul><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs text">1、获取状态<br>http://127.0.0.1:6800/daemonstatus.json<br><br>2、获取项目列表<br>http://127.0.0.1:6800/listprojects.json<br><br>3、获取项目下已发布的爬虫列表<br>http://127.0.0.1:6800/listspiders.json?project=myproject<br><br>4、获取项目下已发布的爬虫版本列表<br>http://127.0.0.1:6800/listversions.json?project=myproject<br><br>5、获取爬虫运行状态<br>http://127.0.0.1:6800/listjobs.json?project=myproject<br><br>6、启动服务器上某一爬虫（必须是已发布到服务器的爬虫）<br>http://127.0.0.1:6800/schedule.json <br>（post方式，data=&#123;&quot;project&quot;:myproject,&quot;spider&quot;:myspider&#125;）<br><br>7、删除某一版本爬虫<br>http://127.0.0.1:6800/delversion.json<br>（post方式，data=&#123;&quot;project&quot;:myproject,&quot;version&quot;:myversion&#125;）<br><br>8、删除某一工程，包括该工程下的各版本爬虫<br>http://127.0.0.1:6800/delproject.json（post方式，data=&#123;&quot;project&quot;:myproject&#125;）<br></code></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python小技巧</title>
      <link href="/2024/11/26/Python%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
      <url>/2024/11/26/Python%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="引包方式"><a href="#引包方式" class="headerlink" title="引包方式"></a>引包方式</h1><p>在引包 部署时 总会出现路径问题，包括execjs的路径</p><h2 id="万能导入引包"><a href="#万能导入引包" class="headerlink" title="万能导入引包"></a>万能导入引包</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os<br><br>sys.path.append(os.path.join(os.path.dirname(__file__), <span class="hljs-string">&quot;..&quot;</span>))<br></code></pre></td></tr></table></figure><p>或者</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os<br><br>script_path = os.path.abspath(os.path.dirname(__file__) + <span class="hljs-string">&quot;./..&quot;</span>)<br><span class="hljs-keyword">if</span> script_path <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> sys.path:<br>  sys.path.append(script_path)<br><br></code></pre></td></tr></table></figure><h2 id="万能路径"><a href="#万能路径" class="headerlink" title="万能路径"></a>万能路径</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br><span class="hljs-comment"># 获取当前工作目录</span><br>current_path = Path.cwd()<br>file_path = current_path / <span class="hljs-string">&quot;aaaa&quot;</span> / <span class="hljs-string">&quot;bbb.js&quot;</span><br></code></pre></td></tr></table></figure><h1 id="提取json"><a href="#提取json" class="headerlink" title="提取json"></a>提取json</h1><p>类似于下文这样的JSON提取出JSON</p><blockquote><p>VaptchaJsonp1756106013582({“code”: “0103”,”data”: {“knock”:”1756107661vbymKE2e12d”,”cdn_servers”:[“static-cn.vaptcha.net”],”css_version”:”2.9.12”,”js_path”:”verify.2.2.4.js”,”help”:true,”is_vip”:-1,”guideVersion”:”3.1.0”,”sdk_ver”:”vaptcha-sdk.1.2.35.669f69e6.js”,”net_way”:-1,”node”:”CN”,”server”:”<a href="https://0.vaptcha.com/verify%22%7D,%22msg%22:%22%22%7D">https://0.vaptcha.com/verify&quot;},&quot;msg&quot;:&quot;&quot;}</a>)</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">extract_json = <span class="hljs-keyword">lambda</span> s: json.loads(s[s.find(<span class="hljs-string">&#x27;&#123;&#x27;</span>):s.rfind(<span class="hljs-string">&#x27;&#125;&#x27;</span>) + <span class="hljs-number">1</span>])<br></code></pre></td></tr></table></figure><h1 id="添加代理"><a href="#添加代理" class="headerlink" title="添加代理"></a>添加代理</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">proxies = <span class="hljs-keyword">lambda</span> authKey=<span class="hljs-string">&quot;xxx&quot;</span>, password=<span class="hljs-string">&quot;xxx&quot;</span>, proxyAddr=<span class="hljs-string">&quot;xxxx:xxx&quot;</span>: &#123;<br>            <span class="hljs-string">&quot;http&quot;</span>: <span class="hljs-string">f&quot;http://<span class="hljs-subst">&#123;authKey&#125;</span>:<span class="hljs-subst">&#123;password&#125;</span>@<span class="hljs-subst">&#123;proxyAddr&#125;</span>&quot;</span>,<br>            <span class="hljs-string">&quot;https&quot;</span>: <span class="hljs-string">f&quot;http://<span class="hljs-subst">&#123;authKey&#125;</span>:<span class="hljs-subst">&#123;password&#125;</span>@<span class="hljs-subst">&#123;proxyAddr&#125;</span>&quot;</span>,<br>        &#125;<br></code></pre></td></tr></table></figure><h1 id="lambda-时间戳"><a href="#lambda-时间戳" class="headerlink" title="lambda 时间戳"></a>lambda 时间戳</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">timestamp_to_date = <span class="hljs-keyword">lambda</span> ts: datetime.fromtimestamp(<span class="hljs-built_in">int</span>(ts) / <span class="hljs-number">1000</span>).strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M&#x27;</span>) <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">str</span>(ts)) == <span class="hljs-number">13</span> <span class="hljs-keyword">else</span> datetime.fromtimestamp(<span class="hljs-built_in">int</span>(ts)).strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H:%M&#x27;</span>)<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>testab 逆向流程分析</title>
      <link href="/2024/11/22/testab/"/>
      <url>/2024/11/22/testab/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>好久不更新,就随便水一下. 感觉这个东西也比较烂大街. 大佬路过的直接跳过</p><h1 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h1><p>逆向如下参数，哪个网站就不说了。懂得都懂</p><p><img src="https://s2.loli.net/2024/07/17/blTAj1k2QHNmdgM.png"></p><h1 id="断点分析"><a href="#断点分析" class="headerlink" title="断点分析"></a>断点分析</h1><p>这里就直接搜索 然后断点 断在这个地方 就OK了。</p><p><img src="https://s2.loli.net/2024/11/05/Uthiv1CBoMejKLa.png"></p><p>然后就发现进到了一个JSVMP里面</p><p><img src="https://s2.loli.net/2024/11/05/AF7ubjtTSJzmIch.png"></p><p>剩下的就是直接分析。</p><p>PS： 细节部分动态的 就不多说了。就是一个请求里返回出来的VM代码</p><h1 id="补环境"><a href="#补环境" class="headerlink" title="补环境"></a>补环境</h1><p>这里找到apply调用处</p><p><img src="https://s2.loli.net/2024/11/21/FHmMed1AgxIzi8J.png"></p><p>在这里打印下 args 输出一下传参的值。</p><p>对比上面的64位大数组 和浏览器中的大数组 值一致 就代表补OK了。</p><p>然后直接打印日志。</p><p>发现日志点还是太少了。这里就得找运算过程中产生的一些信息了。</p><p>日志打印这里。输出val的值。</p><p><img src="https://s2.loli.net/2024/11/21/RApbSwDYmj9eK7h.png"></p><p>这里打印出来  val有一堆异常的值。</p><p>这里说下 手补的话 要保证环境不能跑错。一步错 步步错。</p><p>第一步就是要赋值</p><p>self &#x3D; top &#x3D; window;</p><p>window.self &#x3D; window.top &#x3D; window;</p><p>到这一步就能生成一个错误的值了。</p><p>然后往下走就能看到一堆环境 也全部补上。</p><p><img src="https://s2.loli.net/2024/11/21/spzmiRLS32Ix4BV.png"></p><p><strong>Process检测</strong></p><p>如下图还有process检测。所以在开头也要删除掉process。这里可以把global buffer的一些Node检测全部删除。</p><p><img src="https://s2.loli.net/2024/11/21/zsKiVTHxy8QCfd4.png"></p><p>继续往下看。</p><p>appendChild检测</p><p>这里就是appendChild先后的问题。如果这个不会补。可以不补。你实现的乱七八糟可能不一定对。反正最后都是false.</p><p><img src="https://s2.loli.net/2024/11/21/Dof1q6AGQjuFvpi.png"></p><p>继续往下追。</p><p><strong>Createlement</strong></p><p>这里应该也是创建一个标签 拿到css的标签值。</p><p>这里也要对比。</p><p><img src="https://s2.loli.net/2024/11/08/IQWXOx7srVUYMwA.png"></p><p>继续走 也是</p><p><img src="https://s2.loli.net/2024/11/08/iYbgluAkcJ4xp7D.png"></p><p>到这里 如果还是不成功。可以额外多插一插</p><p>如下图所示位置。这里的话 逻辑打印的很全 即使纯算 也可以以这个为参考 然后去上层取值打断点。</p><p><img src="https://s2.loli.net/2024/11/08/rEIlO7hfJ5QBLAN.png"></p><p>简单说下 还有一堆的原型链的检测 和 toString()检测 其中包含 Image Screen HTML WINDOW等…</p><p>更方便的方法 直接用v-jstools 吐一下 改一下process 还有一些其他的环境值。 一会儿就出来了。</p><p>改完如下图所示，一模一样 就代表成功了.</p><p>对比值一样的就行了</p><p><img src="https://s2.loli.net/2024/11/21/ogeAEsZRunlwktx.png"></p><h1 id="纯算"><a href="#纯算" class="headerlink" title="纯算"></a>纯算</h1><p>如下图位置打好断点</p><p>直接单步入栈</p><p><img src="https://s2.loli.net/2024/11/06/wEtSmiHeZu7pKbG.png"></p><p>这里搜索下apply调用函数</p><p>然后瞎GG插装一波</p><p><img src="https://s2.loli.net/2024/11/06/BP4ySvqJKaxjYoV.png"></p><p>这里我们从下往上去看</p><p><img src="https://s2.loli.net/2024/11/21/NZrvyeco3YS2pHx.png"></p><p>可以看到 生成的最后一个值 用来 .join 拼接</p><p>然后这个数组的生成 我们就可以简易的还原一下。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> last_arr = [<br>    <span class="hljs-number">51</span>, <span class="hljs-number">50</span>, <span class="hljs-number">98</span>, <span class="hljs-number">50</span>, <span class="hljs-number">56</span>, <span class="hljs-number">50</span>, <span class="hljs-number">55</span>, <span class="hljs-number">51</span>, <span class="hljs-number">52</span>, <span class="hljs-number">56</span>, <span class="hljs-number">54</span>, <span class="hljs-number">52</span>,<br>    <span class="hljs-number">51</span>, <span class="hljs-number">97</span>, <span class="hljs-number">55</span>, <span class="hljs-number">51</span>, <span class="hljs-number">97</span>, <span class="hljs-number">48</span>, <span class="hljs-number">56</span>, <span class="hljs-number">49</span>, <span class="hljs-number">97</span>, <span class="hljs-number">49</span>, <span class="hljs-number">101</span>, <span class="hljs-number">101</span>,<br>    <span class="hljs-number">100</span>, <span class="hljs-number">51</span>, <span class="hljs-number">53</span>, <span class="hljs-number">102</span>, <span class="hljs-number">99</span>, <span class="hljs-number">56</span>, <span class="hljs-number">54</span>, <span class="hljs-number">53</span>, <span class="hljs-number">49</span>, <span class="hljs-number">55</span>, <span class="hljs-number">100</span>, <span class="hljs-number">51</span>,<br>    <span class="hljs-number">54</span>, <span class="hljs-number">52</span>, <span class="hljs-number">52</span>, <span class="hljs-number">54</span>, <span class="hljs-number">48</span>, <span class="hljs-number">102</span>, <span class="hljs-number">53</span>, <span class="hljs-number">97</span>, <span class="hljs-number">52</span>, <span class="hljs-number">56</span>, <span class="hljs-number">48</span>, <span class="hljs-number">53</span>,<br>    <span class="hljs-number">97</span>, <span class="hljs-number">52</span>, <span class="hljs-number">55</span>, <span class="hljs-number">99</span>, <span class="hljs-number">57</span>, <span class="hljs-number">102</span>, <span class="hljs-number">101</span>, <span class="hljs-number">54</span>, <span class="hljs-number">57</span>, <span class="hljs-number">99</span>, <span class="hljs-number">49</span>, <span class="hljs-number">53</span>,<br>    <span class="hljs-number">48</span>, <span class="hljs-number">99</span>, <span class="hljs-number">49</span>, <span class="hljs-number">100</span><br>]<br><br><span class="hljs-keyword">const</span> testab = last_arr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(val)).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(testab)<br></code></pre></td></tr></table></figure><p>然后继续网上看</p><p><img src="https://s2.loli.net/2024/11/21/wuLyaoCiS3A4OJR.png"></p><p>这里发现永远是外面一层大数组 包着一个最后的一个值。</p><p>然后把最后一个值 添加到里面的这个数组。</p><p>这里再细细观察 可以发现 他是又好几个数组生成。然后最终再生成这个testab</p><p>其实这里有个很简单 却 很笨的方法。</p><ol><li>先找出生成的某个值。然后去看逻辑。</li><li>然后把逻辑处持续插装打值。</li><li>基于值分析。</li></ol><p>这里简单说下定位和分析的流程吧。</p><p>找到定位点。 然后挨个追栈 基于返回的指令集的索引去挨个对。</p><p>如下图所示</p><p><img src="https://s2.loli.net/2024/11/21/fSbsWxRGThY67lo.png"></p><p><strong>生成数组</strong></p><p>如下图位置。</p><p><img src="https://s2.loli.net/2024/11/21/3rMJ26d7eLxZInl.png"></p><p><strong>第一组</strong></p><p><img src="https://s2.loli.net/2024/11/21/YCnmrZqpM1y6Sc7.png"></p><p><strong>第二组</strong></p><p><img src="https://s2.loli.net/2024/11/21/D7WoQ4MYrZXt9Fv.png"></p><p><strong>第三组</strong></p><p><img src="https://s2.loli.net/2024/11/21/mOhYIPwoULju7Ac.png"></p><p>转置</p><p><img src="https://s2.loli.net/2024/11/21/SbGKzpOFh1xqs4i.png"></p><p><strong>最后</strong></p><p><img src="https://s2.loli.net/2024/11/21/HXxIzROqhAm1dGM.png"></p><p>fromcharcode</p><p><strong>结果</strong></p><p><img src="https://s2.loli.net/2024/11/21/FfQIXqz9hyaeg1d.png"></p>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Requests请求封装以及API</title>
      <link href="/2024/11/04/Requests%E8%AF%B7%E6%B1%82%E5%B0%81%E8%A3%85%E4%BB%A5%E5%8F%8AAPI/"/>
      <url>/2024/11/04/Requests%E8%AF%B7%E6%B1%82%E5%B0%81%E8%A3%85%E4%BB%A5%E5%8F%8AAPI/</url>
      
        <content type="html"><![CDATA[<h1 id="使用代理"><a href="#使用代理" class="headerlink" title="使用代理"></a>使用代理</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>proxies = &#123;<br>    <span class="hljs-string">&quot;http&quot;</span>: <span class="hljs-string">&quot;http://xxx:xxx&amp;@xxx.xxx.xxx.cn&quot;</span>,<br>    <span class="hljs-string">&quot;https&quot;</span>: <span class="hljs-string">&quot;http://xxx:xxx&amp;@xxx.xxx.xxx.cn&quot;</span>,<br>&#125;<br><br>res = requests.get(<span class="hljs-string">&quot;http://127.0.0.1:8110&quot;</span>, proxies=proxies)<br><span class="hljs-built_in">print</span>(res.text)<br></code></pre></td></tr></table></figure><h1 id="重试机制"><a href="#重试机制" class="headerlink" title="重试机制"></a>重试机制</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">from</span> requests.adapters <span class="hljs-keyword">import</span> HTTPAdapter<br><span class="hljs-keyword">from</span> urllib3.util.retry <span class="hljs-keyword">import</span> Retry<br><br>session = requests.session()<br><br>retry = Retry(<br>            total=<span class="hljs-number">5</span>,<br>            read=<span class="hljs-number">5</span>,<br>            connect=<span class="hljs-number">5</span>,<br>            backoff_factor=<span class="hljs-number">0.3</span>,<br>            status_forcelist=(<span class="hljs-number">500</span>, <span class="hljs-number">502</span>, <span class="hljs-number">504</span>),<br>        )<br>adapter = HTTPAdapter(max_retries=retry)<br>session.mount(<span class="hljs-string">&quot;http://&quot;</span>, adapter)<br>session.mount(<span class="hljs-string">&quot;https://&quot;</span>, adapter)<br></code></pre></td></tr></table></figure><h1 id="添加Cookie"><a href="#添加Cookie" class="headerlink" title="添加Cookie"></a>添加Cookie</h1><h2 id="常规添加"><a href="#常规添加" class="headerlink" title="常规添加"></a>常规添加</h2><p><strong>headers</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>headers = &#123;<span class="hljs-string">&quot;Cookie&quot;</span>:<span class="hljs-string">&quot;test=111;test1=2222&quot;</span>&#125;<br>res = requests.get(<span class="hljs-string">&quot;https://xxxx-xxx.xxxx/get&quot;</span>,headers=headers)<br><span class="hljs-built_in">print</span>(res.text)<br><br></code></pre></td></tr></table></figure><p><strong>cookies</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br><br>cookies = &#123;<span class="hljs-string">&quot;test&quot;</span>:<span class="hljs-string">&quot;111&quot;</span>,<span class="hljs-string">&quot;test1&quot;</span>:<span class="hljs-string">&quot;222&quot;</span>&#125;<br>res = requests.get(<span class="hljs-string">&quot;https://xxxx-xxx.xxxx/get&quot;</span>,cookies=cookies)<br><br><span class="hljs-built_in">print</span>(res.text)<br></code></pre></td></tr></table></figure><h2 id="session添加"><a href="#session添加" class="headerlink" title="session添加"></a>session添加</h2><ol><li><strong>自动设置</strong></li><li><strong>直接赋值</strong>（一般情况不好用 不推荐）</li></ol>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">session.cookies[<span class="hljs-string">&quot;test&quot;</span>]=<span class="hljs-string">&quot;111&quot;</span><br>session.cookies[<span class="hljs-string">&quot;test2&quot;</span>]=<span class="hljs-string">&quot;222&quot;</span><br></code></pre></td></tr></table></figure><p>  or<br>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">session.cookies.<span class="hljs-built_in">set</span>(<span class="hljs-string">&quot;test&quot;</span>,<span class="hljs-string">&quot;111&quot;</span>,path=<span class="hljs-string">&quot;/&quot;</span>,domain=<span class="hljs-string">&quot;xxx.xxx.cn&quot;</span>)<br></code></pre></td></tr></table></figure><br>3. <strong>add_dict_to_cookiejar</strong> (推荐)</p>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>session = requests.session()<br>cookies = &#123;<span class="hljs-string">&quot;test&quot;</span>:<span class="hljs-string">&quot;111&quot;</span>,<span class="hljs-string">&quot;test1&quot;</span>:<span class="hljs-string">&quot;222&quot;</span>&#125;<br>requests.utils.add_dict_to_cookiejar(session.cookies,cookie_dict=cookie_dict)<br><br>res = session.get(<span class="hljs-string">&quot;https://xxx-xxx.xxx/get&quot;</span>)<br><br><span class="hljs-built_in">print</span>(session.cookies)<br></code></pre></td></tr></table></figure><ol start="4"><li><strong>RequestsCookieJar 对象设置</strong></li></ol>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>session = requests.session()<br><br>test = requests.sessions.RequestsCookieJar()<br>test.<span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;test&#x27;</span>, <span class="hljs-string">&#x27;111&#x27;</span>, path=<span class="hljs-string">&#x27;/&#x27;</span>, domain=<span class="hljs-string">&#x27;xxx-xxx.cn&#x27;</span>)<br>session.cookies.update(test)<br><br>res = session.get(<span class="hljs-string">&quot;https://xxx-xxx.cn/get&quot;</span>)<br><span class="hljs-built_in">print</span>(session.cookies)<br></code></pre></td></tr></table></figure><ol start="5"><li><strong>cookiejar_from_dict</strong></li></ol>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>session = requests.session()<br>cookie_dict = &#123;<span class="hljs-string">&quot;test&quot;</span>:<span class="hljs-string">&quot;111&quot;</span>,<span class="hljs-string">&quot;test2&quot;</span>:<span class="hljs-string">&quot;222&quot;</span>&#125;<br>test = requests.utils.cookiejar_from_dict(cookie_dict=cookie_dict)<br>session.cookies.update(test)<br><br>res = session.get(<span class="hljs-string">&quot;https://xxx-xxx.cn/get&quot;</span>)<br><span class="hljs-built_in">print</span>(session.cookies)<br></code></pre></td></tr></table></figure><h1 id="忽略SSL证书以及错误警告"><a href="#忽略SSL证书以及错误警告" class="headerlink" title="忽略SSL证书以及错误警告"></a>忽略SSL证书以及错误警告</h1><p>报错SSL</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br>requests.get(<span class="hljs-string">&quot;https://xxx.xxx.com&quot;</span> , verify=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>此时会报错警告</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs text">InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verification is strongly advised. See: https://urllib3.readthedocs.io/en/latest/advanced-usage.html#ssl-warnings<br>  InsecureRequestWarning)<br></code></pre></td></tr></table></figure><p>全局添加以下代码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">requests.packages.urllib3.disable_warnings()<br></code></pre></td></tr></table></figure><h1 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>requests.get(<span class="hljs-string">&quot;https://xxx.xxx.com&quot;</span> , allow_redirects=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>allow_redirects</p><p>为False ： 禁止重定向<br>为True： 允许重定向</p><p>一般返回的response.url 为正确URL</p><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p>剩下的params | data | cookies | files | auth | timeout | hooks | stream | cert | json<br>要不就是太简单 要不就是很少用。这里不讲了。</p>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pm2之运行Hexo方案</title>
      <link href="/2024/10/25/Pm2%E4%B9%8B%E8%BF%90%E8%A1%8CHexo%E6%96%B9%E6%A1%88/"/>
      <url>/2024/10/25/Pm2%E4%B9%8B%E8%BF%90%E8%A1%8CHexo%E6%96%B9%E6%A1%88/</url>
      
        <content type="html"><![CDATA[<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>pm2是一个管理nodejs process的工具，它可以让我们用简单的指令启动nodejs进程(多为web前端)并管理之。<br>详情可以参考pm2的官方文档，这里只是用到了start&#x2F;stop&#x2F;logs几个常用的命令</p><h1 id="坑点"><a href="#坑点" class="headerlink" title="坑点"></a>坑点</h1><p>这里直接安装会报错。并且会报错找不到</p><p>这里直接如下安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> npm install -g pm2<br></code></pre></td></tr></table></figure><p>这里一定要加sudo</p><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>vim hexo_run.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; exec &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;child_process&#x27;</span>)<br><span class="hljs-title function_">exec</span>(<span class="hljs-string">&#x27;hexo server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">error, stdout, stderr</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span>(error)&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;exec error: $&#123;error&#125;&#x27;</span>)<br>                <span class="hljs-keyword">return</span><br>        &#125;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;stdout: $&#123;stdout&#125;&#x27;</span>);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;stderr: $&#123;stderr&#125;&#x27;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><h1 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pm2 start hexo_run.js<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安卓逆向基础之Java</title>
      <link href="/2024/10/18/APP%E9%80%86%E5%90%91%E4%B9%8BJava%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"/>
      <url>/2024/10/18/APP%E9%80%86%E5%90%91%E4%B9%8BJava%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>相同的语法，例如：静态成员无需实例就可以调用这些共同性不写</p><h1 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h1><p>类成员描述符：<br>public:只要有权访问类，在任意情况下都可以调用<br>private:只允许自己类调用，在其他类中无法调用到<br>default:只允许自己家族(即包内成员)调用<br>protected:允许自己家族(即包内成员)调用，子类也可以访问(继承,不是一个包)</p><p>返回值：<br>void:无返回值<br>int:返回一个整数<br>String:返回一个字符串<br>boolean:返回一个布尔值</p><p>变量:<br>变量类型 变量名 &#x3D; 变量值</p><p>输入与输出:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>system.out.println(<span class="hljs-string">&quot;请输入一个字符串：&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> sc.nextLine(); <span class="hljs-comment">// 将输入的类型转换</span><br>system.out.println(<span class="hljs-string">&quot;请输入一个整数：&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> sc.nextInt();<br><span class="hljs-type">String</span> <span class="hljs-variable">message</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">&quot;输入的字符串是：%s,输入的整数是：%d&quot;</span>,str,num);<br>system.out.println(message);<br><br>基本数据类型:<br><span class="hljs-type">byte</span>:<span class="hljs-number">1</span>个字节 -<span class="hljs-number">128</span>——-<span class="hljs-number">127</span><br><span class="hljs-type">short</span>:<span class="hljs-number">2</span>个字节<br><span class="hljs-type">int</span>:<span class="hljs-number">4</span>个字节<br><span class="hljs-type">long</span>:<span class="hljs-number">8</span>个字节<br><br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String [] args)</span>&#123;<br>       <span class="hljs-type">byte</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> <span class="hljs-number">32</span>;<br>       <span class="hljs-type">short</span> <span class="hljs-variable">v2</span> <span class="hljs-operator">=</span> <span class="hljs-number">10000</span>;<br>       <span class="hljs-type">int</span> <span class="hljs-variable">v3</span> <span class="hljs-operator">=</span> <span class="hljs-number">2222131</span>;<br>       <span class="hljs-type">long</span> <span class="hljs-variable">v4</span> <span class="hljs-operator">=</span> <span class="hljs-number">554534353424L</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>强制转换</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String [] args)</span>&#123;<br>       <span class="hljs-type">short</span> <span class="hljs-variable">v1</span> <span class="hljs-operator">=</span> <span class="hljs-number">32</span>;<br>       <span class="hljs-comment">// 强制类型转换</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">v2</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>)v1;<br>        System.out.println(v2);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Java python字节数组转换python</p><p>python脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">byte_list = [-<span class="hljs-number">50</span>, -<span class="hljs-number">28</span>, -<span class="hljs-number">59</span>, -<span class="hljs-number">26</span>, -<span class="hljs-number">58</span>, -<span class="hljs-number">21</span>]<br><br>bs = <span class="hljs-built_in">bytearray</span>()<br><span class="hljs-keyword">for</span> byte <span class="hljs-keyword">in</span> byte_list:<br>    <span class="hljs-keyword">if</span> byte &lt; <span class="hljs-number">0</span>:<br>        byte = byte + <span class="hljs-number">256</span><br>    bs.append(byte)<br>str_data = bs.decode(<span class="hljs-string">&quot;gbk&quot;</span>)<br><span class="hljs-built_in">print</span>(str_data)<br></code></pre></td></tr></table></figure><p>基础不记录了</p><h1 id="逆向中的问题"><a href="#逆向中的问题" class="headerlink" title="逆向中的问题"></a>逆向中的问题</h1><h2 id="接口中常见的方法"><a href="#接口中常见的方法" class="headerlink" title="接口中常见的方法"></a>接口中常见的方法</h2><p>找到接口中的方法了</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IRequest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">send</span><span class="hljs-params">(String URL)</span>;<br>&#125;<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Context</span> &#123;<br>    <span class="hljs-keyword">public</span> IRequest req;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Context</span><span class="hljs-params">(IRequest req)</span> &#123;<br>        <span class="hljs-built_in">this</span>.req = req;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doRequest</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;/click/android2/&quot;</span>;<br>        <span class="hljs-built_in">this</span>.req.send(url);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>思路1：寻找实现IRequest 接口的类</p><p>思路2：谁传入了Req？ 找到调用栈。</p><h2 id="隐藏的字节"><a href="#隐藏的字节" class="headerlink" title="隐藏的字节"></a>隐藏的字节</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">v4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[]&#123;-<span class="hljs-number">26</span>,-<span class="hljs-number">83</span>,-<span class="hljs-number">90</span>,-<span class="hljs-number">26</span>,-<span class="hljs-number">78</span>,-<span class="hljs-number">101</span>,-<span class="hljs-number">23</span>,-<span class="hljs-number">67</span>,-<span class="hljs-number">122</span>&#125;);<br></code></pre></td></tr></table></figure><p>隐藏的字符串 要注意</p><h2 id="UUID"><a href="#UUID" class="headerlink" title="UUID"></a>UUID</h2><p>抖音UUID</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.UUID;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">uuid</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString();<br>        System.out.println(uuid);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="随机值"><a href="#随机值" class="headerlink" title="随机值"></a>随机值</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.math.BigInteger;<br><span class="hljs-keyword">import</span> java.security.SecureRandom;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">BigInteger</span> <span class="hljs-variable">v4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BigInteger</span>(<span class="hljs-number">80</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecureRandom</span>());<br>        <span class="hljs-comment">// 让字节以16进制展示</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> v4.toString(<span class="hljs-number">16</span>);<br>        System.out.println(res);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>python中</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><br><br>open_uid = <span class="hljs-string">&#x27;&#x27;</span>.join([<span class="hljs-built_in">hex</span>(i)[<span class="hljs-number">2</span>:]<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> random.randbytes(<span class="hljs-number">10</span>)])<br><span class="hljs-built_in">print</span>(open_uid)<br></code></pre></td></tr></table></figure><h2 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        System.out.println(String.valueOf(System.currentTimeMillis()/<span class="hljs-number">1000</span>));<br>        System.out.println(String.valueOf(System.currentTimeMillis()));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="十六进制字符串"><a href="#十六进制字符串" class="headerlink" title="十六进制字符串"></a>十六进制字符串</h2><p>转换</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;我叫大帅哥&quot;</span>;<br>        <span class="hljs-type">byte</span>[] nameBytes = name.getBytes();<br>        <span class="hljs-comment">// [-26, -120, -111, -27, -113, -85, -27, -92, -89, -27, -72, -123, -27, -109, -91]</span><br>        System.out.println(Arrays.toString(nameBytes));<br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; nameBytes.length; i++) &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">val</span> <span class="hljs-operator">=</span> nameBytes[i] &amp; <span class="hljs-number">255</span>; <span class="hljs-comment">// 负数转换成正数</span><br>            <span class="hljs-keyword">if</span> (val &lt; <span class="hljs-number">16</span>) &#123;<br>                sb.append(<span class="hljs-number">0</span>);<br>            &#125;<br>            sb.append(Integer.toHexString(val));<br>        &#125;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> sb.toString();<br>        System.out.println(res);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="base64"><a href="#base64" class="headerlink" title="base64"></a>base64</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;我是大帅哥&quot;</span>;<br>Base64.<span class="hljs-type">Encoder</span> <span class="hljs-variable">encoder</span> <span class="hljs-operator">=</span> Base64.getEncoder();<br><span class="hljs-type">String</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> encoder.encodeToString(name.getBytes());<br>System.out.println(res);<br><br>Base64.<span class="hljs-type">Decoder</span> <span class="hljs-variable">decoder</span> <span class="hljs-operator">=</span> Base64.getDecoder();<br><span class="hljs-type">byte</span>[] origin = decoder.decode(res);<br><span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(origin);<br>System.out.println(data);<br></code></pre></td></tr></table></figure><h2 id="md5"><a href="#md5" class="headerlink" title="md5"></a>md5</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">MessageDigest</span> <span class="hljs-variable">md5</span> <span class="hljs-operator">=</span> MessageDigest.getInstance(<span class="hljs-string">&quot;MD5&quot;</span>);<br><span class="hljs-type">byte</span>[] digest = md5.digest(str.getBytes(<span class="hljs-string">&quot;utf-8&quot;</span>));<br>hexStr = ByteUtils.toHexString(digest);<br></code></pre></td></tr></table></figure><h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">v5</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[]&#123;-<span class="hljs-number">50</span>,-<span class="hljs-number">28</span>,-<span class="hljs-number">59</span>,-<span class="hljs-number">26</span>,-<span class="hljs-number">58</span>,-<span class="hljs-number">21</span>&#125;,<span class="hljs-string">&quot;GBK&quot;</span>);<br>System.out.println(v5);<br><span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>sb.append(<span class="hljs-string">&quot;name&quot;</span>);<br>sb.append(<span class="hljs-string">&quot;=&quot;</span>);<br>sb.append(<span class="hljs-string">&quot;lzc&quot;</span>);<br>sb.append(<span class="hljs-string">&quot;&amp;&quot;</span>);<br>sb.append(<span class="hljs-string">&quot;and&quot;</span>);<br>sb.append(<span class="hljs-string">&quot;you&quot;</span>);<br><span class="hljs-type">String</span> <span class="hljs-variable">v6</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(sb);<br>System.out.println(v6);<br></code></pre></td></tr></table></figure><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>数组类型 [] 数组名 &#x3D; {em1,em2,em3,…,emN};&#x2F;&#x2F;声明数组的时候初始化，一共N个元素，</p><p>例如：<br>int[] array &#x3D; {3,5,4,8,12,5};&#x2F;&#x2F;一共六个元素</p><p>数组类型[] 数组名 &#x3D; new 数组类型[N]&#x2F;&#x2F;用new关键字声明数组的同时指定数组长度，</p><p>例如：<br>String[] str &#x3D; new String[6]; 数组长度为6，即数组有六个元素</p><p>数组类型[] 数组名 &#x3D; new 数组类型[] {em1,em2,em3,…,emN};用new关键字声明数组的同时初始化数组，</p><p>例如：<br>int[] array &#x3D; new int[] {2,4,5,6,8,9};array数组一共五个元素。</p><p>数组一旦声明，数组长度就已经确定。每个数组都有一个length属性，不可改变。可以改变数组元素。</p><h1 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> javax.crypto.Cipher;<br><span class="hljs-keyword">import</span> javax.crypto.spec.IvParameterSpec;<br><span class="hljs-keyword">import</span> javax.crypto.spec.SecretKeySpec;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;测试数据&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;fd6b639dbcff0c2a1b03b389ec763c4b&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">iv</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;77b07a672d57d64c&quot;</span>;<br>        <span class="hljs-comment">// 加密</span><br>        <span class="hljs-type">byte</span> [] raw = key.getBytes();<br>        <span class="hljs-type">SecretKeySpec</span> <span class="hljs-variable">skeySpec</span>  <span class="hljs-operator">=</span>  <span class="hljs-keyword">new</span> <span class="hljs-title class_">SecretKeySpec</span>(raw,<span class="hljs-string">&quot;AES&quot;</span>);<br>        <span class="hljs-type">IvParameterSpec</span> <span class="hljs-variable">ivSpec</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IvParameterSpec</span>(iv.getBytes());<br><br>        <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> Cipher.getInstance(<span class="hljs-string">&quot;AES/CBC/PKCS5Padding&quot;</span>);<br>        cipher.init(Cipher.ENCRYPT_MODE,skeySpec,ivSpec);<br>        <span class="hljs-type">byte</span> [] encrypted = cipher.doFinal(data.getBytes());<br>        System.out.println(Arrays.toString(encrypted));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>APP逆向之Frida基础教程</title>
      <link href="/2024/09/18/APP%E9%80%86%E5%90%91%E4%B9%8BFrida%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"/>
      <url>/2024/09/18/APP%E9%80%86%E5%90%91%E4%B9%8BFrida%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey">Frida 代码自动补全<br>```bash<br>npm install --save @types/frida-gum<br></code></pre></td></tr></table></figure><p>安装Frida</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install frida-tools<br>pip install objection<br></code></pre></td></tr></table></figure><p>找到相应版本的Frida 推送到设备中</p><p><a href="https://github.com/frida/frida/releases/tag/16.5.1">https://github.com/frida/frida/releases/tag/16.5.1</a></p><p><img src="https://s2.loli.net/2024/09/18/yqCbzJ1QaZfipFn.png"></p><p>命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb push frida-server16.5.1 /data/local/frida-server16.5.1<br></code></pre></td></tr></table></figure><h2 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h2><p>frida-tools里面还提供了五个实用工具<br>frida-discover、<br>frida-kill、<br>frida-ls-devices、<br>frida-ps以及<br>frida-trace<br>在 shims下面</p><p><strong>获取可用设备列表</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">frida-ls-devices<br></code></pre></td></tr></table></figure><p><strong>获取设备进程列表</strong><br>frida-ps [options] </p><p>● -U：连接到USB设备。<br>● -D：如果有多个USB设备，可以用该选项指定设备的UDID。<br>● -R&#x2F;-H：连接到远程frida-server，主要用于远程调试。<br>● -a：仅显示正在运行的应用。<br>● -i：显示所有已安装的应用（包括App Store应用和系统应用）。 </p><p>具体demo:</p><ul><li>连接到USB设备查看进程列表  frida-ps -U </li><li>连接到USB设备查看正在运行的应用  frida-ps -U -a </li><li>连接到USB设备查看所有安装的应用  frida-ps -U -a -i  </li><li>指定查看某个设备  frida-ps -D xxxx -a</li></ul><p>遇到的坑：</p><ol><li>windows上frida环境配置出现Waiting for USB device to appear…<br>解决：<br>运行下面代码</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb forward tcp:27042 tcp:27042<br>frida-ps -H 127.0.0.1:27042<br></code></pre></td></tr></table></figure><p><strong>结束设备的某个进程</strong><br>frida-kill工具用来结束设备上的某个进程，它的使用规则如下:  </p><ul><li>frida-kill -U <PID>&#x2F;<Name> </li><li>frida-kill -D <DEVICE-ID> <PID>&#x2F;<NAME></li></ul><p>例如用frida-ps获取了微信的PID为1815，</p><p>则可以用如下命令结束它：  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">frida-kill -U 1815  <br>frida-kill -U 微信  <br>frida-kill -D xxxx 1815  <br>frida-kill -D xxxx 微信<br></code></pre></td></tr></table></figure><p><strong>frida 追踪</strong></p><blockquote><p><a href="https://frida.re/docs/frida-trace/">https://frida.re/docs/frida-trace/</a></p></blockquote><p>frida-trace工具用于跟踪函数或方法的调用，其功能非常强大，使用“-h”选项来查看帮助信息。</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs elixir">// 设备相关<br>-D  连接到指定的设备，多个设备时使用。示例<span class="hljs-symbol">:frida-trace</span> -D <span class="hljs-number">555315</span>d66cac2d5849408f53da9eea514a90547e -F <br>-U  连接到<span class="hljs-title class_">USB</span>设备，只有一个设备时使用。示例fria-trace -U -F<br><br>// 应用程序相关<br>-f  目标应用包名。spawn模式。示例<span class="hljs-symbol">:frida-trace</span> -U -f com.apple.www<br>-F  当前正在运行的程序。attach模式示例。示例<span class="hljs-symbol">:frida-trace</span> -U -F或frida-trae -<span class="hljs-title class_">UF</span><br>-n  正在运行的程序的名字。attach模式。示例<span class="hljs-symbol">:frida-trace</span> -U -n <span class="hljs-title class_">QQ</span><br>-N  正在运行的程序的包名。attach模式。示例<span class="hljs-symbol">:frida-trace</span> -U -N com.apple.www<br>-p  正在运行的程序的pid。attach模式。示例<span class="hljs-symbol">:frida-trace</span> -U -p <span class="hljs-number">2302</span><br>  <br>// 方法相关，以下参数在一条跟踪命令中可重复使用<br>-I  包含模块。示例<span class="hljs-symbol">:frida-trace</span> -<span class="hljs-title class_">UF</span> -I <span class="hljs-string">&quot;libcommonCrypto*&quot;</span><br>-X  不包含模块。示例<span class="hljs-symbol">:frida-trace</span> -<span class="hljs-title class_">UF</span> -X <span class="hljs-string">&quot;libcommonCrypto*&quot;</span><br>-i   包含c函数。示例<span class="hljs-symbol">:frida-trace</span> -<span class="hljs-title class_">UF</span> -i <span class="hljs-string">&quot;strtsr&quot;</span><br>-x   不包名c函数。示例<span class="hljs-symbol">:frida-trace</span> -<span class="hljs-title class_">UF</span> -i <span class="hljs-string">&quot;*MD5&quot;</span> -x <span class="hljs-string">&quot;CC_MD5&quot;</span><br>-a   包含模块+偏移跟踪。示例<span class="hljs-symbol">:frida-trace</span> -<span class="hljs-title class_">UF</span> -a 模块名\!<span class="hljs-number">0x7B7D48</span> <br>-j  包含某个<span class="hljs-title class_">Java</span>方法 实列frida-trace -<span class="hljs-title class_">UF</span>  -j <span class="hljs-string">&#x27;*!*tesucanshu*/isu&#x27;</span><br> !用来分隔<span class="hljs-title class_">MODULE</span>和<span class="hljs-title class_">OFFSET</span>，例如<span class="hljs-string">&quot;gdi32full.dll!ExtTextOutW&quot;</span><br> *代表匹配任意内容<br><br>-J  包含某个<span class="hljs-title class_">Java</span>方法 实列frida-trace -<span class="hljs-title class_">UF</span>  -J <span class="hljs-string">&#x27;*!*tesucanshu*/isu&#x27;</span><br><br>  <br>// 日志相关<br>-o  日志输出到文件。示例<span class="hljs-symbol">:frida-trace</span> -<span class="hljs-title class_">UF</span> -j <span class="hljs-string">&#x27;*!*tesucanshu*/isu&#x27;</span> -o run.log<br></code></pre></td></tr></table></figure><p>附加的两种方式</p><p>1.Attach模式</p><blockquote><p> 前台打开APP: </p><p> frida -UF -l 脚本.js</p></blockquote><p>2.Spwan模式</p><blockquote><pre><code>frida -U -f 包名 %resume可以加 --no-pause但是在 16的版本已经取消 --no-pause 具体命令自行研究</code></pre></blockquote><p>另外需要一点JS和python语法基础</p><h1 id="Hook-构造函数"><a href="#Hook-构造函数" class="headerlink" title="Hook 构造函数"></a>Hook 构造函数</h1><h2 id="常用API"><a href="#常用API" class="headerlink" title="常用API:"></a>常用API:</h2><blockquote><p>​是一个非常重要的对象，在里面有许多的API。在对Java层进行hook时，是必须要写Java.perform的。</p></blockquote><h3 id="Java-perform"><a href="#Java-perform" class="headerlink" title="Java.perform"></a>Java.perform</h3><blockquote><p><code>Java.perform（fn）</code>主要用于当前线程附加到<code>Java VM</code>并且调用<code>fn</code>方法</p></blockquote><h3 id="Java-available"><a href="#Java-available" class="headerlink" title="Java.available"></a>Java.available</h3><blockquote><p>该函数一般用来判断当前进程是否加载了<code>JavaVM，Dalvik</code>或<code>ART</code>虚拟机   通俗一点讲是否在Java代码空间</p></blockquote><h3 id="Java-androidVersion"><a href="#Java-androidVersion" class="headerlink" title="Java.androidVersion"></a>Java.androidVersion</h3><blockquote><p>显示android系统版本号</p></blockquote><h3 id="Java-use"><a href="#Java-use" class="headerlink" title="Java.use"></a>Java.use</h3><blockquote><p><code>Java.use(className)，</code>动态获取<code>className</code>的类定义  类似于xposed里面的获取Class   可以直接点到源代码看他的定义</p></blockquote><h3 id="Java-use-类名-方法名-implementation"><a href="#Java-use-类名-方法名-implementation" class="headerlink" title="Java.use(类名).方法名.implementation"></a>Java.use(类名).方法名.implementation</h3><blockquote><p>获取方法的实现</p></blockquote><h3 id="overload"><a href="#overload" class="headerlink" title="overload"></a>overload</h3><blockquote><p>重载参数</p></blockquote><h3 id="init"><a href="#init" class="headerlink" title=".$init()"></a>.$init()</h3><blockquote><p>拦截构造函数时候使用</p></blockquote><h3 id="立即注入或者延迟注入"><a href="#立即注入或者延迟注入" class="headerlink" title="立即注入或者延迟注入"></a>立即注入或者延迟注入</h3><blockquote><p>setImmediate(test);<br>setInterval(test,1000);</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">perform</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Java</span>.<span class="hljs-property">available</span>) &#123;<br>            <span class="hljs-keyword">var</span> <span class="hljs-title class_">Person</span>_class = <span class="hljs-title class_">Java</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&quot;com.example.hookdemo.Person&quot;</span>);<br><br>            <span class="hljs-comment">//hook构造函数</span><br>            <span class="hljs-title class_">Person</span>_class.<span class="hljs-property">$init</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;java.lang.String&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a1, a2, a3</span>) &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a1, a2, a3);<br>                <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.$init(a1, a2, a3);<br>                <span class="hljs-keyword">return</span> result;<br><br>            &#125;<br><br>            <span class="hljs-comment">//查看参数</span><br>            <span class="hljs-title class_">Person</span>_class.<span class="hljs-property">setAddress</span>.<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">address</span>) &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;address=&gt;&quot;</span>, address);<br>                <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setAddress</span>(<span class="hljs-string">&quot;address&quot;</span>);<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;result=&gt;&quot;</span>, result);<br>                <span class="hljs-keyword">return</span> result;<br>            &#125;<br><br>            <span class="hljs-comment">//查看返回值</span><br>            <span class="hljs-title class_">Person</span>_class.<span class="hljs-property">getName</span>.<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getName</span>();<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;result=&gt;&quot;</span>, result);<br>                <span class="hljs-keyword">return</span> result;<br>            &#125;<br><br><br>            <span class="hljs-comment">//重载函数</span><br>            <span class="hljs-title class_">Person</span>_class.<span class="hljs-property">print</span>.<span class="hljs-title function_">overload</span>(<span class="hljs-string">&#x27;java.lang.String&#x27;</span>, <span class="hljs-string">&#x27;int&#x27;</span>, <span class="hljs-string">&#x27;java.lang.String&#x27;</span>).<span class="hljs-property">implementation</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">a1, a2, a3</span>) &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a1, a2, a3);<br>                <span class="hljs-keyword">var</span> result = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">print</span>(a1, a2, a3);<br>                <span class="hljs-keyword">return</span> result;<br>            &#125;<br>        &#125;<br>    &#125;)<br>&#125;<br><br><span class="hljs-title function_">setImmediate</span>(main)<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 安卓逆向基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>某团新版Web mtgsig1.2 算法分析</title>
      <link href="/2024/09/11/%E6%9F%90%E5%9B%A2%E6%96%B0%E7%89%88Web%20mtgsig/"/>
      <url>/2024/09/11/%E6%9F%90%E5%9B%A2%E6%96%B0%E7%89%88Web%20mtgsig/</url>
      
        <content type="html"><![CDATA[<h1 id="某团新版Web-mtgsig1-2-算法解析"><a href="#某团新版Web-mtgsig1-2-算法解析" class="headerlink" title="某团新版Web mtgsig1.2 算法解析"></a>某团新版Web mtgsig1.2 算法解析</h1><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>算法和环境更新了一下。某些接口请求几次就强校验了。今天简单来看看。</p><h1 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h1><p>首先AST解混淆，把代码中b函数给解出来就行了。非常简单。</p><p>后面解完之后发现 环境代码非常之多。</p><p>这里算了。我补了一天最后还差了200多位。这里正常应该是476位。</p><p>这里就不多B了。之间开撸。</p><p>这里其实就是一个VMP。</p><p>层层入栈 直接插桩</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">ki+<span class="hljs-number">1</span>,kg[<span class="hljs-string">&quot;getUint8&quot;</span>](ki+<span class="hljs-number">1</span>),kb<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/09/01/FoCdXHZzsxeMQA7.png"></p><p>保存打印的日志。</p><p>​</p><h1 id="a3"><a href="#a3" class="headerlink" title="a3"></a>a3</h1><p><img src="https://s2.loli.net/2024/09/01/Fn5MoQSGdZvkrtj.png"></p><p><img src="https://s2.loli.net/2024/09/01/fwsNncSl2CTHtqp.png"></p><p>之间搜索dfpID的位置。</p><p><img src="https://s2.loli.net/2024/09/01/lNhYBAeDIGUnup9.png"></p><p>扣完 a3 即生成。</p><h1 id="a5"><a href="#a5" class="headerlink" title="a5"></a>a5</h1><p>然后找到位置再插一波</p><p>如下图</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">kR[<span class="hljs-string">&quot;apply&quot;</span>](kS, kP)<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/09/01/iyFhOoZCx6mupGj.png"></p><p>这里 可以看见 数组转换成字符串。那我们两个断点一起打着看看。</p><p><img src="https://s2.loli.net/2024/09/01/DFLAk84clR2UyYt.png"></p><p>这里重新插一下一开始的位置</p><p><img src="https://s2.loli.net/2024/09/01/nvcAzBQ8jCUlI4t.png"></p><p>单步进栈。发现又是一个 switch 流程</p><p>那继续插</p><p><img src="https://s2.loli.net/2024/09/01/fPR7Yy3ZDo1uKxO.png"></p><p>OK。那就继续插</p><p><img src="https://s2.loli.net/2024/09/01/Nzx85qjJWCT9sym.png"></p><p>定位到下图位置 单步调试跟栈</p><p><img src="https://s2.loli.net/2024/09/01/J2hiGVuks4QKzo5.png"></p><p>如下图 扣下来即可。后面就是考虑动态数组的问题了。</p><p><img src="https://s2.loli.net/2024/09/01/k8ZtdMx7Rs6zfuW.png"></p><p>即lI，lJ,lK 三个值。那又要插装。</p><p>这里重新插装要打印全部值。</p><p>这里找到 0,1,2,3,4 …256的地方。</p><p>重新插</p><p><img src="https://s2.loli.net/2024/09/01/rM3msoDkWTb7njy.png"></p><p>这里动态数组。我们JSON.stringify 来分析下。</p><p>这里分析如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs javascript">origin_arr = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>, <span class="hljs-number">16</span>, <span class="hljs-number">17</span>, <span class="hljs-number">18</span>, <span class="hljs-number">19</span>, <span class="hljs-number">20</span>, <span class="hljs-number">21</span>, <span class="hljs-number">22</span>, <span class="hljs-number">23</span>, <span class="hljs-number">24</span>, <span class="hljs-number">25</span>, <span class="hljs-number">26</span>, <span class="hljs-number">27</span>, <span class="hljs-number">28</span>, <span class="hljs-number">29</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">32</span>, <span class="hljs-number">33</span>, <span class="hljs-number">34</span>, <span class="hljs-number">35</span>, <span class="hljs-number">36</span>, <span class="hljs-number">37</span>, <span class="hljs-number">38</span>, <span class="hljs-number">39</span>, <span class="hljs-number">40</span>, <span class="hljs-number">41</span>, <span class="hljs-number">42</span>, <span class="hljs-number">43</span>, <span class="hljs-number">44</span>, <span class="hljs-number">45</span>, <span class="hljs-number">46</span>, <span class="hljs-number">47</span>, <span class="hljs-number">48</span>, <span class="hljs-number">49</span>, <span class="hljs-number">50</span>, <span class="hljs-number">51</span>, <span class="hljs-number">52</span>, <span class="hljs-number">53</span>, <span class="hljs-number">54</span>, <span class="hljs-number">55</span>, <span class="hljs-number">56</span>, <span class="hljs-number">57</span>, <span class="hljs-number">58</span>, <span class="hljs-number">59</span>, <span class="hljs-number">60</span>, <span class="hljs-number">61</span>, <span class="hljs-number">62</span>, <span class="hljs-number">63</span>, <span class="hljs-number">64</span>, <span class="hljs-number">65</span>, <span class="hljs-number">66</span>, <span class="hljs-number">67</span>, <span class="hljs-number">68</span>, <span class="hljs-number">69</span>, <span class="hljs-number">70</span>, <span class="hljs-number">71</span>, <span class="hljs-number">72</span>, <span class="hljs-number">73</span>, <span class="hljs-number">74</span>, <span class="hljs-number">75</span>, <span class="hljs-number">76</span>, <span class="hljs-number">77</span>, <span class="hljs-number">78</span>, <span class="hljs-number">79</span>, <span class="hljs-number">80</span>, <span class="hljs-number">81</span>, <span class="hljs-number">82</span>, <span class="hljs-number">83</span>, <span class="hljs-number">84</span>, <span class="hljs-number">85</span>, <span class="hljs-number">86</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">89</span>, <span class="hljs-number">90</span>, <span class="hljs-number">91</span>, <span class="hljs-number">92</span>, <span class="hljs-number">93</span>, <span class="hljs-number">94</span>, <span class="hljs-number">95</span>, <span class="hljs-number">96</span>, <span class="hljs-number">97</span>, <span class="hljs-number">98</span>, <span class="hljs-number">99</span>, <span class="hljs-number">100</span>, <span class="hljs-number">101</span>, <span class="hljs-number">102</span>, <span class="hljs-number">103</span>, <span class="hljs-number">104</span>, <span class="hljs-number">105</span>, <span class="hljs-number">106</span>, <span class="hljs-number">107</span>, <span class="hljs-number">108</span>, <span class="hljs-number">109</span>, <span class="hljs-number">110</span>, <span class="hljs-number">111</span>, <span class="hljs-number">112</span>, <span class="hljs-number">113</span>, <span class="hljs-number">114</span>, <span class="hljs-number">115</span>, <span class="hljs-number">116</span>, <span class="hljs-number">117</span>, <span class="hljs-number">118</span>, <span class="hljs-number">119</span>, <span class="hljs-number">120</span>, <span class="hljs-number">121</span>, <span class="hljs-number">122</span>, <span class="hljs-number">123</span>, <span class="hljs-number">124</span>, <span class="hljs-number">125</span>, <span class="hljs-number">126</span>, <span class="hljs-number">127</span>, <span class="hljs-number">128</span>, <span class="hljs-number">129</span>, <span class="hljs-number">130</span>, <span class="hljs-number">131</span>, <span class="hljs-number">132</span>, <span class="hljs-number">133</span>, <span class="hljs-number">134</span>, <span class="hljs-number">135</span>, <span class="hljs-number">136</span>, <span class="hljs-number">137</span>, <span class="hljs-number">138</span>, <span class="hljs-number">139</span>, <span class="hljs-number">140</span>, <span class="hljs-number">141</span>, <span class="hljs-number">142</span>, <span class="hljs-number">143</span>, <span class="hljs-number">144</span>, <span class="hljs-number">145</span>, <span class="hljs-number">146</span>, <span class="hljs-number">147</span>, <span class="hljs-number">148</span>, <span class="hljs-number">149</span>, <span class="hljs-number">150</span>, <span class="hljs-number">151</span>, <span class="hljs-number">152</span>, <span class="hljs-number">153</span>, <span class="hljs-number">154</span>, <span class="hljs-number">155</span>, <span class="hljs-number">156</span>, <span class="hljs-number">157</span>, <span class="hljs-number">158</span>, <span class="hljs-number">159</span>, <span class="hljs-number">160</span>, <span class="hljs-number">161</span>, <span class="hljs-number">162</span>, <span class="hljs-number">163</span>, <span class="hljs-number">164</span>, <span class="hljs-number">165</span>, <span class="hljs-number">166</span>, <span class="hljs-number">167</span>, <span class="hljs-number">168</span>, <span class="hljs-number">169</span>, <span class="hljs-number">170</span>, <span class="hljs-number">171</span>, <span class="hljs-number">172</span>, <span class="hljs-number">173</span>, <span class="hljs-number">174</span>, <span class="hljs-number">175</span>, <span class="hljs-number">176</span>, <span class="hljs-number">177</span>, <span class="hljs-number">178</span>, <span class="hljs-number">179</span>, <span class="hljs-number">180</span>, <span class="hljs-number">181</span>, <span class="hljs-number">182</span>, <span class="hljs-number">183</span>, <span class="hljs-number">184</span>, <span class="hljs-number">185</span>, <span class="hljs-number">186</span>, <span class="hljs-number">187</span>, <span class="hljs-number">188</span>, <span class="hljs-number">189</span>, <span class="hljs-number">190</span>, <span class="hljs-number">191</span>, <span class="hljs-number">192</span>, <span class="hljs-number">193</span>, <span class="hljs-number">194</span>, <span class="hljs-number">195</span>, <span class="hljs-number">196</span>, <span class="hljs-number">197</span>, <span class="hljs-number">198</span>, <span class="hljs-number">199</span>, <span class="hljs-number">200</span>, <span class="hljs-number">201</span>, <span class="hljs-number">202</span>, <span class="hljs-number">203</span>, <span class="hljs-number">204</span>, <span class="hljs-number">205</span>, <span class="hljs-number">206</span>, <span class="hljs-number">207</span>, <span class="hljs-number">208</span>, <span class="hljs-number">209</span>, <span class="hljs-number">210</span>, <span class="hljs-number">211</span>, <span class="hljs-number">212</span>, <span class="hljs-number">213</span>, <span class="hljs-number">214</span>, <span class="hljs-number">215</span>, <span class="hljs-number">216</span>, <span class="hljs-number">217</span>, <span class="hljs-number">218</span>, <span class="hljs-number">219</span>, <span class="hljs-number">220</span>, <span class="hljs-number">221</span>, <span class="hljs-number">222</span>, <span class="hljs-number">223</span>, <span class="hljs-number">224</span>, <span class="hljs-number">225</span>, <span class="hljs-number">226</span>, <span class="hljs-number">227</span>, <span class="hljs-number">228</span>, <span class="hljs-number">229</span>, <span class="hljs-number">230</span>, <span class="hljs-number">231</span>, <span class="hljs-number">232</span>, <span class="hljs-number">233</span>, <span class="hljs-number">234</span>, <span class="hljs-number">235</span>, <span class="hljs-number">236</span>, <span class="hljs-number">237</span>, <span class="hljs-number">238</span>, <span class="hljs-number">239</span>, <span class="hljs-number">240</span>, <span class="hljs-number">241</span>, <span class="hljs-number">242</span>, <span class="hljs-number">243</span>, <span class="hljs-number">244</span>, <span class="hljs-number">245</span>, <span class="hljs-number">246</span>, <span class="hljs-number">247</span>, <span class="hljs-number">248</span>, <span class="hljs-number">249</span>, <span class="hljs-number">250</span>, <span class="hljs-number">251</span>, <span class="hljs-number">252</span>, <span class="hljs-number">253</span>, <span class="hljs-number">254</span>, <span class="hljs-number">255</span>]<br><br><br><span class="hljs-comment">// 需要与之运算的16位数组</span><br>encrypt_arr = [<span class="hljs-number">152</span>, <span class="hljs-number">232</span>, <span class="hljs-number">186</span>, <span class="hljs-number">109</span>, <span class="hljs-number">125</span>, <span class="hljs-number">188</span>, <span class="hljs-number">249</span>, <span class="hljs-number">229</span>, <span class="hljs-number">95</span>, <span class="hljs-number">58</span>, <span class="hljs-number">250</span>, <span class="hljs-number">230</span>, <span class="hljs-number">169</span>, <span class="hljs-number">75</span>, <span class="hljs-number">115</span>, <span class="hljs-number">56</span>]<br><br><br><span class="hljs-comment">// 第一个</span><br><span class="hljs-comment">// 152+0 = 152   152 = 152+0  232 第一个数组</span><br><span class="hljs-number">152</span> + <span class="hljs-number">31</span><br><br><span class="hljs-number">1</span><br><span class="hljs-comment">// 结果</span><br><span class="hljs-number">183</span><br><br><span class="hljs-comment">// 第二个</span><br><span class="hljs-comment">// 184+232 = 416   184 = 183+1  232 第二个数组</span><br><span class="hljs-number">416</span> + <span class="hljs-number">31</span><br><span class="hljs-number">447</span> - <span class="hljs-number">256</span> || <span class="hljs-number">447</span> % <span class="hljs-number">256</span><br><span class="hljs-comment">// 结果</span><br><span class="hljs-number">191</span><br><br><br><span class="hljs-comment">// 第三个</span><br><span class="hljs-comment">// 193+186   191+2  186 第三个数组</span><br><span class="hljs-number">379</span> + <span class="hljs-number">31</span><br><span class="hljs-number">410</span> - <span class="hljs-number">256</span> || <span class="hljs-number">410</span> % <span class="hljs-number">256</span><br><span class="hljs-comment">// 结果</span><br><span class="hljs-number">154</span><br><br><br><span class="hljs-comment">// 第四个</span><br><span class="hljs-comment">// 157 + 109  154+3    109 第四个数组</span><br><span class="hljs-number">266</span> + <span class="hljs-number">31</span><br><span class="hljs-number">297</span> - <span class="hljs-number">256</span> || <span class="hljs-number">297</span> * <span class="hljs-number">256</span><br><span class="hljs-comment">// 结果</span><br><span class="hljs-number">41</span><br><br><span class="hljs-comment">// ==== ..... 一组轮询完毕</span><br><br><span class="hljs-comment">// 第16个</span><br><span class="hljs-comment">// 231 + 56   216 + 15  56 第15个数组</span><br><span class="hljs-number">287</span> + <span class="hljs-number">31</span><br><span class="hljs-number">318</span> - <span class="hljs-number">256</span> || <span class="hljs-number">318</span> % <span class="hljs-number">256</span><br><span class="hljs-comment">// 结果</span><br><span class="hljs-number">62</span><br><br><span class="hljs-comment">// 第17个</span><br><span class="hljs-comment">// 78+152     62+16   152 第1个数组</span><br><span class="hljs-number">230</span> + <span class="hljs-number">31</span><br><br><span class="hljs-number">261</span> - <span class="hljs-number">256</span> || <span class="hljs-number">318</span> % <span class="hljs-number">256</span><br></code></pre></td></tr></table></figure><p>这里直接保姆级教学了。</p><p>然后就可以整合算法了。</p><p>这里有个小坑~~~ 留着先自己弄弄</p><p>这里还有个地方 就是与之运算的16位数组了。</p><p>这个地方继续如下图插装</p><p><img src="https://s2.loli.net/2024/09/12/B5OXj82IoEUzFqe.png"></p><p>然后插装 13 39 </p><p><img src="https://s2.loli.net/2024/09/12/kJyH6KYDROt9pPC.png"></p><p>然后发现 这一层是上一层kr &#x3D; kR[&quot;apply”](kS, kP) 生成的。</p><p>所以继续插装 这个位置的length</p><p>最后走到这个位置。</p><p>这里发现。有传参的两个值。第一个 是一串类似于hash加密的。</p><p>第二端是把这个值转换成数组。这个直接抠出来就可以。</p><p><img src="https://s2.loli.net/2024/09/13/G3NVyLHx5uzZIiX.png"></p><p>这里继续回去看最外层的日志。</p><p>这里直接贴3张图。一眼就能看懂</p><p><img src="https://s2.loli.net/2024/09/13/qF9vdimx8ycJHlQ.png"></p><p><img src="https://s2.loli.net/2024/09/13/FvWiS4u8zRQ2Lkl.png"></p><p><img src="https://s2.loli.net/2024/09/13/zuXo78ephOGHZNi.png"></p><p>至此的话。a5就算是搞定了。</p><h1 id="a6"><a href="#a6" class="headerlink" title="a6"></a>a6</h1><p>直接老样子 根据日志 去插装</p><p><img src="https://s2.loli.net/2024/09/13/bGpDuJynCiHgANw.png"></p><p>最后瞎JB一顿乱找 和 乱猜</p><p>定位点如下图所示</p><p><img src="https://s2.loli.net/2024/09/13/5cadXL6VWbYZAke.png"></p><p>OK 这个函数直接缺啥扣啥。确实感觉没什么写的。</p><p>至此 a3 a5 a6 全部搞定。</p><p><img src="https://s2.loli.net/2024/09/14/GRQLv68qbyUgEY3.png"></p><p>后面拼出来就行了。</p><p>然后找几个关键校验的接口 这里我用的是某Boking 去测试的。至于 还有a8 和 d1 。。 只能说待续</p><p><img src="https://s2.loli.net/2024/09/14/DkvWtXI8MrfYKR2.png"></p>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>如何在Linux 安装node</title>
      <link href="/2024/09/09/%E5%A6%82%E4%BD%95%E5%9C%A8Linux%20%E5%AE%89%E8%A3%85node/"/>
      <url>/2024/09/09/%E5%A6%82%E4%BD%95%E5%9C%A8Linux%20%E5%AE%89%E8%A3%85node/</url>
      
        <content type="html"><![CDATA[<h1 id="如何在Linux-安装node"><a href="#如何在Linux-安装node" class="headerlink" title="如何在Linux 安装node"></a>如何在Linux 安装node</h1><p>之前说过 NVM安装node 非常方便。但是在某些环境上 安装NVM 会一直卡住不动。非常头疼。</p><p>这里直接安装Node</p><h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><p><a href="https://nodejs.cn/download/">下载 | Node.js 中文网 (nodejs.cn)</a></p><p>选择 文中的 <strong>Linux 二进制文件 (x64)</strong></p><p>右击 复制链接 </p><p><img src="https://s2.loli.net/2024/09/09/3d8jFrSKDNvs5pa.png"></p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>直接 wget 下载链接</p><p> <img src="https://s2.loli.net/2024/09/09/vnRrQaoEWYFbZjs.png"></p><p>然后 执行如下命令</p><p>-C 是指定目录解压</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar -xvf node-v20.17.0-linux-x64.tar.xz -C /usr/local/bin<br></code></pre></td></tr></table></figure><p>重命名一下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mv</span> node-v20.17.0-linux-x64/ node-v20<br></code></pre></td></tr></table></figure><p>建立软连接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -sf /usr/local/bin/node-v20/bin/node /usr/local/bin/node<br><br><span class="hljs-built_in">ln</span> -sf /usr/local/bin/node-v20/bin/npm /usr/local/bin/npm<br></code></pre></td></tr></table></figure><p>如果报错就</p><p>把 <strong>-s</strong> 命令修改成 <strong>-sf</strong> 命令；<strong>-f</strong> 命令的意思是强制执行，也就意味着如果不存在就执行创建，存在就执行覆盖掉</p><h1 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h1><p>编译环境文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">vim /etc/profile<br></code></pre></td></tr></table></figure><p>新增如下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> NODE_HOME=/usr/local/bin/node-v20/bin<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$NODE_HOME</span>:/usr/local/bin/<br></code></pre></td></tr></table></figure><p>然后刷新配置</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> /etc/profile<br></code></pre></td></tr></table></figure><h1 id="完成"><a href="#完成" class="headerlink" title="完成"></a>完成</h1><p>然后执行Node ~ 直接大功告成。 怎么说~~</p><p><img src="https://s2.loli.net/2024/09/09/VtXqJUNWaY1lekQ.png"></p>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>plasmo框架</title>
      <link href="/2024/09/07/plasmo%E6%A1%86%E6%9E%B6/"/>
      <url>/2024/09/07/plasmo%E6%A1%86%E6%9E%B6/</url>
      
        <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>plasmo 是一个用于构建浏览器扩展的框架，它基于 React 和 TypeScript，提供了一套简单易用的 API，可以帮助开发者快速构建功能丰富的浏览器扩展。<br>plasmo 的主要特点包括：跨平台支持、模块化开发、丰富的插件系统等。通过使用 plasmo，开发者可以轻松地创建出具有强大功能的浏览器扩展，例如：广告拦截器、密码管理器、翻译工具等。</p><h2 id="安装器安装"><a href="#安装器安装" class="headerlink" title="安装器安装"></a>安装器安装</h2><p>这里使用 pnpm 安装</p><p>pnpm安装<br>在powershell中执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">Invoke-WebRequest https://get.pnpm.io/install.ps1 -UseBasicParsing | Invoke-Expression<br></code></pre></td></tr></table></figure><p>直接拉github 可能比较慢</p><p>也可以在npm中安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g pnpm<br><span class="hljs-comment"># 或者</span><br>npm install -g @pnpm/exe<br></code></pre></td></tr></table></figure><p>兼容性<br>以下是各版本 pnpm 与各版本 Node.js 之间的兼容性表格。</p><table><thead><tr><th>Node.js</th><th>pnpm 7</th><th>pnpm 8</th><th>pnpm 9</th></tr></thead><tbody><tr><td>Node.js 12</td><td>❌</td><td>❌</td><td>❌</td></tr><tr><td>Node.js 14</td><td>✔️</td><td>❌</td><td>❌</td></tr><tr><td>Node.js 16</td><td>✔️</td><td>✔️</td><td>❌</td></tr><tr><td>Node.js 18</td><td>✔️</td><td>✔️</td><td>✔️</td></tr><tr><td>Node.js 20</td><td>✔️</td><td>✔️</td><td>✔️</td></tr></tbody></table><h2 id="项目安装"><a href="#项目安装" class="headerlink" title="项目安装"></a>项目安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">pnpm create plasmo<br><br>yarn create plasmo<br><br>npm create plasmo<br></code></pre></td></tr></table></figure><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">plasmo create plasmo_study<br></code></pre></td></tr></table></figure><p>这里创建项目 输入自己的项目名 |描述|作者名</p><p><img src="https://s2.loli.net/2024/09/07/GSxYd87LOMf2P4k.png"></p><h2 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">plasmo dev<br></code></pre></td></tr></table></figure><h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><p><img src="https://s2.loli.net/2024/09/07/75IHzpOoKDyJLmN.png"></p><h2 id="manifest-json"><a href="#manifest-json" class="headerlink" title="manifest.json"></a>manifest.json</h2><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;manifest_version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;My Extension&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1.0&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;A simple extension&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;default_popup&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;popup/index.html&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;permissions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;storage&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;activeTab&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// 权限  </span><br>  <span class="hljs-attr">&quot;background&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-attr">&quot;service_worker&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;background/index.js&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;content_scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;matches&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;&lt;all_urls&gt;&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>      <span class="hljs-attr">&quot;js&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;content/index.js&quot;</span><span class="hljs-punctuation">]</span><br>    <span class="hljs-punctuation">&#125;</span><br>  <span class="hljs-punctuation">]</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="background"><a href="#background" class="headerlink" title="background"></a>background</h2><p>background 脚本用于处理扩展的后台逻辑，例如：监听浏览器事件、与浏览器通信等。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Plasmo</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@plasmo/core&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Plasmo</span>.<span class="hljs-title function_">registerBackground</span>(&#123;<br>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onInstall</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Extension installed&quot;</span>);<br>  &#125;,<br>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onUpdated</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Extension updated&quot;</span>);<br>  &#125;,<br>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onMessage</span>(<span class="hljs-params"><span class="hljs-attr">message</span>: <span class="hljs-built_in">any</span>, <span class="hljs-attr">sender</span>: <span class="hljs-built_in">any</span></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Message received:&quot;</span>, message);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Message received&quot;</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="content"><a href="#content" class="headerlink" title="content"></a>content</h2><p>content 脚本用于在网页中注入代码，例如：修改网页内容、添加事件监听等。</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Plasmo</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@plasmo/core&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Plasmo</span>.<span class="hljs-title function_">registerContent</span>(&#123;<br>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onDOMReady</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;DOM ready&quot;</span>);<br>  &#125;,<br>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onMessage</span>(<span class="hljs-params"><span class="hljs-attr">message</span>: <span class="hljs-built_in">any</span>, <span class="hljs-attr">sender</span>: <span class="hljs-built_in">any</span></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Message received:&quot;</span>, message);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Message received&quot;</span>;<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="popup"><a href="#popup" class="headerlink" title="popup"></a>popup</h2><p>popup 脚本用于创建扩展的弹出窗口，例如：显示扩展的界面、与用户交互等。</p><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">Plasmo</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@plasmo/core&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Plasmo</span>.<span class="hljs-title function_">registerPopup</span>(&#123;<br>  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello, Plasmo!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =&gt;</span> alert(&quot;Hello, Plasmo!&quot;)&#125;&gt;Click me<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    );<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>plasmo.config.ts</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ts"><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">PlasmoConfig</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@plasmo/core&quot;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PlasmoConfig</span>(&#123;<br>  <span class="hljs-comment">// 配置项</span><br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>plasmo 是一个功能强大的浏览器扩展开发框架，它提供了丰富的 API 和插件系统，可以帮助开发者快速构建出具有强大功能的浏览器扩展。通过使用 plasmo，开发者可以轻松地实现广告拦截、密码管理、翻译工具等功能，为用户提供更加便捷、安全的浏览体验。</p>]]></content>
      
      
      <categories>
          
          <category> 浏览器开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>浏览器插件开发</title>
      <link href="/2024/09/05/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
      <url>/2024/09/05/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<p>本文参考文档:  <a href="https://www.yuque.com/tuntun-nozomi/gurht0">浏览器插件开发教程文档 (yuque.com)</a> </p><h1 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h1><ul><li>manifest.json</li><li>service worker</li><li>content scripts</li><li>插件页面</li></ul><h1 id="manifest-json"><a href="#manifest-json" class="headerlink" title="manifest.json"></a>manifest.json</h1><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-comment">// 必须的</span><br>  <span class="hljs-attr">&quot;manifest_version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;插件名称&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;版本&quot;</span><span class="hljs-punctuation">,</span><br><br>  <span class="hljs-comment">// 常用</span><br>  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;插件描述&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;author&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;作者名&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;background&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> <span class="hljs-comment">// 配置service worker</span><br>  <span class="hljs-attr">&quot;service_worker&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;background.js&quot;</span><br> <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br> <span class="hljs-attr">&quot;options_ui&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> <span class="hljs-comment">// 配置options页面</span><br>  <span class="hljs-attr">&quot;page&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;options.html&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;open_in_tab&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br> <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br> <span class="hljs-attr">&quot;content_scripts&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// 配置content scripts</span><br>  <span class="hljs-punctuation">&#123;</span><br>   <span class="hljs-attr">&quot;matches&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;*://www.baidu.com/*&quot;</span><br>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;js&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;test.js&quot;</span><br>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;all_frames&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;css&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><br> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br> <span class="hljs-attr">&quot;web_accessible_resources&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// 配置Web可访问资源</span><br>  <span class="hljs-punctuation">&#123;</span><br>   <span class="hljs-attr">&quot;matches&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;*://www.baidu.com/*&quot;</span><br>   <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;resources&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><br>    <span class="hljs-string">&quot;test.css&quot;</span><br>   <span class="hljs-punctuation">]</span><br>  <span class="hljs-punctuation">&#125;</span><br> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br> <span class="hljs-attr">&quot;host_permissions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// 与主机权限相关，推荐使用同样的设置</span><br>  <span class="hljs-string">&quot;https://*/*&quot;</span><br> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br> <span class="hljs-attr">&quot;permissions&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-comment">// 配置插件所使用的api权限</span><br>  <span class="hljs-string">&quot;storage&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-string">&quot;contextMenus&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-string">&quot;cookies&quot;</span><br> <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br> <span class="hljs-attr">&quot;action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span> <span class="hljs-comment">// 使用action api配置插件工具栏中图标、弹出页面等内容</span><br>  <span class="hljs-attr">&quot;default_icon&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>   <span class="hljs-attr">&quot;16&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon16.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;32&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon32.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;48&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon48.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;64&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon64.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;128&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon128.png&quot;</span><br>  <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;default_popup&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;popup.html&quot;</span><span class="hljs-punctuation">,</span><br>    <span class="hljs-attr">&quot;icons&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-attr">&quot;16&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon16.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;32&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon32.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;48&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon48.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;64&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon64.png&quot;</span><span class="hljs-punctuation">,</span><br>   <span class="hljs-attr">&quot;128&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;icon128.png&quot;</span><br>    <span class="hljs-punctuation">&#125;</span><br> <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h2 id="content-scripts"><a href="#content-scripts" class="headerlink" title="content scripts"></a>content scripts</h2><p>文档如下: <a href="https://developer.chrome.com/docs/extensions/mv3/content_scripts/">https://developer.chrome.com/docs/extensions/mv3/content_scripts/</a></p><p>content scripts只能使用部分的浏览器api，最常用的api为storage与runtime两个api。</p><table><thead><tr><th>配置项</th><th>详情</th><th></th></tr></thead><tbody><tr><td>matches</td><td>指定此内容脚本将被注入到哪些页面，详见<a href="https://developer.chrome.com/docs/extensions/mv3/match_patterns/">match_patterns</a></td><td></td></tr><tr><td>js</td><td>要注入匹配页面的 JavaScript 文件列表。它们按照它们在此数组中出现的顺序注入。</td><td></td></tr><tr><td>css</td><td>要注入匹配页面的 CSS 文件列表。在为页面构造或显示任何 DOM 之前，它们按照它们在此数组中出现的顺序注入。</td><td></td></tr><tr><td>all_frames</td><td>默认为<code>false</code>，表示仅匹配顶部框架。 如果指定<code>true</code>，它将注入所有框架，即使该框架不是选项卡中最顶层的框架。每个框架都独立检查 URL 要求，如果不满足 URL 要求，它不会注入子框架。</td><td></td></tr><tr><td>run_at</td><td>document_idle</td><td>参考：<a href="https://developer.chrome.com/docs/extensions/mv3/content_scripts/#run_time">运行</a></td></tr><tr><td>document_start</td><td></td><td></td></tr><tr><td>document_end</td><td></td><td></td></tr></tbody></table><h2 id="service-worker"><a href="#service-worker" class="headerlink" title="service worker"></a>service worker</h2><p>一个插件只能有一个service worker，可以在manifest配置type来使service worker声明为<code>ES Module</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">&quot;<span class="hljs-attribute">background</span>&quot;: &#123;<br>  &quot;service_worker&quot;: <span class="hljs-string">&quot;background.js&quot;</span>,<br>  <span class="hljs-string">&quot;type&quot;</span>: <span class="hljs-string">&quot;module&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>在background.js 中 设置如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">chrome.<span class="hljs-property">action</span>.<span class="hljs-property">onClicked</span>.<span class="hljs-title function_">addListener</span>(<span class="hljs-title function_">async</span> (tab) =&gt; &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tab);<br>    <span class="hljs-keyword">if</span> (tab.<span class="hljs-property">url</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;www.baidu.com&quot;</span>)) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;this is baidu page&quot;</span>);<br>        chrome.<span class="hljs-property">scripting</span>.<span class="hljs-title function_">executeScript</span>(&#123;<br>            <span class="hljs-attr">target</span>: &#123; <span class="hljs-attr">tabId</span>: tab.<span class="hljs-property">id</span> &#125;,<br>            <span class="hljs-attr">files</span>: [<span class="hljs-string">&#x27;exec.js&#x27;</span>],<br>            <span class="hljs-attr">world</span>:<span class="hljs-string">&quot;MAIN&quot;</span> <span class="hljs-comment">// 设置主环境</span><br>        &#125;);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;this is not baidu page&quot;</span>); <br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>上文意思是。点击这个图标 代表着 执行下面这个js 并且主环境</p><h2 id="Ul-elements"><a href="#Ul-elements" class="headerlink" title="Ul elements"></a>Ul elements</h2><p><a href="https://developer.chrome.com/docs/extensions/develop/ui?hl=zh-cn#additional_features">界面组件  | Chrome Extensions  | Chrome for Developers</a></p><p>样式很多 自己看</p><h2 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h2><p><a href="https://developer.chrome.com/docs/extensions/develop/ui?hl=zh-cn#additional_features">界面组件  | Chrome Extensions  | Chrome for Developers</a></p><p>由于content_scripts运行在网页中，而不是浏览器插件的环境，所以它需要一些特殊的方式来和浏览器插件的内容进行通信。</p><p>通信的方式包括用于一次性请求的简单通信和用于长期连接的长连接通信。</p><p>挨个传递通信</p>]]></content>
      
      
      <categories>
          
          <category> 浏览器开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>腾讯天御滑块流程逆向</title>
      <link href="/2024/09/05/%E8%85%BE%E8%AE%AF%E5%A4%A9%E5%BE%A1%E6%BB%91%E5%9D%97%E6%B5%81%E7%A8%8B%E9%80%86%E5%90%91/"/>
      <url>/2024/09/05/%E8%85%BE%E8%AE%AF%E5%A4%A9%E5%BE%A1%E6%BB%91%E5%9D%97%E6%B5%81%E7%A8%8B%E9%80%86%E5%90%91/</url>
      
        <content type="html"><![CDATA[<h1 id="目标网站"><a href="#目标网站" class="headerlink" title="目标网站"></a>目标网站</h1><blockquote><p>aHR0cHM6Ly90ZnoubWFveWFuLmNvbS95YW1haGEvdmVyaWZ5P3JlcXVlc3RDb2RlPThkMDQ3MThlODRmNjE4ZTU1ZDA1N2ZjMDNiODNjY2FkdWUycGImcmVkaXJlY3RVUkw9aHR0cHMlM0ElMkYlMkZ3d3cubWFveWFuLmNvbSUyRmNpbmVtYSUyRjE2MTE5JTNGcG9pJTNEMTA4NDQ5MTYxIy8&#x3D;</p></blockquote><h1 id="网站分析"><a href="#网站分析" class="headerlink" title="网站分析"></a>网站分析</h1><p>这里先全流程过一下。</p><p>在做这种验证码方面的东西。从后往上看。</p><p>这里滑块走的接口是 cap_union_new_verify</p><p>这个接口负载主要有5个参数类似或者是疑似加密的地方。</p><p>分别为</p><ol><li><strong>ua</strong></li><li><strong>sess</strong></li><li><strong>collect</strong></li><li><strong>eks</strong></li><li><strong>vData</strong></li></ol><p>这里经过分析可知</p><p>UA是由base64加密useragent生成的。</p><p>sess 是由接口返回的</p><p>collect加密 ——&gt; 需要分析</p><p>eks——&gt; 需要分析</p><p>vData——&gt; 需要分析</p><p>这里我们肯定知道大体的流程是</p><p><strong>返回接口值——&gt; 获取背景图片和缺口图片——&gt; 识别获得距离——&gt; 利用算法获取轨迹——&gt; 轨迹加密——&gt; 完成请求。</strong></p><p>那这里我们就来找一下图片</p><p>可以看到 这个图片也需要返回的sess。 继续网上找</p><p><img src="https://s2.loli.net/2024/06/10/EN74CSauDv1jRMV.png"></p><p>这里发现 两次请求的sess 还不一样。那就继续去看</p><p><img src="https://s2.loli.net/2024/06/10/ApVO2NFZJSsCzoG.png"></p><p><img src="https://s2.loli.net/2024/06/10/mSIuD13V5szChav.png"></p><p>这里重新调用下代码。补一下 yamaha&#x2F;verify 接口的JS</p><p>拼接得到 背景图和缺口图。进而得到距离。</p><p>然后就是考虑几个加密参数如何 生成了。</p><h1 id="参数生成分析"><a href="#参数生成分析" class="headerlink" title="参数生成分析"></a>参数生成分析</h1><p>如下图位置 。进JS网上找栈点。</p><p><img src="https://s2.loli.net/2024/06/10/cmatQ9yihK7DTjr.png"></p><p>然后如图位置打断点。看下生成值</p><p><img src="https://s2.loli.net/2024/06/10/RXpVfdETeugbYCD.png"></p><p>如图 就是collect生成位置。</p><p><img src="https://s2.loli.net/2024/06/10/lq9QXiEh7ZrkyBY.png"></p><p>这里先记住这个地方。先来分析下Vdata 和 eks</p><p><strong>eks生成处</strong></p><p><img src="https://s2.loli.net/2024/06/10/QN1gwKPE2W5Bofp.png"></p><p>追栈找。发现这个是l方法的info</p><p><img src="https://s2.loli.net/2024/06/10/5yBasUpnmFH4hto.png"></p><p>后经过多次单步调试。发现走的都是同一个接口</p><p>而这个接口 也是JSVMP的入口函数。包括collect的生成。</p><p><img src="https://s2.loli.net/2024/06/10/IUFjwsP4oQu56Hc.png"></p><p><strong>collect</strong></p><p>这里回头再来看看这个collect </p><p>单步调试进栈</p><p><img src="https://s2.loli.net/2024/06/10/TIAGX7obJ4nHxSw.png"></p><p>可以发现和上面的eks 走的同一个入口。</p><p><img src="https://s2.loli.net/2024/06/10/f9Xs1G2HqBx46bw.png"></p><p>这里话不多说。直接开补。</p><p>第一步：复制JS到浏览器 看看能否出值。</p><p>直接调用 window.TDC.getData(!0)</p><p><img src="https://s2.loli.net/2024/06/10/wcbACN84iEKDypR.png"></p><p>第二步： 去github 找个趁手的开源补环境框架（很重要，简单的确实补的不行。）</p><p>第三步： 复制到node 开补。</p><p>缺啥补啥。但是其中包含了</p><ol><li>对原型链的检测。</li><li>对dom链式调用的检测</li><li>对canvas 以及其原型链的调用</li><li>还有body以及div的一些检测。</li></ol><p>过掉这些 基本就能正确出值了。</p><p>但是正确出值 也只是不包含轨迹以及其他特定检测的出值。</p><p>这里我们补环境得到值。需要使用Dom去监听鼠标事件。</p><p>打开mouseup断点。然后单步进栈</p><p>如图位置打上日志断点。</p><p><img src="https://s2.loli.net/2024/06/10/5LO2NxbzpPyge63.png"></p><p>后面根据a.type 判断轨迹走向。</p><p>然后伪造轨迹 通过事件喂给JS。最终拿到最终的collect 以及其他的值。</p>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>从零实现JSVMP</title>
      <link href="/2024/08/23/%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0JSVMP/"/>
      <url>/2024/08/23/%E4%BB%8E%E9%9B%B6%E5%AE%9E%E7%8E%B0JSVMP/</url>
      
        <content type="html"><![CDATA[<h1 id="从零JSVMP"><a href="#从零JSVMP" class="headerlink" title="从零JSVMP"></a>从零JSVMP</h1><p>JSCode ——&gt; Ast——&gt; 指令 ——&gt; 执行指令</p><h1 id="简单的解释器"><a href="#简单的解释器" class="headerlink" title="简单的解释器"></a>简单的解释器</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>*<span class="hljs-number">5</span>+<span class="hljs-number">8</span>)<br></code></pre></td></tr></table></figure><ol><li>2*5</li><li>10+8</li><li>console.log(18)</li></ol><p>mul 2,5</p><p>add 10,8</p><p>print 18</p><p><strong>栈的形式</strong></p><blockquote><ol><li>push 2</li><li>push 5</li><li>mul</li><li>push 8</li><li>add</li><li>print</li></ol></blockquote><p>**栈： 先进后出 **</p><blockquote><ol><li>push</li><li>mul</li><li>add</li><li>print</li></ol></blockquote><p>得到指令集 &gt; [1,2,1,5,2,1,8,3,4]</p><p>2*5*8+2*3</p><p>得到指令集 &gt;  [1,2,1,5,2,1,8,2,1,2,1,3,2,3,4]</p>]]></content>
      
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSVMP逆向流程——QQ音乐</title>
      <link href="/2024/08/23/QQ%E9%9F%B3%E4%B9%90/"/>
      <url>/2024/08/23/QQ%E9%9F%B3%E4%B9%90/</url>
      
        <content type="html"><![CDATA[<h1 id="目标网站"><a href="#目标网站" class="headerlink" title="目标网站"></a>目标网站</h1><blockquote><p>aHR0cHM6Ly95LnFxLmNvbS8&#x3D;</p></blockquote><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>补环境 直接秒，搞过的可以划走\x7e，没事水一篇文章，很简单，只是自己确实算法搞得一般 就写个文章记录下。</p><h1 id="流程分析"><a href="#流程分析" class="headerlink" title="流程分析"></a>流程分析</h1><p>搜索sign:</p><p><img src="https://s2.loli.net/2024/08/25/edug9TaOszxbSlE.png"></p><p>进入n(350).default 这个栈</p><p><img src="https://s2.loli.net/2024/08/25/p2NFem5YHvJVEn1.png"></p><p>然后打日志点 &gt;&gt;&gt; 【”index&gt;&gt;&gt;&gt;&gt;&gt;”,g+1,”n[g+1]&gt;&gt;&gt;&gt;”,n[g+1],”d&gt;&gt;&gt;”,d】</p><p><img src="https://s2.loli.net/2024/08/25/k7CUu1A43jQ9ecT.png"></p><p><img src="https://s2.loli.net/2024/08/25/DXNxBie16gE2Rlp.png"></p><p>然后就可以保存日志去分析了。</p><p>保存几次日志+分析可知</p><p>这段加密代码分为三段</p><p><img src="https://s2.loli.net/2024/09/25/5beuFHifPSTBRvl.png"></p><ol><li>zzc是写死的</li><li>CBE27B5与 75DF5672算法一致</li><li>中间的这段fE0xfaKRxUTKwTNXZSbMCFWXVaA是分析的重点</li></ol><h1 id="头尾两段"><a href="#头尾两段" class="headerlink" title="头尾两段"></a>头尾两段</h1><p>我们先来看首位吧 这个比较简单</p><p>先找到第一处 往上一直走</p><p><img src="https://s2.loli.net/2024/09/25/bMJVmX5jO3NY1zg.png"></p><p>然后就看到了 这样的栈。可谓是非常简单了。</p><p><img src="https://s2.loli.net/2024/09/25/rIPKSdCLGfbt7N8.png"></p><p>直接还原。</p><p>最后一段 也是一样的逻辑</p><p>代码如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> encrypt_str = <span class="hljs-string">&quot;********************************&quot;</span> <span class="hljs-comment">// 脱敏展示</span><br><br><br><span class="hljs-keyword">let</span> first_index = [<span class="hljs-number">23</span>, 脱敏展示, <span class="hljs-number">6</span>, 脱敏展示, <span class="hljs-number">16</span>, 脱敏展示, <span class="hljs-number">7</span>, 脱敏展示];<br><span class="hljs-keyword">let</span> last_index = [<span class="hljs-number">16</span>, 脱敏展示, <span class="hljs-number">32</span>, 脱敏展示, <span class="hljs-number">19</span>, 脱敏展示, <span class="hljs-number">8</span>, 脱敏展示];<br><br><span class="hljs-keyword">let</span> first_encrypt = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">let</span> last_encrypt = <span class="hljs-string">&quot;&quot;</span>;<br><br><span class="hljs-comment">// 第一段加密</span><br><br>first_index.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">index</span> =&gt;</span> &#123;<br>    first_encrypt += encrypt_str.<span class="hljs-title function_">charAt</span>(index);<br>&#125;);<br><br><span class="hljs-comment">// 最后一段</span><br>last_index.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">index</span> =&gt;</span> &#123;<br>    last_encrypt += encrypt_str.<span class="hljs-title function_">charAt</span>(index);<br>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(first_encrypt)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(last_encrypt)<br></code></pre></td></tr></table></figure><h1 id="中间"><a href="#中间" class="headerlink" title="中间"></a>中间</h1><p>老样子 找到第一段生成处。网上一直找</p><p><img src="https://s2.loli.net/2024/09/25/2nUVolAjfde4R8h.png"></p><p>可以看到 如图 上面是replace 去除掉 源生成出的一些符号 &#x2F; 和 + 以及一些其他符号。</p><p>这里继续往上看。如下图所示</p><p>然后我们发现这样一个 地方。</p><p>每次生成值的时候都有一堆的操作。</p><p>然后再陆续吐值，那是不是代表着 这段空白没有生成值的地方。就是生成的呢？</p><p><img src="https://s2.loli.net/2024/09/25/zZeJ8MYC7Vyiv9m.png"></p><p>这里回网页去看  下文中的case例</p><p><img src="https://s2.loli.net/2024/09/25/4KNCpA9cjaPG6hu.png"></p><p>那这里就看看case 21 打下断点，在78的位置传入日志断点。</p><p>这里为了方便调试。我们直接在网页去看了。其他的日志断点关闭。</p><p>经过反复调试，这里我们打印下这个189位 因为只有这样 最后我们才知道生成了没有。</p><p><img src="https://s2.loli.net/2024/09/25/aYB4DPRMJQv7W98.png"></p><p>并且多次调试可以发现这个数组和 之前头尾两端一样，数组是写死的。</p><p><img src="https://s2.loli.net/2024/09/25/43NHOurVfBi5jlq.png"></p><p>那这样。我们就可以重新插装 然后去分析了</p><p>如下图插装，基本上逻辑已经很清楚了。</p><p><img src="https://s2.loli.net/2024/09/25/CREqM7vG9rhftJV.png"></p><p>这里步骤应该很清楚了。如下图所示</p><p><img src="https://s2.loli.net/2024/09/25/6PwYfJoxdKyCEpW.png"></p><p>那这个难点 其实就是如何s生成这个  数组。我们继续往上追。</p><p>如下图 可以看到。这个数组必定是由 89. 这个数组生成的。</p><p><img src="https://s2.loli.net/2024/09/25/XpB38UKCurtPzx5.png"></p><p>结合之前打的断点。</p><p>向上可以发现。这个数组遍历了20次。然后 遍历到结束。这个新数组就生成了。</p><p>这里 呢 插装 在 case 21开始 即生成的位置。并在返回的位置打上断点</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">n[g+<span class="hljs-number">1</span>],g+<span class="hljs-number">1</span>,<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(d, <span class="hljs-function">(<span class="hljs-params">key, value</span>) =&gt;</span> value === <span class="hljs-variable language_">window</span> || !value || value.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1000</span> ? <span class="hljs-literal">undefined</span> : value)<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/09/26/cUenJaf86SV79mO.png"></p><p>然后找到分析的地方 逐步跟栈分析算法即可。</p><p>这里贴两张图。</p><p><img src="https://s2.loli.net/2024/09/26/JIvtCH5ED7KB8or.png"></p><p><img src="https://s2.loli.net/2024/09/26/mBhEqTNJUxdnzGP.png"></p><p>到这里 算法基本上一目了然 这里简单概括下</p><ol><li>获取hash值 然后通过算法 然后用parseint转换为数组</li><li>和固定数组 [89,39 …] 异或取余得到一个又一个数组。</li><li>把这个数组转换为base64</li><li>将最终值格式化拼接。</li></ol><h1 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h1><p>然后就OK。请求下</p><p><img src="https://s2.loli.net/2024/09/26/16Dsoxq9TNEetrF.png"></p>]]></content>
      
      
      <categories>
          
          <category> JS逆向 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>爬虫&amp;反爬&amp;反反爬&amp;风控</title>
      <link href="/2024/08/23/%E7%88%AC%E8%99%AB&amp;%E5%8F%8D%E7%88%AC&amp;%E5%8F%8D%E5%8F%8D%E7%88%AC&amp;%E9%A3%8E%E6%8E%A7/"/>
      <url>/2024/08/23/%E7%88%AC%E8%99%AB&amp;%E5%8F%8D%E7%88%AC&amp;%E5%8F%8D%E5%8F%8D%E7%88%AC&amp;%E9%A3%8E%E6%8E%A7/</url>
      
        <content type="html"><![CDATA[<h1 id="基于反爬系统和浏览安全体系"><a href="#基于反爬系统和浏览安全体系" class="headerlink" title="基于反爬系统和浏览安全体系"></a>基于反爬系统和浏览安全体系</h1><p>相比逆向更加有亲和力，逆向只有最后一刻才能得到成就感</p><p>所有反爬的手段只有两个</p><ol><li>鉴权阻止进入（开发端拦截）</li><li>高频组织数据大面积泄露 &#x2F; 防止服务器崩溃（风控层面）</li></ol><p>app 和 web 整体的思想和逻辑是不变的</p><ol><li><p>最开始的本质只是采集数据  &gt;&gt;&gt; 因为我们在获取数据的时候 人为采集太费时间</p></li><li><p>采集数据 （招投标 工商信息。外卖 等等） 转变&gt;&gt;&gt;&gt; 采购 | 抢票 | 模拟登录 | 自动渗透| 刷票| 黄牛| &gt;&gt;&gt; 转变鉴权时期  (没有意识到数据的价值)</p></li><li><p>协议采集 逆向成本高 资源低 性能好 ＞让采集成本高 第一优先级 鉴权 高频拦截</p></li><li><p>真机采集  逆向成本低 资源高 性能低 ＞  高频拦截</p></li><li><p>web自动化 指纹浏览器 rpc rpa</p></li><li><p>app 真机 改机 沙箱 群控 rpc</p></li></ol><p>所谓的反爬的原理 就是利用 浏览器和协议爬虫脚本之间的区别去拦截流量</p><h1 id="密码学"><a href="#密码学" class="headerlink" title="密码学"></a>密码学</h1><p>明文 ——&gt; 加密——&gt; 密文——&gt; 解密——&gt; 明文</p><p>密码学的研究领域可分为密码编码学（cryptography）和密码分析学（cryptanalysis）两个分支</p><p>类似于反爬与爬虫 前者负责加密  后者负责加密</p><p>举个例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">code_book = &#123;<br>    <span class="hljs-string">&quot;a&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,<br>    <span class="hljs-string">&quot;b&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,<br>    <span class="hljs-string">&quot;c&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>,<br>&#125;<br><br>def <span class="hljs-title function_">encrypt</span>(t):<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>.<span class="hljs-title function_">join</span>([code_book[i] <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> t])<br><br>name = <span class="hljs-string">&quot;bccba&quot;</span><br><span class="hljs-title function_">print</span>(<span class="hljs-title function_">encrypt</span>(name))<br></code></pre></td></tr></table></figure><p>这就完成了 bccba 到 23321的过程</p><p>常用加密算法</p><ol><li>对称加密算法： AES 、DES、 3DES、</li><li>国密 SM1234</li><li>非对称加密算法：RSA、DCC、DSA</li><li>哈希摘要算法：MD5、Sha系列、</li></ol><h1 id="基于GRPC的反爬虫"><a href="#基于GRPC的反爬虫" class="headerlink" title="基于GRPC的反爬虫"></a>基于GRPC的反爬虫</h1><p>PB的技术实现。序列化和反序列化</p><p><a href="https://github.com/protocolbuffers/protobuf">https://github.com/protocolbuffers/protobuf</a></p><p>原理就是读取 proto文件从而解析 获取里面的pack 和 message </p><p>进而创建一个数据载荷。然后把这个数据载荷去发送</p><p>要明白攻击者的方式。这很重要。没有攻击何谈防御？</p><h1 id="一、鉴权绕过"><a href="#一、鉴权绕过" class="headerlink" title="一、鉴权绕过"></a>一、鉴权绕过</h1><p>以web为例 常见的鉴权绕过有以下几种</p><ol><li>攻击者以鉴权去猜测实现逻辑和原理<ol><li>适用场景：鉴权很容易，基本一眼或者是hook一下就能搞出来的逆向，常见：base64 md5  hash等</li><li>对抗方法：提升加密的强度，把简单的加密更换掉（des）</li></ol></li><li>攻击者通过JS逆向，复现前端的加密，改写为爬虫程序能够运行加密方法（即，纯算，在爬虫圈使用纯算绕过强校验鉴权）<ol><li>适用场景：防御者使用的加密简单且标准，通常为标准的AES等算法，或者虽然是防御自设算法，但是算法长度很短（纯逻辑仅几百或者几十行）</li><li>对抗方式：提升鉴权的加密强度，使用魔改标准算法或者更强的自研算法</li></ol></li><li>攻击者通过JS逆向，将前端的核心加密代码剥离出来，利用Node 或者其他引擎模拟执行JS<ol><li>适用场景：防御者的加密较为复杂，但是代码相对来说容易读懂，能够大致或者相对容易找到核心代码，并且扣除玻璃代码部分相对容易。</li><li>对抗方式：增加反渗透能力（包括但不局限于：控制台检测，JS代码混淆，逻辑VMP，wasm，鼠标指纹融合）</li></ol></li><li>攻击者通过JS逆向和开发能力，将前端的大部分核心函数全部获取，利用Node去模拟执行——补环境。<ol><li>适用场景：JS执行引擎的时候，不管难度如何，只要锁定核心代码，直接执行即可。</li><li>对抗方式：在鉴权的时候，加入设备指纹，环境指纹（1.可以对抗补环境，2. 可以为后续流量风控收集数据）</li></ol></li><li>攻击者使用RPA&#x2F;RPC&#x2F;指纹浏览器&#x2F;自动化&#x2F;真机&#x2F;进行实时采集。指纹与真实浏览器相差无几。<ol><li>适用场景：逆向难度高，破解鉴权难度大，数据量小，且需求为一次性需求。</li><li>对抗方式：利用大数据风控与业务侧相结合。增加对方采集成本，比如账号 IP 、</li></ol></li></ol><p>整个Web主流的手段路径就是这些 冷门的暂时不记录了。逆向是挖洞绕过门，反爬是造门。防止大部分进入就行了。永远记住，反爬只是拦截流量 而不是锁死流量。</p><p>少部分进入 再通过风控分析 逐步封死</p><p>APP端：算法方面能精通且能稳定爬取已经是人中龙凤。更多的还是针对设备指纹方面的对抗，大部分都是基于对端的hook以及防护检测。</p><h1 id="二、鉴权引入方式"><a href="#二、鉴权引入方式" class="headerlink" title="二、鉴权引入方式"></a>二、鉴权引入方式</h1><table><thead><tr><th></th><th><strong>Cookie</strong></th><th><strong>Header</strong></th><th><strong>params-get</strong></th><th><strong>params-post</strong></th></tr></thead><tbody><tr><td><strong>持久性</strong></td><td>自由设置</td><td>仅支持一次请求</td><td>仅支持一次请求</td><td>仅支持一次请求</td></tr><tr><td><strong>兼容性</strong></td><td>良好</td><td>优秀</td><td>优秀</td><td>优秀</td></tr><tr><td><strong>自由度</strong></td><td>高</td><td>低</td><td>低</td><td>低</td></tr><tr><td><strong>长度限制</strong></td><td>4k</td><td>64k</td><td>2k</td><td>理论上无限制</td></tr><tr><td><strong>业务对接</strong></td><td>方便</td><td>一般</td><td>一般</td><td>较差</td></tr></tbody></table><p>某些引入方式很简单 不同公司和业务选型不同 可以同时选择多种</p><p>某些头部尤其是国外设计。会多种整合到一起。</p><h1 id="三、设备指纹挖掘和设计"><a href="#三、设备指纹挖掘和设计" class="headerlink" title="三、设备指纹挖掘和设计"></a>三、设备指纹挖掘和设计</h1><ol><li><p>挖掘路线</p><ol><li>工作量大 推进难度大 也是最能体现价值的地方对于特性的挖掘越深入，兼容性就会处理的越好。最后的 结果就越好，整体难度防守就高。</li></ol></li><li><p>在鉴权检测中渗入设备指纹的主要目的</p><ol><li>对抗补环境（主要功能） </li><li>为大数据流量风控提供数据基础（主要功能 ）</li><li>为加密提供更多的原始数据，增加破解难度</li></ol></li><li><p>植入设备指纹的注意事项</p><ol><li>多版本浏览器的兼容性</li><li>低端 配置客户端的执行效率与兼容性</li><li>需要对指纹进行合理的分配（即合理搭配植入的方式）</li></ol></li><li><p>植入常见方式（通常下面几个方式会综合出现）</p><ol><li>将植入的指纹以明文加密形式传输给解密服务器</li><li>将植入的指纹以映射压缩的形式传输给解密服务器</li><li>将植入的指纹以破坏性压缩（hash 等摘要算法）再加密或者直接传输给解密服务器</li><li>将指纹合法性提前计算，并传输给解密服务器</li></ol></li><li><p>关于语言特性问题</p><p>这部分严格来说，不算设备指纹，但是一般情况下，在攻击者视角与设备指纹的拦截成都是类似的，所以勉强可以划分进来。在某些不同浏览器 中有众多神奇的特性，可以用来判断段明文来源是否符合浏览器特征</p></li></ol><h1 id="四、TLS检测的具体设计"><a href="#四、TLS检测的具体设计" class="headerlink" title="四、TLS检测的具体设计"></a>四、TLS检测的具体设计</h1><ol><li><p>tls检测设计</p><ol><li>不同网络环境下，不同的浏览器&#x2F;系统，都对应着不同的tls指纹，但是 所有的请求库在没有进行过魔改过下 即改底层请求的逻辑与监测点，几乎都是一致的。</li></ol></li><li><p>黑名单检测</p><ol><li>通过简单实验，将市面上大部分常用的请求库的特征都测试出来，然后封禁入黑名单即可。检测到黑名单就直接杀掉</li></ol></li><li><p>白名单检测（web） </p><p>难度MAX级别</p><p>目前为止没有产品能实现，但是海外防火墙对此方向的识别的精度就非常高。改检测方案的实现难度与工作量非常大。从三个步骤来说</p><ol><li>进行大量的的人工测试，将大部分系统(主流系统)&#x2F;浏览器（大版本即可）&#x2F;网络环境（含不同运营商）&#x2F; 平台（微信浏览器等） 指定拦截规则。</li><li>进行灰度测试，结合现有风控系统&#x2F; 设备指纹（UA,显卡，机器性能，网络状态..）进行策略分析，判断误杀率</li><li>调整拦截方案，重复进行灰度测试，直到误杀率降低至可接受范围。进而上线</li><li>紧盯各个版本浏览器的状态，随时判断误杀情况，避免造成生产事故。</li></ol></li><li><p>白名单检测 （APP）</p><p>由于IOS&#x2F; 安卓 发送请求时。Tls指纹不会发生改变，所以白名单很好设置。只需要把开发时设置的请求库Tls指纹设置为白名单。一般就不会出现明显异常。但是移动端爬虫还是谨慎点。策略非必要不上</p></li></ol><h1 id="五、请求拦截引入设计"><a href="#五、请求拦截引入设计" class="headerlink" title="五、请求拦截引入设计"></a>五、请求拦截引入设计</h1><ol><li><p>特点</p><ol><li>有点类似于无感验证码引入的感觉（其实就是无交互式的验证码 即无感验证码）</li></ol></li><li><p>优与劣</p><p>优势</p><ul><li>易于集成，可以通过简单的配置和嵌入代码块快速集成到现有代码中，无需参与业务代码</li><li>维护方便，可由专人维护，减少业务</li><li>维护成本低，只需要维护单JS即可</li><li>低耦合，符合代码规范</li><li>灵活性良好，业务修改与拦截无关</li></ul><p>劣势</p><ul><li>与业务代码难以绑定，安全性 会在一定程度大打折扣，可以结合验证码</li><li>可操作内容有限，无法与页面元素与其他参数鉴权所融合。</li></ul></li><li><p>适用范围</p><ol><li>业务范围广</li><li>所有业务均有安全性规范</li><li>安全性要求不高</li></ol></li></ol><h1 id="六、关于鉴权总结"><a href="#六、关于鉴权总结" class="headerlink" title="六、关于鉴权总结"></a>六、关于鉴权总结</h1><ol><li><p>概念明晰</p><p>描述反爬领域实现异常拦截的一种形式， 所谓鉴权就是鉴定权限。通过客户端传输过来的密文进行分析，确定本次请求是否合理的一种防止，而这个方式的整个过程被称之鉴权检测过程。换言之，鉴权是一个动词，针对于密文进行但请求合法性检测的整个过程。他是一个整体概念</p></li><li><p>关于数据流量风控与鉴权的关系</p><p>不再是单一请求，而是整体请求。 在鉴权没有办法拦截的情况而采集的一种更加强力的措施（真机对抗），所以通过鉴权过程，虽然是合法的内容，但是会留下很多设备指纹。利用这种痕迹，从宏观再去进行身份识别，确定哪些请求是同一个身份。再去拦截这个身份的过程。所以她和鉴权还是有一点差距的。反爬的目的不是拦截所有请求，而是过滤乃至增加对方的成本。彻底拦截是不显示的一件事。</p></li><li><p>一个正常的鉴权系统的要求</p><ol><li>兼容性（业务要求满足）</li><li>加密方案（魔改算法&#x2F;自研算法&#x2F;实验室算法）</li><li>反渗透方案（混淆，测试拦截，格式化检测）</li><li>性能</li><li>设备指纹 环境的挖掘</li><li>鉴权检测系统</li><li>蜜罐埋点设计</li><li>格式与传值内容规范</li><li>传值多样性 接口多样性</li></ol></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>小程序webview调试</title>
      <link href="/2024/08/09/%E5%B0%8F%E7%A8%8B%E5%BA%8Fwebview%E8%B0%83%E8%AF%95/"/>
      <url>/2024/08/09/%E5%B0%8F%E7%A8%8B%E5%BA%8Fwebview%E8%B0%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p>链接手机远程Debug调试</p><ol><li>手机用usb连接至电脑</li><li>手机微信内点击 <a href="http://debugxweb.qq.com/?inspector=true">http://debugxweb.qq.com/?inspector=true</a> （只要跳转过微信首页就是开启了调试）</li><li>微信内打开所需调试网址, 例如 <a href="http://weixin.qq.com/">weixin.qq.com</a> </li><li>chrome浏览器打开 chrome:&#x2F;&#x2F;inspect&#x2F;#devices 会看到我们打开的网页 <a href="http://weixin.qq.com/">weixin.qq.com</a> </li><li>在点击chrome里的inspect 直接调试 (可以直接用鼠标进行操作)</li></ol>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Gin_gorm时间格式化模型类重写</title>
      <link href="/2023/10/26/Gin-gorm%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%A8%A1%E5%9E%8B%E7%B1%BB%E9%87%8D%E5%86%99/"/>
      <url>/2023/10/26/Gin-gorm%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%A8%A1%E5%9E%8B%E7%B1%BB%E9%87%8D%E5%86%99/</url>
      
        <content type="html"><![CDATA[<!--toc--><hr><p>问题：</p><blockquote><p>在使用GORM中 如果我们使用到了CreateAt 和UpdateAt 就会发现 这个时间的类型是time.Time 而其数据是<br>“2022-10-13T10:14:02.973528+08:00” 这样的,<br>然而这样的数据你说能用确实能用 ，但是一旦写入数据库中就变成了<br>0001-01-01 00:00:00.000000 +00:00</p></blockquote><h1 id="重写数据类型"><a href="#重写数据类型" class="headerlink" title="重写数据类型"></a>重写数据类型</h1><p>话不多说 直接上代码<br>并且此代码通用【小弟也是copy学习视频上的】</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> model<br><br><span class="hljs-keyword">import</span> (<br>    <span class="hljs-string">&quot;database/sql/driver&quot;</span><br>    <span class="hljs-string">&quot;fmt&quot;</span><br>    <span class="hljs-string">&quot;time&quot;</span><br>)<br><br><span class="hljs-keyword">const</span> timeFormat = <span class="hljs-string">&quot;2006-01-02 15:04:05&quot;</span><br><span class="hljs-keyword">const</span> timezone = <span class="hljs-string">&quot;Asia/Shanghai&quot;</span><br><br><span class="hljs-keyword">type</span> Time time.Time<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t Time)</span></span> MarshalJSON() ([]<span class="hljs-type">byte</span>, <span class="hljs-type">error</span>) &#123;<br>    b := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(timeFormat)+<span class="hljs-number">2</span>)<br>    b = <span class="hljs-built_in">append</span>(b, <span class="hljs-string">&#x27;&quot;&#x27;</span>)<br>    b = time.Time(t).AppendFormat(b, timeFormat)<br>    b = <span class="hljs-built_in">append</span>(b, <span class="hljs-string">&#x27;&quot;&#x27;</span>)<br>    <span class="hljs-keyword">return</span> b, <span class="hljs-literal">nil</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *Time)</span></span> UnmarshalJSON(data []<span class="hljs-type">byte</span>) (err <span class="hljs-type">error</span>) &#123;<br>    now, err := time.ParseInLocation(<span class="hljs-string">`&quot;`</span>+timeFormat+<span class="hljs-string">`&quot;`</span>, <span class="hljs-type">string</span>(data), time.Local)<br>    *t = Time(now)<br>    <span class="hljs-keyword">return</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t Time)</span></span> String() <span class="hljs-type">string</span> &#123;<br>    <span class="hljs-keyword">return</span> time.Time(t).Format(timeFormat)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t Time)</span></span> local() time.Time &#123;<br>    loc, _ := time.LoadLocation(timezone)<br>    <span class="hljs-keyword">return</span> time.Time(t).In(loc)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t Time)</span></span> Value() (driver.Value, <span class="hljs-type">error</span>) &#123;<br>    <span class="hljs-keyword">var</span> zeroTime time.Time<br>    <span class="hljs-keyword">var</span> ti = time.Time(t)<br>    <span class="hljs-keyword">if</span> ti.UnixNano() == zeroTime.UnixNano() &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, <span class="hljs-literal">nil</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> ti, <span class="hljs-literal">nil</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(t *Time)</span></span> Scan(v <span class="hljs-keyword">interface</span>&#123;&#125;) <span class="hljs-type">error</span> &#123;<br>    value, ok := v.(time.Time)<br>    <span class="hljs-keyword">if</span> ok &#123;<br>        *t = Time(value)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">&quot;can not convert %v to timestamp&quot;</span>, v)<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="调用"><a href="#调用" class="headerlink" title="调用"></a>调用</h1><p>至于调用就更简单了 如下代码所示</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs golang"><br><span class="hljs-keyword">package</span> model<br><br><span class="hljs-keyword">type</span> Category <span class="hljs-keyword">struct</span> &#123;<br> <span class="hljs-comment">//*gorm.Model</span><br> ID       <span class="hljs-type">uint</span>      <span class="hljs-string">`json:&quot;id&quot; gorm:&quot;primary key&quot;`</span><br> Name     <span class="hljs-type">string</span>    <span class="hljs-string">`json:&quot;name&quot; gorm:&quot;type:varchar(50); not null;unique&quot;`</span><br> CreatedAt Time     <span class="hljs-string">`json:&quot;create_at&quot;`</span><br> UpdatedAt Time     <span class="hljs-string">`json:&quot;update_at&quot;`</span><br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gin速用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ja3指纹学习</title>
      <link href="/2023/06/26/Ja3%E6%8C%87%E7%BA%B9%E5%AD%A6%E4%B9%A0/"/>
      <url>/2023/06/26/Ja3%E6%8C%87%E7%BA%B9%E5%AD%A6%E4%B9%A0/</url>
      
        <content type="html"><![CDATA[<!-- toc --><hr><h1 id="引言："><a href="#引言：" class="headerlink" title="引言："></a>引言：</h1><p>在当今互联网时代，保护通信数据的安全性变得至关重要。为了建立安全的通信连接，TLS（Transport Layer Security）协议被广泛应用于Web浏览器、移动应用和其他网络应用程序中。而与此同时，识别和分析这些TLS通信也成为网络安全研究和威胁情报分析的重要任务之一。JA3指纹作为一种独特的指纹识别技术，为我们提供了一种有效的手段来识别和分析TLS通信。</p><h1 id="JA3指纹的概述"><a href="#JA3指纹的概述" class="headerlink" title="JA3指纹的概述"></a>JA3指纹的概述</h1><h2 id="什么是JA3指纹？"><a href="#什么是JA3指纹？" class="headerlink" title="什么是JA3指纹？"></a>什么是JA3指纹？</h2><p>JA3指纹（JA3 fingerprint）是一种用于网络流量分析的技术，旨在识别和分类不同的TLS（Transport Layer Security）客户端。TLS是一种常用于加密互联网通信的协议，它提供了安全的数据传输和身份验证机制。</p><p>JA3指纹通过分析TLS握手阶段中客户端和服务器之间交换的握手消息来创建一个唯一的指纹。在TLS握手期间，客户端和服务器交换一系列的握手消息，包括支持的TLS版本、密码套件、压缩算法和TLS扩展等信息。JA3指纹将这些消息中的特定字段进行哈希处理，生成一个字符串来表示客户端的TLS配置。</p><p>由于不同的TLS客户端在握手消息中的字段值可能会有所不同，因此它们生成的JA3指纹也会有所不同。这使得JA3指纹可以用于识别和区分不同类型的TLS客户端，例如Web浏览器、移动应用程序、恶意软件等。</p><p>通过分析网络流量中的JA3指纹，安全分析人员和网络管理员可以检测和识别异常的TLS行为、恶意软件的活动或者潜在的网络攻击。然而，值得注意的是，JA3指纹并非绝对可靠，因为攻击者可以通过更改TLS</p><h2 id="JA3指纹的组成和格式"><a href="#JA3指纹的组成和格式" class="headerlink" title="JA3指纹的组成和格式"></a>JA3指纹的组成和格式</h2><p>JA3指纹由TLS握手消息中的特定字段值组成，并使用逗号进行分隔。</p><h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><ul><li><p>JA3_HASH,JA3_SSLVersion,JA3_CipherSuites,JA3_Extensions</p></li><li><p>JA3_HASH：这是根据TLS握手消息中的客户端Hello消息计算得出的哈希值，通常使用MD5或SHA256算法生成。JA3_HASH用于唯一标识TLS客户端的配置。</p></li><li><p>JA3_SSLVersion：这是客户端支持的TLS版本号。例如，TLS 1.2的版本号是0x0303，TLS 1.3的版本号是0x0304。</p></li><li><p>JA3_CipherSuites：这是客户端支持的加密套件列表。加密套件指定了用于加密通信的加密算法和密钥交换协议。每个加密套件都有一个唯一的标识号。在JA3指纹中，多个加密套件由逗号分隔。</p></li><li><p>JA3_Extensions：这是客户端在TLS握手消息中发送的TLS扩展列表。TLS扩展提供了额外的功能和安全性选项。常见的扩展包括Server Name Indication (SNI)、Supported Elliptic Curves、Supported Point Formats等。在JA3指纹中，多个扩展由逗号分隔。</p></li></ul><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><p>以下是一个示例JA3指纹的格式：</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs llvm">eb<span class="hljs-number">6</span>f<span class="hljs-number">49e8</span>db<span class="hljs-number">7</span>ad<span class="hljs-number">1809</span>f<span class="hljs-number">885</span>d<span class="hljs-number">12232</span>f<span class="hljs-number">4855</span><span class="hljs-punctuation">,</span><span class="hljs-number">0x0303</span><span class="hljs-punctuation">,</span><span class="hljs-number">0xc02c</span><span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">02</span>b<span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">02</span>f<span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">00</span>a<span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">009</span><span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">013</span><span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">014</span><span class="hljs-punctuation">,</span><span class="hljs-number">0xff01</span><span class="hljs-punctuation">,</span><span class="hljs-number">0x0000</span><br></code></pre></td></tr></table></figure><p>在上述示例中，</p><ol><li>JA3_HASH为<code>eb6f49e8db7ad1809f885d12232f4855</code>，</li><li>JA3_SSLVersion为<code>0x0303（表示TLS 1.2）</code>，</li><li>JA3_CipherSuites包括多个加密套件</li><li>JA3_Extensions为空。</li></ol><h2 id="JA3握手指纹和JA3S指纹的区别"><a href="#JA3握手指纹和JA3S指纹的区别" class="headerlink" title="JA3握手指纹和JA3S指纹的区别"></a>JA3握手指纹和JA3S指纹的区别</h2><p>JA3指纹和JA3S指纹是两种相关但略有不同的TLS指纹技术。</p><ol><li><p>JA3指纹（Just Another SSL&#x2F;TLS Fingerprint）：它是根据客户端发送的TLS握手消息中的字段值生成的指纹。这些字段包括SSL&#x2F;TLS版本、加密套件、TLS扩展等信息。JA3指纹用于识别和分类不同的TLS客户端。</p></li><li><p>JA3S指纹（Just Another SSL&#x2F;TLS Signature）：它是基于服务器在TLS握手过程中发送的服务器Hello消息中的字段值生成的指纹。与JA3指纹不同，JA3S指纹用于识别和分类不同的TLS服务器。</p></li></ol><p>JA3指纹和JA3S指纹的生成方法类似，都是通过计算握手消息中的字段值的哈希值来生成唯一的指纹。它们的区别在于指纹生成的消息来源不同：JA3指纹是基于客户端Hello消息，而JA3S指纹是基于服务器Hello消息。</p><p>这两种指纹技术在网络安全领域中被广泛应用，可以用于检测异常的TLS行为、识别恶意软件和网络攻击等。同时，它们也有一定的局限性，因为攻击者可以伪造或篡改握手消息中的字段值，以逃避指纹识别。因此，在使用JA3和JA3S指纹进行分析时，需要结合其他技术和方法进行验证和确认。</p><p>JA3和JA3S工具现在已经开源<br>下载地址： <a href="https://github.com/salesforce/ja3">https://github.com/salesforce/ja3</a></p><h1 id="JA3指纹的工作原理"><a href="#JA3指纹的工作原理" class="headerlink" title="JA3指纹的工作原理"></a>JA3指纹的工作原理</h1><h2 id="TLS握手过程的关键信息"><a href="#TLS握手过程的关键信息" class="headerlink" title="TLS握手过程的关键信息"></a>TLS握手过程的关键信息</h2><p>TLS握手过程中包含了多个关键信息，这些信息对于建立安全连接和进行身份验证非常重要。以下是TLS握手过程中的一些关键信息：</p><ol><li><p>客户端支持的TLS版本：客户端在ClientHello消息中指定其支持的TLS版本，例如TLS 1.2或TLS 1.3。服务器会根据客户端支持的版本选择适当的协议版本进行通信。</p></li><li><p>加密套件（Cipher Suite）：加密套件定义了在通信过程中使用的加密算法和密钥交换算法。它包括对称加密算法（如AES、DES）、密钥交换算法（如RSA、Diffie-Hellman）和消息认证算法（如HMAC）等。</p></li><li><p>随机数（Random）：客户端和服务器都会生成一个随机数，用于生成对称加密算法的密钥、初始化向量（IV）和计算消息认证码（MAC）。随机数的目的是增加通信的随机性和安全性。</p></li><li><p>数字证书（Digital Certificate）：服务器在ServerHello消息中会发送数字证书，证书用于验证服务器的身份。证书包含服务器的公钥和证书颁发机构（CA）的签名，客户端可以使用该公钥验证服务器的身份和建立安全通信。</p></li><li><p>客户端密钥交换（Client Key Exchange）：在握手过程中，客户端可能需要发送密钥交换相关的信息，用于与服务器协商会话密钥。这可以是一个PreMaster Secret（预主密钥）或Diffie-Hellman交换的公钥。</p></li><li><p>会话标识符（Session Identifier）：服务器可以为成功建立的会话分配一个唯一的会话标识符，以便在后续的握手过程中快速恢复会话状态，从而提高性能。</p></li><li><p>TLS扩展（TLS Extensions）：TLS扩展提供了额外的功能和安全性选项。常见的扩展包括Server Name Indication（SNI，用于指定服务器的域名）、支持的加密算法、应用层协议协商（ALPN）等。</p></li></ol><p>这些关键信息在TLS握手期间的交换和协商，确保了通信的机密性、完整性和身份验证，从而建立了安全的TLS连接。</p><h2 id="通过TLS握手信息生成JA3指纹"><a href="#通过TLS握手信息生成JA3指纹" class="headerlink" title="通过TLS握手信息生成JA3指纹"></a>通过TLS握手信息生成JA3指纹</h2><p>生成JA3指纹需要从TLS握手信息中提取关键字段，并对这些字段进行哈希处理。以下是生成JA3指纹的一般步骤：</p><ol><li><p>提取TLS握手消息中的关键字段：从客户端Hello消息中提取以下字段值：</p><pre><code>   - 支持的TLS版本（SSLVersion）   - 加密套件（CipherSuites）   - TLS扩展（Extensions）</code></pre></li><li><p>将提取的字段值组合成一个字符串：将上述字段值按照特定的顺序连接起来，使用逗号进行分隔。例如：SSLVersion,CipherSuites,Extensions。</p></li><li><p>对组合的字符串进行哈希处理：使用特定的哈希算法，例如MD5或SHA256，对上述组合的字符串进行哈希处理，生成一个哈希值。</p></li><li><p>将哈希值作为JA3指纹：将生成的哈希值作为最终的JA3指纹。</p></li></ol><p>需要注意的是，不同的实现和工具可能对字段的顺序和格式有所不同。为了确保一致性，建议使用广泛接受的规范来提取字段和生成JA3指纹。</p><p><strong>示例</strong><br>假设提取的字段值为：</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs llvm">SSLVersion: <span class="hljs-number">0x0303</span><br>CipherSuites: <span class="hljs-keyword">c</span><span class="hljs-number">02</span><span class="hljs-keyword">c</span><span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">02</span>b<span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">02</span>f<span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">00</span>a<span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">009</span><span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">013</span><span class="hljs-punctuation">,</span><span class="hljs-keyword">c</span><span class="hljs-number">014</span><br>Extensions: <span class="hljs-number">0xff01</span><span class="hljs-punctuation">,</span><span class="hljs-number">0x0000</span><br></code></pre></td></tr></table></figure><p>组合的字符串为：<code>0x0303,c02c,c02b,c02f,c00a,c009,c013,c014,0xff01,0x0000</code><br>通过MD5哈希处理上述字符串得到哈希值：<code>eb6f49e8db7ad1809f885d12232f4855</code><br>最终的JA3指纹为：<code>eb6f49e8db7ad1809f885d12232f4855</code></p><p>实际实现中可能会有一些细微的差异。</p><h2 id="JA3指纹的可变性和唯一性"><a href="#JA3指纹的可变性和唯一性" class="headerlink" title="JA3指纹的可变性和唯一性"></a>JA3指纹的可变性和唯一性</h2><p>JA3指纹具有一定的可变性和唯一性，这取决于TLS客户端的配置和握手消息中的字段值。</p><ol><li>可变性：</li></ol><ul><li><p>不同的TLS客户端可能支持不同的TLS版本、加密套件和TLS扩展，因此它们的JA3指纹会有所不同。</p></li><li><p>特定的TLS客户端可能会在不同的环境或配置下生成不同的JA3指纹。例如，同一款Web浏览器在不同的操作系统、版本或插件配置下生成的JA3指纹可能会有差异。</p></li></ul><ol start="2"><li>唯一性：</li></ol><ul><li><p>在大多数情况下，每个TLS客户端的配置会生成一个唯一的JA3指纹。由于握手消息中的字段值是在握手期间由客户端动态生成的，因此不同的配置通常会产生不同的JA3指纹。</p></li><li><p>JA3指纹的哈希算法（如MD5或SHA256）通常能够保证较低的碰撞概率，即不同的配置生成相同的指纹的可能性较低。</p></li></ul><p>然而，需要注意的是，JA3指纹并不是绝对唯一和确定性的标识符，也存在一些限制和局限性：</p><ol><li><p>攻击者可以通过修改握手消息中的字段值来更改JA3指纹，从而规避指纹识别。</p></li><li><p>同一款TLS客户端的不同版本或补丁更新可能会导致生成不同的JA3指纹，因此在比较和匹配JA3指纹时需要考虑版本和细微差异。</p></li><li><p>由于新的TLS版本、加密套件和扩展的发布，TLS客户端的配置也可能会发生变化，进而影响JA3指纹的唯一性。</p></li></ol><p>综上所述，JA3指纹在识别和分类TLS客户端方面提供了一种有用的方法，但在实际应用中需要综合考虑其他因素并进行进一步验证，以确保准确性和可靠性。</p><h1 id="JA3指纹的应用"><a href="#JA3指纹的应用" class="headerlink" title="JA3指纹的应用"></a>JA3指纹的应用</h1><p>具体分为两部分</p><p><strong>网络安全领域的应用</strong></p><ol><li><p>威胁情报分析</p></li><li><p>恶意软件检测</p></li><li><p>流量分析和监测</p></li></ol><p><strong>应用领域的应用</strong></p><ol><li><p>应用识别和版本检测</p></li><li><p>通信指纹的对比和识别</p></li><li><p>数据包的分类和过滤</p></li></ol><h1 id="JA3指纹的实例和实用技巧"><a href="#JA3指纹的实例和实用技巧" class="headerlink" title="JA3指纹的实例和实用技巧"></a>JA3指纹的实例和实用技巧</h1><p>JA3指纹：eb6f49e8db7ad1809f885d12232f4855</p><p>实用技巧：</p><ol><li><p>JA3指纹的比对：通过收集和比对网络流量中的JA3指纹，可以检测和识别不同类型的TLS客户端。例如，您可以建立一个JA3指纹数据库，并与实时的网络流量进行比对，以发现异常或恶意的TLS行为。</p></li><li><p>恶意软件识别：JA3指纹可用于检测和分类恶意软件的通信行为。通过比对已知恶意软件的JA3指纹，您可以快速识别并阻止类似指纹的流量，以提高网络安全性。</p></li><li><p>威胁情报分析：JA3指纹可以与威胁情报平台进行集成，以获取有关特定指纹的更多信息。这样，您可以了解该指纹是否与已知的恶意活动、攻击或特定组织相关联。</p></li><li><p>异常检测：通过监视网络流量中的JA3指纹变化，您可以识别到不寻常的TLS行为。例如，当某个JA3指纹频繁变化或与正常流量有明显差异时，可能表明存在潜在的安全问题或攻击行为。</p></li><li><p>风险评估和访问控制：在安全环境中，根据JA3指纹可以评估客户端的安全性，并采取相应的访问控制策略。如果某个客户端的JA3指纹与高风险的配置相关，可以采取额外的安全措施，例如强制进行多因素身份验证或限制其访问权限。</p></li><li><p>安全事件响应：JA3指纹可以用于网络安全事件的响应和调查。在检测到安全事件后，可以使用JA3指纹追踪相关的TLS客户端，并识别受影响的系统或用户，从而进行进一步的分析和应对。</p></li></ol><p>注意，JA3指纹仅作为一种辅助工具和指标，应与其他安全技术和方法相结合使用，以全面评估和提高网络安全性。</p><h1 id="JA3指纹的限制和隐私考虑"><a href="#JA3指纹的限制和隐私考虑" class="headerlink" title="JA3指纹的限制和隐私考虑"></a>JA3指纹的限制和隐私考虑</h1><p>JA3指纹具有隐私保护和加密协议选择以及JA3指纹的可变性和易受干扰性</p><p>以下是常见的限制和隐私考虑：</p><ol><li><p>配置和环境的影响：JA3指纹受到TLS客户端的配置和环境影响。不同的配置和环境可能导致不同的JA3指纹，这可能增加了误报或漏报的风险。</p></li><li><p>版本和升级的影响：TLS客户端的版本和升级可能导致JA3指纹的变化。对于同一款TLS客户端的不同版本，其生成的JA3指纹可能会有差异。这需要在分析和比对JA3指纹时考虑版本和细微差异。</p></li><li><p>隐私泄露风险：JA3指纹可以泄露关于客户端的一些信息，例如所使用的TLS版本、加密套件和扩展。这些信息可能被用于识别和追踪特定的客户端，从而对隐私造成风险。特别是在面对具有大规模网络流量的环境时，JA3指纹的唯一性可能导致识别个体用户。</p></li><li><p>指纹伪造：攻击者有可能通过修改TLS握手消息中的字段值来伪造JA3指纹，以规避指纹识别和防御措施。这可能降低JA3指纹的可靠性和准确性，因此在使用JA3指纹时需要谨慎验证和结合其他信息进行分析。</p></li><li><p>数据采集和存储：收集和存储大量的JA3指纹数据可能需要相应的资源和隐私保护措施。确保合规性和数据安全性非常重要，包括数据保护、加密和访问控制等方面的考虑。</p></li></ol><h1 id="抓包展示"><a href="#抓包展示" class="headerlink" title="抓包展示"></a>抓包展示</h1><p>用下某网站做测试 且此网站也有有Ja3指纹加密的</p><blockquote><p>aHR0cHM6Ly9nZ3p5LmppYW5neGkuZ292LmNuL3h3ZHQvMDAxMDAyL3NlYzEuaHRtbA&#x3D;&#x3D;</p></blockquote><h2 id="fiddler"><a href="#fiddler" class="headerlink" title="fiddler"></a>fiddler</h2><p>!注意 fiddler要想抓Ja3-tls指纹 包<br>要把CONNECTS选项取消勾选，不然抓不到指纹包<br><img src="https://s2.loli.net/2024/08/26/MaLQRDKgSeZ2cl3.png"></p><p>然后我们抓到了很多指纹包，然后我们挨个打开看看<br><img src="https://s2.loli.net/2024/08/26/4xZ839vospTAODV.png"></p><p><img src="https://s2.loli.net/2024/08/26/T3Gb2qZphFXnM8k.png"><br>然后我们看到很多的加密算法，还有加密方式<br><strong>其实这种包其实本质上就是加入黑名单</strong></p><p>已经tls的版本也有<br><img src="https://s2.loli.net/2024/08/26/xRbPZY8wMdE2TU9.png"></p><h2 id="charles"><a href="#charles" class="headerlink" title="charles"></a>charles</h2><p>相比较fiddler charles抓到的包就很有限了。<br>但是操作也更加的简单了<br>我们直接打开charles 然后刷新网站<br><img src="https://s2.loli.net/2024/08/26/FKg6wTEQYM8vtV4.png"><br>这里直接就显示了tls的信息<br><img src="https://s2.loli.net/2024/08/26/e3WR9zNDuijZdV7.png"><br>我们接着点开详细信息 这里显示了tls的加密方式 已经加密的两种方式.</p><p>这两种抓包方式终究还是图一乐，真要抓包还得看wireshark</p><h2 id="wireshark"><a href="#wireshark" class="headerlink" title="wireshark"></a>wireshark</h2><p>步骤如下</p><ol><li><p>查询网站IP地址 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt; cmd &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt; ping xxx.com &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt; 复制IP地址</p></li><li><p>打开wireShark抓包，选择抓取的网卡</p></li><li><p>刷新浏览器</p></li><li><p>在过滤器中输入 ip.addr &#x3D;&#x3D; 你要查看的ip地址 具体如下图<br><img src="https://s2.loli.net/2024/08/26/EpSkUnq1PbNuc9Y.png"></p></li><li><p>找到一个Client hello的包<br><img src="https://s2.loli.net/2024/08/26/ayHqf3cUi9Jo7tv.png"></p></li><li><p>查看详细信息<br><img src="https://s2.loli.net/2024/08/26/1NDKZ7xSRrPycoe.png"></p></li></ol><p>最下面的是hash指纹 和详细指纹信息<br><img src="https://s2.loli.net/2024/08/26/8SlE1ZWzpYFyod6.png"></p><p>把这个指纹fullstring复制出来<br><code>771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,18-51-35-23-45-5-27-10-13-43-65281-11-16-17513-0-21,29-23-24,0</code><br>这个指纹信息就是网站可以运行的指纹信息</p><h1 id="指纹分析"><a href="#指纹分析" class="headerlink" title="指纹分析"></a>指纹分析</h1><p>指纹信息分析其实很简单，<br>我们接下来用三种方式去获取这个指纹信息<br>也就是上文的<code>771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,18-51-35-23-45-5-27-10-13-43-65281-11-16-17513-0-21,29-23-24,0</code></p><h2 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h2><p>这里我们选择直接用上文抓包抓到的指纹<br>还有一种方式<br><a href="https://tls.browserleaks.com/json">https://tls.browserleaks.com/json</a> 直接去网站看自己的浏览器指纹也是可以的</p><p>由于上面已经获取了浏览器的指纹了，我们直接就拿来用了</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,18-51-35-23-45-5-27-10-13-43-65281-11-16-17513-0-21,29-23-24,0<br></code></pre></td></tr></table></figure><h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><p>接着我们使用requests原生库，即正常访问，携带基本的参数去请求即可<br>我们使用代码去访问下这个网站<a href="https://tls.browserleaks.com/json">https://tls.browserleaks.com/json</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> requests<br><br>r = requests.get(<span class="hljs-string">&#x27;https://tls.browserleaks.com/json&#x27;</span>, verify=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">print</span>(r.text)<br></code></pre></td></tr></table></figure><p>结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">&#123;<br>  <span class="hljs-string">&quot;ja3_hash&quot;</span>: <span class="hljs-string">&quot;8d9f7747675e24454cd9b7ed35c58707&quot;</span>,<br>  <span class="hljs-string">&quot;ja3_text&quot;</span>: <span class="hljs-string">&quot;771,4866-4867-4865-49196-49200-49195-49199-52393-52392-159-158-52394-49327-49325-49326-49324-49188-49192-49187-49191-49162-49172-49161-49171-49315-49311-49314-49310-107-103-57-51-157-156-49313-49309-49312-49308-61-60-53-47-255,0-11-10-16-22-23-49-13-43-45-51-21,29-23-30-25-24,0-1-2&quot;</span>,<br>  <span class="hljs-string">&quot;ja3n_hash&quot;</span>: <span class="hljs-string">&quot;a790a1e311289ac1543f411f6ffceddf&quot;</span>,<br>  <span class="hljs-string">&quot;ja3n_text&quot;</span>: <span class="hljs-string">&quot;771,4866-4867-4865-49196-49200-49195-49199-52393-52392-159-158-52394-49327-49325-49326-49324-49188-49192-49187-49191-49162-49172-49161-49171-49315-49311-49314-49310-107-103-57-51-157-156-49313-49309-49312-49308-61-60-53-47-255,0-10-11-13-16-21-22-23-43-45-49-51,29-23-30-25-24,0-1-2&quot;</span>,<br>  <span class="hljs-string">&quot;akamai_hash&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>  <span class="hljs-string">&quot;akamai_text&quot;</span>: <span class="hljs-string">&quot;&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>所以这个指纹是</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">771,4866-4867-4865-49196-49200-49195-49199-52393-52392-159-158-52394-49327-49325-49326-49324-49188-49192-49187-49191-49162-49172-49161-49171-49315-49311-49314-49310-107-103-57-51-157-156-49313-49309-49312-49308-61-60-53-47-255,0-11-10-16-22-23-49-13-43-45-51-21,29-23-30-25-24,0-1-2<br></code></pre></td></tr></table></figure><h2 id="python-魔改库"><a href="#python-魔改库" class="headerlink" title="python 魔改库"></a>python 魔改库</h2><p>我们再试试 Python有关SSL的魔改库<br>其实这类库有很多<br>简单举例两个吧 一个是 <code>curl_cffi</code> 一个是 <code>tls_client</code></p><ul><li><p>tls_client : <a href="https://pypi.org/project/tls-client/">https://pypi.org/project/tls-client/</a></p></li><li><p>curl_cffi: <a href="https://pypi.org/project/curl-cffi/">https://pypi.org/project/curl-cffi/</a></p></li></ul><p>我们这里使用curl_cffi 去访问一下看看这个指纹是什么</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> curl_cffi <span class="hljs-keyword">import</span> requests<br><br>r = requests.get(<span class="hljs-string">&quot;https://tls.browserleaks.com/json&quot;</span>, impersonate=<span class="hljs-string">&quot;chrome101&quot;</span>)<br><span class="hljs-built_in">print</span>(r.text)<br></code></pre></td></tr></table></figure><p>结果</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">&#123;<br>  <span class="hljs-string">&quot;ja3_hash&quot;</span>: <span class="hljs-string">&quot;cd08e31494f9531f560d64c695473da9&quot;</span>,<br>  <span class="hljs-string">&quot;ja3_text&quot;</span>: <span class="hljs-string">&quot;771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,0-23-65281-10-11-35-16-5-13-18-51-45-43-27-17513-21,29-23-24,0&quot;</span>,<br>  <span class="hljs-string">&quot;ja3n_hash&quot;</span>: <span class="hljs-string">&quot;aa56c057ad164ec4fdcb7a5a283be9fc&quot;</span>,<br>  <span class="hljs-string">&quot;ja3n_text&quot;</span>: <span class="hljs-string">&quot;771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,0-5-10-11-13-16-18-21-23-27-35-43-45-51-17513-65281,29-23-24,0&quot;</span>,<br>  <span class="hljs-string">&quot;akamai_hash&quot;</span>: <span class="hljs-string">&quot;4f04edce68a7ecbe689edce7bf5f23f3&quot;</span>,<br>  <span class="hljs-string">&quot;akamai_text&quot;</span>: <span class="hljs-string">&quot;1:65536;3:1000;4:6291456;6:262144|15663105|0|m,a,s,p&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>而这个指纹是</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,0-23-65281-10-11-35-16-5-13-18-51-45-43-27-17513-21,29-23-24,0<br></code></pre></td></tr></table></figure><h2 id="总结三种方式"><a href="#总结三种方式" class="headerlink" title="总结三种方式"></a>总结三种方式</h2><p>然后我们把这三个指纹拿出来做个对比</p><p><img src="https://s2.loli.net/2024/08/26/ZdyAJjuQvlMxYF1.png"><br><img src="https://s2.loli.net/2024/08/26/q6WHfujkaTKlw9V.png"></p><p>可以清楚地看到 python的魔改库和浏览器的指纹是长度是一样的。</p><p>这样我们可以知道了，这个指纹长度只要和浏览器相同就可以了。</p><p>我们使用魔改库访问开头所要访问的网站实验一下</p><p><img src="https://s2.loli.net/2024/08/26/3VAtJunrdpfLoIa.png"><br>发现可以正常访问</p><p>那该如何不借助魔改库去完成Ja3网站的解密呢<br>可以通过修改ssl的套接字 使得防火墙黑名单失效<br>从而<strong>保证指纹长度一致</strong> 即可完成解密</p><h1 id="tls-检测的绕过方案"><a href="#tls-检测的绕过方案" class="headerlink" title="tls 检测的绕过方案"></a>tls 检测的绕过方案</h1><p><strong>临时方案:</strong></p><p><code>注意 requests库必须在2.4 以上版本 不然会失败</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">requests.packages.urllib3.util.ssl_.DEFAULT_CIPHERS =<span class="hljs-string">&#x27;ALL&#x27;</span><br></code></pre></td></tr></table></figure><p>修改了requests内部包的 ssI里面的套接字设置，使防火墙黑名单失效</p><p>动态 DEFAULT CIPHERS :<br><a href="https://www.openssl.org/docs/man1.1.1/man1/openssl-ciphers.html">https://www.openssl.org/docs/man1.1.1/man1/openssl-ciphers.html</a><br><a href="https://support.huaweicloud.com/bestpractice-waf/waf_06_0012.html">https://support.huaweicloud.com/bestpractice-waf/waf_06_0012.html</a><br>这种方法国内处理就已经够了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 默认 cipher 在这里定义：https://github.com/encode/httpx/blob/master/httpx/_config.py</span><br><span class="hljs-keyword">import</span> ssl<br><span class="hljs-keyword">import</span> httpx<br><br><span class="hljs-comment"># create an ssl context</span><br>ssl_context = ssl.SSLContext(protocol=ssl.PROTOCOL_TLS)<br>CIPHERS = <span class="hljs-string">&#x27;DH+AES:RSA+AES&#x27;</span><br>ssl_context.set_ciphers(CIPHERS)<br><br>r = httpx.get(<span class="hljs-string">&#x27;https://tls.browserleaks.com/json&#x27;</span>, verify=ssl_context)<br><span class="hljs-built_in">print</span>(r.text)<br><br></code></pre></td></tr></table></figure><p><strong>非临时方案:</strong><br>自设ssl，并覆写requests中的类的一些方法<br><a href="https://stackoverflow.com/questions/60407057/python-requests-being-fingerprinted">https://stackoverflow.com/questions/60407057/python-requests-being-fingerprinted</a></p><p><a href="https://stackoverflow.com/questions/64967706/python-requests-https-code-403-without-but-code-200-when-using-burpsuite">https://stackoverflow.com/questions/64967706/python-requests-https-code-403-without-but-code-200-when-using-burpsuite</a></p><p>深入理解requests中 建立 tls的过程<br>先抓包看下正常的访问 tls，和requests访问的区别<br>我们需要单步调试requests源码，并且想办法修改 tls访问过程中的UA<br>按照上面的思路，加上对 ssl的理解，就可以实现一个针对于 tls检测的高并发方案</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>JA3指纹是一种通过提取和哈希TLS握手消息中的关键字段来标识和识别TLS客户端的方法。它可以用于识别不同类型的TLS客户端、检测恶意软件、进行威胁情报分析、异常检测和风险评估等。</p><p>然而，JA3指纹也有一些限制和隐私考虑。它受到TLS客户端配置和环境的影响，可能受到版本和升级的影响。此外，使用JA3指纹可能泄露一些客户端信息，存在隐私风险，并且有可能被攻击者伪造。</p><p>在使用JA3指纹时，需要综合考虑其实用性和隐私风险。适当的数据采集和存储措施、数据保护、加密和隐私保护措施都是重要的考虑因素。此外，JA3指纹应作为辅助工具和指标，并结合其他安全技术和方法来提高网络安全性。</p><p>总之，JA3指纹提供了一种用于标识和识别TLS客户端的方法，可以在网络安全领域的多个方面发挥作用，但需要在实际应用中权衡其实用性、准确性和隐私风险</p><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul><li><p><a href="https://engineering.salesforce.com/tls-fingerprinting-with-ja3-and-ja3s-247362855967/">https://engineering.salesforce.com/tls-fingerprinting-with-ja3-and-ja3s-247362855967/</a></p></li><li><p><a href="https://engineering.salesforce.com/open-sourcing-ja3-92c9e53c3c41/">https://engineering.salesforce.com/open-sourcing-ja3-92c9e53c3c41/</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 网络安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ja3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常见的循环方式总结</title>
      <link href="/2023/05/26/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93/"/>
      <url>/2023/05/26/%E5%B8%B8%E8%A7%81%E7%9A%84%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<!-- toc --><hr><p>在Javascript中有很多种循环方式。有多种循环方式可以用来遍历数组、对象、以及执行一些重复性任务<br>但是有很多方式甚至从未用过，所以简单来总结一下JS中的循环</p><h1 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h1><p>for 循环是在您希望创建循环时经常使用的工具。</p><p>例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`第<span class="hljs-subst">$&#123;i + <span class="hljs-number">1</span>&#125;</span>次循环遍历`</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/aIXyfYNPknOws2b.png"></p><h1 id="while-循环"><a href="#while-循环" class="headerlink" title="while 循环"></a>while 循环</h1><p> While语句包括一个循环条件和一段代码块，只要条件为真，就不断循环执行代码块。</p><p>例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (i &lt; <span class="hljs-number">100</span>) &#123;<br>    i = i + <span class="hljs-number">1</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`第<span class="hljs-subst">$&#123;i&#125;</span>次循环遍历`</span>)<br>&#125;<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/WhvroJ96L1fxD3V.png"></p><h1 id="do……while循环"><a href="#do……while循环" class="headerlink" title="do……while循环"></a>do……while循环</h1><p>先运行循环代码 再执行判断条件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> a = <span class="hljs-number">3</span>;<br><span class="hljs-keyword">let</span> b = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">do</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;打印b的值&gt;&gt;&gt;&gt;&gt;&quot;</span>,b);<br>    b++;<br>&#125; <span class="hljs-keyword">while</span> (b &lt; a); <span class="hljs-comment">// 当a小于等于b的时候终止她。</span><br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/Lf6raEnemSPudKT.png" alt="img"></p><ul><li>while：先判断后执行；</li><li>do-while：先执行再判断，即使初始条件不成立；do-while循环至少执行一次；</li></ul><h1 id="for-in循环"><a href="#for-in循环" class="headerlink" title="for-in循环"></a>for-in循环</h1><p>fo…in循环一般用于对象的遍历</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> kj = &#123;<br>    <span class="hljs-string">&quot;a&quot;</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-string">&quot;b&quot;</span>: <span class="hljs-number">2</span>,<br>    <span class="hljs-string">&quot;c&quot;</span>: <span class="hljs-number">3</span><br>&#125;<br><br><br><span class="hljs-comment">//使用for-in遍历这个对象</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> k <span class="hljs-keyword">in</span> kj) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(k, kj[k])<br>&#125;<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/aVIe54tKG16HLuJ.png" alt="img"><br>注！ <code>最好不要用for in遍历数组</code></p><h1 id="for-of循环"><a href="#for-of循环" class="headerlink" title="for-of循环"></a>for-of循环</h1><p>for…of 循环是 ES6 中新增的一种循环类型，它允许您遍历可迭代对象（例如数组、字符串、Map 或 Set）中的每个元素，并对其执行指定的操作。<br>for-of 可以更方便的循环遍历数组等</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> v <span class="hljs-keyword">of</span> arr) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(v);<br>&#125;<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/Ti758SE6pQ4groa.png" alt="img"></p><ul><li>for in遍历的是数组的索引（即键名）for in更适合遍历对象，不要使用for in遍历数组</li><li>for of遍历的是数组元素值。</li></ul><p><code>使用for in会遍历数组所有的可枚举属性，包括原型。例如上栗的原型方法method和name属性</code></p><h1 id="map-循环"><a href="#map-循环" class="headerlink" title="map()循环"></a>map()循环</h1><p>map()是一种常用的数组方法，它可以将一个数组中的每个元素按照一定规则映射为一个新的数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> originalArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">const</span> newArray = originalArray.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">number</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(number)<br>  <span class="hljs-keyword">return</span> number * <span class="hljs-number">2</span>;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newArray); <span class="hljs-comment">// Output: [2, 4, 6, 8, 10]</span><br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/SDE1oqAQxwfe2JB.png" alt="img"></p><h1 id="forEach循环"><a href="#forEach循环" class="headerlink" title="forEach循环"></a>forEach循环</h1><p>forEach()是一种常用的数组方法，可以帮助我们遍历一个数组并对其中的每个元素执行指定的操作。<br>例子</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> originalArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br>originalArray.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">number</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(number * <span class="hljs-number">2</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/UVAELG7gnPkWabm.png" alt="img"></p><p>forEach()方法没有返回值，因此我们不能将其运行结果赋值给其他变量</p><h1 id="filter-过滤循环"><a href="#filter-过滤循环" class="headerlink" title="filter()过滤循环"></a>filter()过滤循环</h1><p>filter()是一种常用的数组方法，它可以帮助我们按照特定条件筛选出一个数组中的部分元素并返回一个新的数组</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> originalArray = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-keyword">const</span> filteredArray = originalArray.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">number</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// 只返回能被2整除的数 也就是偶数</span><br>  <span class="hljs-keyword">return</span> number % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(filteredArray);<br></code></pre></td></tr></table></figure><p>结果</p><p><img src="https://img2023.cnblogs.com/blog/2721529/202305/2721529-20230518174323044-1084795998.png" alt="img"></p><p><code>filter()方法不会修改原始数组，而是返回一个新的数组作为其运行结果。因此，如果我们需要在原始数组中删除一些元素，那么就应该使用splice()方法</code></p><h1 id="JS实现Python中的zip循环"><a href="#JS实现Python中的zip循环" class="headerlink" title="JS实现Python中的zip循环"></a>JS实现Python中的zip循环</h1><p>熟悉python的都知道ZIP循环面对循环两个数组很好用 那么在python中如何实现呢？</p><p>例子</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">zip</span>(<span class="hljs-params">...arrays</span>) &#123;<br>    <span class="hljs-keyword">let</span> minLength = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(...arrays.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">arr</span> =&gt;</span> arr.<span class="hljs-property">length</span>));<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; minLength; i++) &#123;<br>        <span class="hljs-keyword">yield</span> arrays.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">arr</span> =&gt;</span> arr[i]);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> aList = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">let</span> bList = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> [a, b] <span class="hljs-keyword">of</span> <span class="hljs-title function_">zip</span>(aList, bList)) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a, b)<br>&#125;<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/gXwcHoNVGIUQ5be.png" alt="img"></p><h1 id="some-和every"><a href="#some-和every" class="headerlink" title="some()和every()"></a>some()和every()</h1><p>some() 和 every() 方法是很有用的数组方法，它们都是用来遍历数组并返回布尔值。</p><h2 id="some-方法"><a href="#some-方法" class="headerlink" title="some() 方法"></a>some() 方法</h2><p>some() 方法用来检测数组中是否有至少一个元素满足指定条件。当任意一个元素满足条件，则该方法返回 true；否则，返回 false。</p><p>例子：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>];<br><span class="hljs-keyword">const</span> hasLargeNumber = numbers.<span class="hljs-title function_">some</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) &#123;<br>  <span class="hljs-keyword">return</span> element &gt; <span class="hljs-number">10</span>;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hasLargeNumber); <br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/QqKu6hwHDnRcUgP.png" alt="img"><br><code>很显然 只要有一个结果满足了 大于10的条件 就返回了true</code></p><h2 id="every-方法"><a href="#every-方法" class="headerlink" title="every() 方法"></a>every() 方法</h2><p>every() 方法与 some() 方法类似，不过它要求所有元素都满足指定条件。当所有元素都满足条件，则该方法返回 true；否则，返回 false。<br>例子</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">12</span>];<br><span class="hljs-keyword">const</span> hasLargeNumber = numbers.<span class="hljs-title function_">every</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) &#123;<br>  <span class="hljs-keyword">return</span> element &gt; <span class="hljs-number">10</span>;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(hasLargeNumber);<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/HZAvBc5yNROwaJC.png" alt="img"><br><code>很显然 只要有一个结果不满足 大于10的条件 就返回了false 和some方法相反</code></p><h1 id="reduce-和-reduceRight"><a href="#reduce-和-reduceRight" class="headerlink" title="reduce() 和 reduceRight()"></a>reduce() 和 reduceRight()</h1><p>是 JavaScript 数组中常用的两个方法，它们都是用于将数组中的元素归纳为单个值。<br>它们可以帮助您迭代和聚合数组中的元素</p><h2 id="reduce-方法"><a href="#reduce-方法" class="headerlink" title="reduce() 方法"></a>reduce() 方法</h2><p>reduce() 方法对数组中的每个元素执行一个由您提供的函数，并将其结果汇总为单个返回值。该方法需要传入两个参数：一个回调函数和一个可选的初始值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-comment">//accumulator： 表示当前已经累积的值初始值是0 currentValue 表示当前正在被遍历的数组元素。</span><br><span class="hljs-keyword">const</span> sum = numbers.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">accumulator, currentValue</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(accumulator,currentValue)<br>  <span class="hljs-keyword">return</span> accumulator + currentValue;<br>&#125;, <span class="hljs-number">0</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum)<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/PwGEDJyBmpSvxF6.png" alt="img"></p><ul><li>accumulator： 表示当前已经累积的值初始值是0</li><li>currentValue 表示当前正在被遍历的数组元素。</li></ul><h2 id="reduceRight-方法"><a href="#reduceRight-方法" class="headerlink" title="reduceRight() 方法"></a>reduceRight() 方法</h2><p>reduceRight() 方法与 reduce() 方法类似，不过它是从数组的末尾开始遍历数组并执行回调函数。该方法也需要传入两个参数：一个回调函数和一个可选的初始值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];<br><span class="hljs-comment">//accumulator： 表示当前已经累积的值初始值是0 currentValue 表示当前正在被遍历的数组元素。</span><br><span class="hljs-keyword">const</span> sum = numbers.<span class="hljs-title function_">reduceRight</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">accumulator, currentValue</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(accumulator,currentValue)<br>  <span class="hljs-keyword">return</span> accumulator + currentValue;<br>&#125;, <span class="hljs-number">0</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sum)<br></code></pre></td></tr></table></figure><p>结果<br><img src="https://s2.loli.net/2024/08/26/vuGKBIpcnq4PUSf.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> JS基础 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GoRequests库</title>
      <link href="/2023/04/26/Golang%E4%B8%80%E6%97%A5%E4%B8%80%E5%BA%93%E4%B9%8BGoRequests/"/>
      <url>/2023/04/26/Golang%E4%B8%80%E6%97%A5%E4%B8%80%E5%BA%93%E4%B9%8BGoRequests/</url>
      
        <content type="html"><![CDATA[<!-- toc --><hr><p>我们在使用Go做爬虫的时候，首先接触的肯定是 Golang 标准库 net&#x2F;http</p><blockquote><p><a href="https://pkg.go.dev/net/http">https://pkg.go.dev/net/http</a><br>有兴趣的可以去看看文档。<br>但是老实说 这个库个人感觉不是特别的好用</p></blockquote><p>有可能是之前就是使用了Python 所以还是感觉如果有像Python库中的requests<br>那样去实现请求就好了。<br>所以GoRequests 就诞生了。</p><h1 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h1><p>DOC: <a href="https://pkg.go.dev/github.com/levigross/grequests">https://pkg.go.dev/github.com/levigross/grequests</a><br>Github: <a href="http://github.com/levigross/grequests">http://github.com/levigross/grequests</a></p><ul><li>响应可以序列化为 JSON 和 XML</li><li>轻松上传文件</li><li>轻松下载文件</li><li>支持以下 HTTP 谓词GET, HEAD, POST, PUT, DELETE, PATCH, OPTIONS</li></ul><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">go get -u github.com/levigross/grequests<br></code></pre></td></tr></table></figure><h1 id="导入"><a href="#导入" class="headerlink" title="导入"></a>导入</h1><blockquote><p>import “github.com&#x2F;levigross&#x2F;grequests”</p></blockquote><h1 id="发送请求"><a href="#发送请求" class="headerlink" title="发送请求"></a>发送请求</h1><h2 id="Get请求"><a href="#Get请求" class="headerlink" title="Get请求"></a>Get请求</h2><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs golang">ro := &amp;RequestOptions&#123;<br> Params: <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;hybpjx&quot;</span>&#125;,<br>&#125;<br><span class="hljs-comment">// url路径上的参数会被覆盖</span><br>resp, err := grequests.Get(<span class="hljs-string">&quot;http://httpbin.org/get?h=1&quot;</span>, ro)<br><br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br> <span class="hljs-built_in">panic</span>(err)<br>&#125;<br><br>fmt.Println(resp.String())<br></code></pre></td></tr></table></figure><h2 id="Post请求"><a href="#Post请求" class="headerlink" title="Post请求"></a>Post请求</h2><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs golang">option := &amp;grequests.RequestOptions&#123;Data: <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang/p/17302343.html&quot;</span>&#125;&#125;<br>resp, err := grequests.Post(<span class="hljs-string">&quot;http://httpbin.org/post&quot;</span>, option)<br><br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br> <span class="hljs-built_in">panic</span>(err)<br>&#125;<br><br><span class="hljs-keyword">if</span> resp.Ok != <span class="hljs-literal">true</span> &#123;<br> fmt.Println(resp.Ok)<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="Post上传文件"><a href="#Post上传文件" class="headerlink" title="Post上传文件"></a>Post上传文件</h1><p>还可以支持上传文件</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Golang"><span class="hljs-comment">// 允许您通过指定磁盘上的位置来创建FileUpload结构片</span><br>fd, err := grequests.FileUploadFromDisk(<span class="hljs-string">&quot;test/1&quot;</span>)<br><br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br> fmt.Printf(<span class="hljs-string">&quot;文件打开失败:%v\n&quot;</span>, err)<br>&#125;<br><br><span class="hljs-comment">// 这将以请求的形式上传文件</span><br>resp, _ := grequests.Post(<span class="hljs-string">&quot;http://httpbin.org/post&quot;</span>,<br> &amp;grequests.RequestOptions&#123;<br>  Files: fd,<br>  Data:  <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>&#123;<span class="hljs-string">&quot;One&quot;</span>: <span class="hljs-string">&quot;Two&quot;</span>&#125;,<br> &#125;)<br><br>fmt.Println(resp.Ok,resp.StatusCode)<br></code></pre></td></tr></table></figure><h1 id="Gorequests-使用session"><a href="#Gorequests-使用session" class="headerlink" title="Gorequests 使用session"></a>Gorequests 使用session</h1><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs golang">session := grequests.Session&#123;<br>  RequestOptions: &amp;grequests.RequestOptions&#123;<br>   Headers: <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>&#123;<br>    <span class="hljs-string">&quot;authority&quot;</span>:  <span class="hljs-string">&quot;mp3.haoge500.com&quot;</span>,<br>    <span class="hljs-string">&quot;referer&quot;</span>:    <span class="hljs-string">&quot;https://www.zz123.com/&quot;</span>,<br>    <span class="hljs-string">&quot;User-Agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36&quot;</span>,<br>   &#125;,<br>  &#125;,<br> &#125;<br></code></pre></td></tr></table></figure><h1 id="GoRequests-使用代理"><a href="#GoRequests-使用代理" class="headerlink" title="GoRequests 使用代理"></a>GoRequests 使用代理</h1><p>gorequest代理，非常简单 网上的Demo很多 也不只这一个<br>我展示的是阿布云的代理<br>需要注意的是 需要把 Proxies 中的url 添加为 *url.URL 代理</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs golang"><span class="hljs-keyword">package</span> test<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;github.com/levigross/grequests&quot;</span><br> <span class="hljs-string">&quot;net/url&quot;</span><br> <span class="hljs-string">&quot;testing&quot;</span><br> <span class="hljs-string">&quot;time&quot;</span><br>)<br><br><span class="hljs-comment">// 代理服务器</span><br><span class="hljs-keyword">const</span> proxyServer = <span class="hljs-string">&quot;http-pro.xxx.com:9010&quot;</span><br><br><span class="hljs-comment">// 代理隧道验证信息</span><br><span class="hljs-keyword">const</span> proxyUser = <span class="hljs-string">&quot;xxxxxxxxx&quot;</span><br><br><span class="hljs-keyword">const</span> proxyPass = <span class="hljs-string">&quot;xxxxxxxxx&quot;</span><br><br><span class="hljs-keyword">type</span> Proxy <span class="hljs-keyword">struct</span> &#123;<br> AppID     <span class="hljs-type">string</span><br> AppSecret <span class="hljs-type">string</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p Proxy)</span></span> ProxyURL() *url.URL &#123;<br> proxyUrl, _ := url.Parse(<span class="hljs-string">&quot;http://&quot;</span> + p.AppID + <span class="hljs-string">&quot;:&quot;</span> + p.AppSecret + <span class="hljs-string">&quot;@&quot;</span> + proxyServer)<br> <span class="hljs-keyword">return</span> proxyUrl<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">TestCommon</span><span class="hljs-params">(t *testing.T)</span></span> &#123;<br> <span class="hljs-comment">// 初始化 proxy http client</span><br> proxyURL := Proxy&#123;AppID: proxyUser, AppSecret: proxyPass&#125;.ProxyURL()<br> fmt.Println(proxyURL)<br> trueUrl := <span class="hljs-string">&quot;http://www.xiushui.gov.cn/xxgk/bmxxgk/sthjj/sthj/xmhp/index.html&quot;</span><br> ro := &amp;grequests.RequestOptions&#123;<br>  Headers: <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">string</span>&#123;<br>   <span class="hljs-string">&quot;user-agent&quot;</span>: <span class="hljs-string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36&quot;</span>,<br>  &#125;,<br>  Proxies: <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]*url.URL&#123;<br>   <span class="hljs-string">&quot;http&quot;</span>: proxyURL,<br>  &#125;,<br> &#125;<br> resp, err := grequests.Get(trueUrl, ro)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err.Error())<br> &#125;<br> fmt.Println(<span class="hljs-string">&quot;&quot;</span>, resp.StatusCode)<br> time.Sleep(time.Second * <span class="hljs-number">10</span>)<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 一日一库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bcrypt库</title>
      <link href="/2023/04/26/Golang%E4%B8%80%E6%97%A5%E4%B8%80%E5%BA%93%E4%B9%8Bbcrypt/"/>
      <url>/2023/04/26/Golang%E4%B8%80%E6%97%A5%E4%B8%80%E5%BA%93%E4%B9%8Bbcrypt/</url>
      
        <content type="html"><![CDATA[<!-- toc --><hr><blockquote><p>官方文档： <a href="https://pkg.go.dev/golang.org/x/crypto/bcrypt">https://pkg.go.dev/golang.org/x/crypto/bcrypt</a></p></blockquote><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前讲过JWT Token JWT呢是信息是经过数字签名的，因此可以被验证和信任。<br>然后今天就来说说密码学，我们在做鉴权 做用户处理时 会把密码存储到数据库中，但是这个密码我们肯定不能明文去存储，如果这个数据库链接一旦被别人拿到<br>那后果是不堪设想的。不仅仅是为了防止系统管理员或者DBA等公司人员获得用户的密码，也是防止被黑客拖库产生更大的信息泄露。<br>如果黑客通过不法手段获取了服务的数据库存储信息，盗取里面的内容，从而直接获得明文密码，那么影响就会很大。<br>所以我们的密码一般通过几种方式去加密存储</p><ol><li><strong>MD5</strong></li></ol><p>其实个人觉得MD5加密不太好，因为MD5是不加盐的，虽然是不可逆的，但是黑客其实会针对常见的一些密码，生成彩虹表。<br>彩虹表是什么呢？<br><code>是用于加密散列函数逆运算的预先计算好的表，常用于破解加密过的密码散列（维基百科）</code><br>所以相对的感觉安全等级不是很够。</p><ol start="2"><li><strong>SHA1及其他</strong></li></ol><p>SHA-1基于MD5，MD5又基于MD4<br>SHA-1是由美国标准技术局（NIST）颁布的国家标准，是一种应用最为广泛的Hash函数算法，也是目前最先进的加密技术，被政府部门和私营业主用来处理敏感的信息。<br>这个缺点个人认为和 MD5一样。</p><ol start="3"><li><strong>hmacsha</strong></li></ol><p>我之前也写过相应的文章 里面有相应的hmasha加密<br>HMAC是密钥相关的哈希运算消息认证码（Hash-basedMessageAuthenticationCode）,HMAC运算利用哈希算法，以一个密钥和一个消息为输入，生成一个消息摘要作为输出。<br>HMAC是需要一个密钥的。所以，HMACSHA1也是需要一个密钥的，而SHA1不需要。</p><ol start="4"><li><strong>CRC</strong></li></ol><p>CRC的全称为CyclicRedundancyCheck，中文名称为循环冗余校验。它是一类重要的线性分组码，编码和解码方法简单，检错和纠错能力强，在通信领域广泛地用于实现差错控制。实际上，除数据通信外，CRC在其它很多领域也是大有用武之地的。例如我们读软盘上的文件，以及解压一个ZIP文件时，偶尔会碰到“BadCRC”错误，由此它在数据存储方面的应用可略见一斑。</p><ol start="5"><li><strong>还有很多加密方式这里就不一 一赘述了…</strong></li></ol><p>这里介绍一种加密方式 <code>bcrypt</code></p><h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><p>bcrypt是一个由美国计算机科学家尼尔斯·普罗沃斯（Niels Provos）以及大卫·马齐耶（David Mazières）根据Blowfish加密算法所设计的密码散列函数，于1999年在USENIX中展示[1]。实现中bcrypt会使用一个加盐的流程以防御彩虹表攻击，同时bcrypt还是适应性函数，它可以借由增加迭代之次数来抵御日益增进的电脑运算能力透过暴力法破解。</p><p>由bcrypt加密的文件可在所有支持的操作系统和处理器上进行转移。它的口令必须是8至56个字符，并将在内部被转化为448位的密钥。然而，所提供的所有字符都具有十分重要的意义。密码越强大，数据就越安全。</p><p>除了对数据进行加密，默认情况下，bcrypt在删除数据之前将使用随机数据三次覆盖原始输入文件，以阻挠可能会获得计算机数据的人恢复数据的尝试。如果您不想使用此功能，可设置禁用此功能。</p><p>具体来说，bcrypt使用美国密码学家保罗·柯切尔的算法实现。随bcrypt一起发布的源代码对原始版本作了略微改动。</p><p><strong>以上内容来自于wiki维基百科</strong> &gt;&gt;&gt;&gt; <a href="https://zh.wikipedia.org/wiki/Bcrypt">https://zh.wikipedia.org/wiki/Bcrypt</a></p><h1 id="bcrypt基本介绍"><a href="#bcrypt基本介绍" class="headerlink" title="bcrypt基本介绍"></a>bcrypt基本介绍</h1><p>其实简单来说<br><code>bcrypt</code>就是一种加盐的单向Hash，不可逆的加密算法，同一种明文（plaintext），每次加密后的密文都不一样，而且不可反向破解生成明文，破解难度很大<br>而我们熟知的另一种不可逆的加密算法<br><code>md5</code> 是不加盐的单向Hash，不可逆的加密算法，同一个密码经过hash的时候生成的是同一个hash值，在大多数的情况下，有些经过md5加密的方法将会被破解。</p><p>Bcrypt生成的密文是60位的。而MD5的是32位的。<br>总的来说，BCrypt比MD5更安全，但加密更慢。<br>各有优缺点吧。</p><p>这里推荐个网站可以完成 bcrypt的加密 我们来尝尝鲜。</p><p><a href="https://www.bejson.com/encrypt/bcrpyt_encode/">https://www.bejson.com/encrypt/bcrpyt_encode/</a></p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>这里找遍了全网好像也没找到github地址。并且也没有什么安装的教程。</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs golang"><span class="hljs-keyword">go</span> get -u golang.org/x/crypto/bcrypt<br></code></pre></td></tr></table></figure><h1 id="cost常量分类"><a href="#cost常量分类" class="headerlink" title="cost常量分类"></a>cost常量分类</h1><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs golang"><span class="hljs-keyword">const</span> (<br>        <span class="hljs-comment">// 传递给GenerateFromPassword的最小允许开销</span><br> MinCost     <span class="hljs-type">int</span> = <span class="hljs-number">4</span>  <br>        <span class="hljs-comment">// 传递给GenerateFromPassword的最大允许开销</span><br> MaxCost     <span class="hljs-type">int</span> = <span class="hljs-number">31</span><br>        <span class="hljs-comment">// 如果将低于MinCost的cost传递给GenerateFromPassword，则实际设置的cost</span><br> DefaultCost <span class="hljs-type">int</span> = <span class="hljs-number">10</span> <br>)<br></code></pre></td></tr></table></figure><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>这里我们直接看官方写好的测试用例，可能需要 …(你懂的)<br><a href="https://cs.opensource.google/go/x/crypto/+/refs/tags/v0.8.0:bcrypt/bcrypt_test.go">https://cs.opensource.google/go/x/crypto/+/refs/tags/v0.8.0:bcrypt/bcrypt_test.go</a></p><h2 id="GenerateFromPassword-生成一个hash密码"><a href="#GenerateFromPassword-生成一个hash密码" class="headerlink" title="GenerateFromPassword 生成一个hash密码"></a>GenerateFromPassword 生成一个hash密码</h2><p>GenerateFromPassword以给定的代价返回密码的bcrypt散列。如果给定的cost小于MinCost，则该cost将被设置为DefaultCost。<br>GenerateFromPassword不接受长度超过72字节的密码，这是bcrypt操作的最长密码</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs golang">password, _ := bcrypt.GenerateFromPassword([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;123&quot;</span>), bcrypt.DefaultCost)<br>fmt.Println(<span class="hljs-type">string</span>(password))<br></code></pre></td></tr></table></figure><p>结果如下<br>第一次</p><blockquote><p>$2a$10$SNRLHrG.ExJHKfR8LihSLOqAJOu&#x2F;hCpP0ARhwoKvsduxv5xMXkl4u<br>第二次<br>$2a$10$Np1EBVQ9DZXMvIUkT7Y2P.cA0psEmW2SAVJYcCDqDDN8TsASo7aZm</p></blockquote><p><strong>注： 每次结果都不一样 因为这不是MD5加密，会通过加盐来完成不可逆的加密</strong></p><h2 id="Cost方法-返回给定的cost"><a href="#Cost方法-返回给定的cost" class="headerlink" title="Cost方法 返回给定的cost"></a>Cost方法 返回给定的cost</h2><p>Cost返回用于创建给定散列密码的散列成本。将来，当密码系统的哈希成本需要增加以适应更大的计算能力时，这个功能允许人们确定需要更新哪些密码。<br>简单来说 返回上文的 bcrypt.DefaultCost</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs golang">cost, _ := bcrypt.Cost([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;$2a$10$XgLBtSfJsrBd.liLOYWddOYWYWboBUAlKmivcSwq647C3vTNUOVMO&quot;</span>))<br>fmt.Println(cost)<br></code></pre></td></tr></table></figure><p>结果如下</p><blockquote><p>10</p></blockquote><h2 id="CompareHashAndPassword-对比明文密码和散列密码"><a href="#CompareHashAndPassword-对比明文密码和散列密码" class="headerlink" title="CompareHashAndPassword 对比明文密码和散列密码"></a>CompareHashAndPassword 对比明文密码和散列密码</h2><p>CompareHashAndPassword，将返回的散列密码与其明文版本进行比较。</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs golang">password, _ := bcrypt.GenerateFromPassword([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;123&quot;</span>), bcrypt.DefaultCost)<br>fmt.Println(<span class="hljs-type">string</span>(password))<br><br><span class="hljs-comment">// 可以解析出上文</span><br>cost, _ := bcrypt.Cost([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;$2a$10$XgLBtSfJsrBd.liLOYWddOYWYWboBUAlKmivcSwq647C3vTNUOVMO&quot;</span>))<br>fmt.Println(cost)<br><br>err := bcrypt.CompareHashAndPassword(password, []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;123&quot;</span>))<br><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br> fmt.Println(<span class="hljs-string">&quot;密码验证错误&quot;</span>, err)<br>&#125;<br>fmt.Println(<span class="hljs-string">&quot;密码验证成功&gt;&gt;&gt;&quot;</span>, <span class="hljs-literal">nil</span>)<br></code></pre></td></tr></table></figure><p>结果</p><blockquote><p>$2a$10$ANuBn8FthHbgfYir4v65AOvdtqoR3xjZ0G8duN5ynH1Vm0h3yUF&#x2F;G<br>10<br>密码验证成功&gt;&gt;&gt; <nil></p></blockquote><h1 id="调用utils文件-——-集成版"><a href="#调用utils文件-——-集成版" class="headerlink" title="调用utils文件 —— 集成版"></a>调用utils文件 —— 集成版</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> utils<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;golang.org/x/crypto/bcrypt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Encrypt</span><span class="hljs-params">(encryptText <span class="hljs-type">string</span>)</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) &#123;<br> hashStr, err := bcrypt.GenerateFromPassword([]<span class="hljs-type">byte</span>(encryptText), bcrypt.DefaultCost)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>, err<br> &#125;<br> <span class="hljs-keyword">return</span> <span class="hljs-type">string</span>(hashStr), err<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">CompareHashAndPassword</span><span class="hljs-params">(hashPassword, Password <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">bool</span> &#123;<br> err := bcrypt.CompareHashAndPassword([]<span class="hljs-type">byte</span>(hashPassword), []<span class="hljs-type">byte</span>(Password))<br><br> <span class="hljs-keyword">return</span> err == <span class="hljs-literal">nil</span><br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="bcrypt某些错误类型"><a href="#bcrypt某些错误类型" class="headerlink" title="bcrypt某些错误类型"></a>bcrypt某些错误类型</h1><ul><li><p>type HashVersionTooNewError byte</p><blockquote><p>使用 创建哈希时从 CompareHashAndPassword 返回的错误 比此实现更新的 bcrypt 算法。<br>func (hv HashVersionTooNewError) Error() string 调用error返回字符串</p></blockquote></li><li><p>type InvalidCostError int</p><blockquote><p>类型 无效cost错误<br>func (ic InvalidCostError) Error() string 调用error返回字符串</p></blockquote></li><li><p>type InvalidHashPrefixError byte</p><blockquote><p>类型无效哈希前缀错误<br>当哈希以“$”以外的内容开头时，从 CompareHashAndPassword 返回的错误<br>func (ih InvalidHashPrefixError) Error() string 调用error返回字符串</p></blockquote></li></ul>]]></content>
      
      
      <categories>
          
          <category> 一日一库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javacript加密解密方法</title>
      <link href="/2023/03/28/Javacript%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E6%96%B9%E6%B3%95/"/>
      <url>/2023/03/28/Javacript%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>只需要安装几个库 其中需要了解最多的 <strong>crypto-js</strong></p><p>具体就不多介绍了直接上官网<br><a href="https://www.npmjs.com/package/crypto-js">https://www.npmjs.com/package/crypto-js</a></p><p><strong>安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install crypto-js --save-dev<br>npm install md5 --save-dev<br></code></pre></td></tr></table></figure><h1 id="一些常见的built-in-函数加密"><a href="#一些常见的built-in-函数加密" class="headerlink" title="一些常见的built-in 函数加密"></a>一些常见的built-in 函数加密</h1><h2 id="unescape"><a href="#unescape" class="headerlink" title="unescape"></a>unescape</h2><p>unescape() 函数可对通过 escape() 编码的字符串进行解码。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> e = <span class="hljs-built_in">escape</span>(<span class="hljs-string">&quot;始識&quot;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e) <span class="hljs-comment">// %u59CB%u8B58</span><br><span class="hljs-keyword">let</span> u = <span class="hljs-built_in">unescape</span>(e)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(u) <span class="hljs-comment">// 始識</span><br></code></pre></td></tr></table></figure><h2 id="URL编码与解码"><a href="#URL编码与解码" class="headerlink" title="URL编码与解码"></a>URL编码与解码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> e = <span class="hljs-built_in">encodeURI</span>(<span class="hljs-string">&quot;https://始識的博客&quot;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e) <span class="hljs-comment">// https://%E5%A7%8B%E8%AD%98%E7%9A%84%E5%8D%9A%E5%AE%A2</span><br><span class="hljs-keyword">let</span> u = <span class="hljs-built_in">decodeURI</span>(e)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(u) <span class="hljs-comment">// https://始識的博客</span><br></code></pre></td></tr></table></figure><h2 id="fromCharCode"><a href="#fromCharCode" class="headerlink" title="fromCharCode"></a>fromCharCode</h2><p>将 Unicode 编码转为一个字符</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> n = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(<span class="hljs-number">65</span>);<br><span class="hljs-comment">// A</span><br><br><br>[<span class="hljs-number">101</span>,<span class="hljs-number">118</span>,<span class="hljs-number">97</span>,<span class="hljs-number">108</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(item)<br>&#125;)<br> [<span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>]<br></code></pre></td></tr></table></figure><h1 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h1><h2 id="btoa-atob"><a href="#btoa-atob" class="headerlink" title="btoa atob"></a>btoa atob</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> e = <span class="hljs-title function_">btoa</span>(<span class="hljs-string">&quot;https://www.cnblogs.com/zichliang/p/17265960.html&quot;</span>)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e) <span class="hljs-comment">// // https://%E5%A7%8B%E8%AD%98%E7%9A%84%E5%8D%9A%E5%AE%A2</span><br><span class="hljs-keyword">let</span> u = <span class="hljs-title function_">atob</span>(e)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(u) <span class="hljs-comment">// https://www.cnblogs.com/zichliang/p/17265960.html</span><br></code></pre></td></tr></table></figure><h2 id="node实现方式"><a href="#node实现方式" class="headerlink" title="node实现方式"></a>node实现方式</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// Base64 encoded string</span><br><span class="hljs-keyword">const</span> str = <span class="hljs-string">&#x27;https://www.cnblogs.com/zichliang/p/17265960.html&#x27;</span>;<br><span class="hljs-comment">//b编码</span><br><span class="hljs-keyword">const</span> buffBase64 = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(str, <span class="hljs-string">&#x27;utf-8&#x27;</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-string">&#x27;base64&#x27;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buffBase64);<br><br><span class="hljs-comment">//解码</span><br><span class="hljs-keyword">const</span> buffStr = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(buffBase64, <span class="hljs-string">&#x27;base64&#x27;</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-string">&quot;utf-8&quot;</span>);<br><span class="hljs-comment">// print normal string</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(buffStr);<br><br></code></pre></td></tr></table></figure><h2 id="引用-crypto-js-加密模块"><a href="#引用-crypto-js-加密模块" class="headerlink" title="引用 crypto-js 加密模块"></a>引用 crypto-js 加密模块</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">base64Encode</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> srcs = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(text);<br>  <span class="hljs-keyword">var</span> encodeData = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Base64</span>.<span class="hljs-title function_">stringify</span>(srcs);<br>  <span class="hljs-keyword">return</span> encodeData<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">base64Decode</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> srcs = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Base64</span>.<span class="hljs-title function_">parse</span>(encodeData);<br>  <span class="hljs-keyword">var</span> decodeData = srcs.<span class="hljs-title function_">toString</span>(<span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>);<br>  <span class="hljs-keyword">return</span> decodeData<br>&#125;<br><br><span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang/p/17265960.html&quot;</span><br><br><span class="hljs-keyword">var</span> encodeData = <span class="hljs-title function_">base64Encode</span>()<br><span class="hljs-keyword">var</span> decodeData = <span class="hljs-title function_">base64Decode</span>()<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Base64 编码: &quot;</span>, encodeData)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Base64 解码: &quot;</span>, decodeData)<br><br><span class="hljs-comment">// Base64 编码:  aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vemljaGxpYW5nL3AvMTcyNjU5NjAuaHRtbA==</span><br><span class="hljs-comment">// Base64 解码:  https://www.cnblogs.com/zichliang/p/17265960.html</span><br><br></code></pre></td></tr></table></figure><h1 id="MD5"><a href="#MD5" class="headerlink" title="MD5"></a>MD5</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">MD5Test</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-title class_">MD5</span>(text).<span class="hljs-title function_">toString</span>()<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">MD5Test</span>())  <span class="hljs-comment">// 50177badb579733de56b628ae57fb972</span><br></code></pre></td></tr></table></figure><h1 id="PBKDF2"><a href="#PBKDF2" class="headerlink" title="PBKDF2"></a>PBKDF2</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">pbkdf2Encrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span><br>    <span class="hljs-keyword">var</span> salt = <span class="hljs-string">&quot;1234567&quot;</span><br>    <span class="hljs-comment">// key 长度 128，10 次重复运算</span><br>    <span class="hljs-keyword">var</span> encryptedData = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-title class_">PBKDF2</span>(text, salt, &#123;<span class="hljs-attr">keySize</span>: <span class="hljs-number">128</span>/<span class="hljs-number">32</span>,<span class="hljs-attr">iterations</span>: <span class="hljs-number">10</span>&#125;);<br>    <span class="hljs-keyword">return</span> encryptedData.<span class="hljs-title function_">toString</span>()<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">pbkdf2Encrypt</span>())  <span class="hljs-comment">// bcda4be78de797d8f5067331b1a70d40</span><br></code></pre></td></tr></table></figure><h1 id="SHA1"><a href="#SHA1" class="headerlink" title="SHA1"></a>SHA1</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">SHA1Encrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-title class_">SHA1</span>(text).<span class="hljs-title function_">toString</span>();<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">SHA1Encrypt</span>())  <span class="hljs-comment">// ca481c13d5af7135b69d11ffb0a443a635fbc307</span><br></code></pre></td></tr></table></figure><h1 id="SHA256"><a href="#SHA256" class="headerlink" title="SHA256"></a>SHA256</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">SHA256Encrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-title class_">SHA256</span>(text).<span class="hljs-title function_">toString</span>();<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">SHA256Encrypt</span>())  <span class="hljs-comment">// 0b16c8942abbf124f6fef65ae145314dd72ed495ede2b95fe0bde722c0e26478</span><br></code></pre></td></tr></table></figure><p>或者使用原生JS源代码文件生成<br>不要问为什么只有这个有js源码，因为这个加密我刚好用到了。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sha256</span>(<span class="hljs-params">s</span>) &#123;<br>    <span class="hljs-keyword">const</span> chrsz = <span class="hljs-number">8</span><br>    <span class="hljs-keyword">const</span> hexcase = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">safe_add</span>(<span class="hljs-params">x, y</span>) &#123;<br>        <span class="hljs-keyword">const</span> lsw = (x &amp; <span class="hljs-number">0xFFFF</span>) + (y &amp; <span class="hljs-number">0xFFFF</span>)<br>        <span class="hljs-keyword">const</span> msw = (x &gt;&gt; <span class="hljs-number">16</span>) + (y &gt;&gt; <span class="hljs-number">16</span>) + (lsw &gt;&gt; <span class="hljs-number">16</span>)<br>        <span class="hljs-keyword">return</span> (msw &lt;&lt; <span class="hljs-number">16</span>) | (lsw &amp; <span class="hljs-number">0xFFFF</span>)<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">S</span>(<span class="hljs-params">X, n</span>) &#123;<br>        <span class="hljs-keyword">return</span> (X &gt;&gt;&gt; n) | (X &lt;&lt; (<span class="hljs-number">32</span> - n))<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">R</span>(<span class="hljs-params">X, n</span>) &#123;<br>        <span class="hljs-keyword">return</span> (X &gt;&gt;&gt; n)<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Ch</span>(<span class="hljs-params">x, y, z</span>) &#123;<br>        <span class="hljs-keyword">return</span> ((x &amp; y) ^ ((~x) &amp; z))<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Maj</span>(<span class="hljs-params">x, y, z</span>) &#123;<br>        <span class="hljs-keyword">return</span> ((x &amp; y) ^ (x &amp; z) ^ (y &amp; z))<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Sigma0256</span>(<span class="hljs-params">x</span>) &#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-title function_">S</span>(x, <span class="hljs-number">2</span>) ^ <span class="hljs-title function_">S</span>(x, <span class="hljs-number">13</span>) ^ <span class="hljs-title function_">S</span>(x, <span class="hljs-number">22</span>))<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Sigma1256</span>(<span class="hljs-params">x</span>) &#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-title function_">S</span>(x, <span class="hljs-number">6</span>) ^ <span class="hljs-title function_">S</span>(x, <span class="hljs-number">11</span>) ^ <span class="hljs-title function_">S</span>(x, <span class="hljs-number">25</span>))<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gamma0256</span>(<span class="hljs-params">x</span>) &#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-title function_">S</span>(x, <span class="hljs-number">7</span>) ^ <span class="hljs-title function_">S</span>(x, <span class="hljs-number">18</span>) ^ <span class="hljs-title function_">R</span>(x, <span class="hljs-number">3</span>))<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Gamma1256</span>(<span class="hljs-params">x</span>) &#123;<br>        <span class="hljs-keyword">return</span> (<span class="hljs-title function_">S</span>(x, <span class="hljs-number">17</span>) ^ <span class="hljs-title function_">S</span>(x, <span class="hljs-number">19</span>) ^ <span class="hljs-title function_">R</span>(x, <span class="hljs-number">10</span>))<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">core_sha256</span>(<span class="hljs-params">m, l</span>) &#123;<br>        <span class="hljs-keyword">const</span> K = [<span class="hljs-number">0x428A2F98</span>, <span class="hljs-number">0x71374491</span>, <span class="hljs-number">0xB5C0FBCF</span>, <span class="hljs-number">0xE9B5DBA5</span>, <span class="hljs-number">0x3956C25B</span>, <span class="hljs-number">0x59F111F1</span>, <span class="hljs-number">0x923F82A4</span>, <span class="hljs-number">0xAB1C5ED5</span>, <span class="hljs-number">0xD807AA98</span>, <span class="hljs-number">0x12835B01</span>, <span class="hljs-number">0x243185BE</span>, <span class="hljs-number">0x550C7DC3</span>, <span class="hljs-number">0x72BE5D74</span>, <span class="hljs-number">0x80DEB1FE</span>, <span class="hljs-number">0x9BDC06A7</span>, <span class="hljs-number">0xC19BF174</span>, <span class="hljs-number">0xE49B69C1</span>, <span class="hljs-number">0xEFBE4786</span>, <span class="hljs-number">0xFC19DC6</span>, <span class="hljs-number">0x240CA1CC</span>, <span class="hljs-number">0x2DE92C6F</span>, <span class="hljs-number">0x4A7484AA</span>, <span class="hljs-number">0x5CB0A9DC</span>, <span class="hljs-number">0x76F988DA</span>, <span class="hljs-number">0x983E5152</span>, <span class="hljs-number">0xA831C66D</span>, <span class="hljs-number">0xB00327C8</span>, <span class="hljs-number">0xBF597FC7</span>, <span class="hljs-number">0xC6E00BF3</span>, <span class="hljs-number">0xD5A79147</span>, <span class="hljs-number">0x6CA6351</span>, <span class="hljs-number">0x14292967</span>, <span class="hljs-number">0x27B70A85</span>, <span class="hljs-number">0x2E1B2138</span>, <span class="hljs-number">0x4D2C6DFC</span>, <span class="hljs-number">0x53380D13</span>, <span class="hljs-number">0x650A7354</span>, <span class="hljs-number">0x766A0ABB</span>, <span class="hljs-number">0x81C2C92E</span>, <span class="hljs-number">0x92722C85</span>, <span class="hljs-number">0xA2BFE8A1</span>, <span class="hljs-number">0xA81A664B</span>, <span class="hljs-number">0xC24B8B70</span>, <span class="hljs-number">0xC76C51A3</span>, <span class="hljs-number">0xD192E819</span>, <span class="hljs-number">0xD6990624</span>, <span class="hljs-number">0xF40E3585</span>, <span class="hljs-number">0x106AA070</span>, <span class="hljs-number">0x19A4C116</span>, <span class="hljs-number">0x1E376C08</span>, <span class="hljs-number">0x2748774C</span>, <span class="hljs-number">0x34B0BCB5</span>, <span class="hljs-number">0x391C0CB3</span>, <span class="hljs-number">0x4ED8AA4A</span>, <span class="hljs-number">0x5B9CCA4F</span>, <span class="hljs-number">0x682E6FF3</span>, <span class="hljs-number">0x748F82EE</span>, <span class="hljs-number">0x78A5636F</span>, <span class="hljs-number">0x84C87814</span>, <span class="hljs-number">0x8CC70208</span>, <span class="hljs-number">0x90BEFFFA</span>, <span class="hljs-number">0xA4506CEB</span>, <span class="hljs-number">0xBEF9A3F7</span>, <span class="hljs-number">0xC67178F2</span>]<br>        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">HASH</span> = [<span class="hljs-number">0x6A09E667</span>, <span class="hljs-number">0xBB67AE85</span>, <span class="hljs-number">0x3C6EF372</span>, <span class="hljs-number">0xA54FF53A</span>, <span class="hljs-number">0x510E527F</span>, <span class="hljs-number">0x9B05688C</span>, <span class="hljs-number">0x1F83D9AB</span>, <span class="hljs-number">0x5BE0CD19</span>]<br>        <span class="hljs-keyword">const</span> W = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">64</span>)<br>        <span class="hljs-keyword">let</span> a, b, c, d, e, f, g, h, i, j<br>        <span class="hljs-keyword">let</span> <span class="hljs-variable constant_">T1</span>, <span class="hljs-variable constant_">T2</span><br>        m[l &gt;&gt; <span class="hljs-number">5</span>] |= <span class="hljs-number">0x80</span> &lt;&lt; (<span class="hljs-number">24</span> - l % <span class="hljs-number">32</span>)<br>        m[((l + <span class="hljs-number">64</span> &gt;&gt; <span class="hljs-number">9</span>) &lt;&lt; <span class="hljs-number">4</span>) + <span class="hljs-number">15</span>] = l<br>        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; m.<span class="hljs-property">length</span>; i += <span class="hljs-number">16</span>) &#123;<br>            a = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">0</span>]<br>            b = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">1</span>]<br>            c = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">2</span>]<br>            d = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">3</span>]<br>            e = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">4</span>]<br>            f = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">5</span>]<br>            g = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">6</span>]<br>            h = <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">7</span>]<br>            <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">64</span>; j++) &#123;<br>                <span class="hljs-keyword">if</span> (j &lt; <span class="hljs-number">16</span>) &#123;<br>                    W[j] = m[j + i]<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    W[j] = <span class="hljs-title function_">safe_add</span>(<span class="hljs-title function_">safe_add</span>(<span class="hljs-title function_">safe_add</span>(<span class="hljs-title class_">Gamma1256</span>(W[j - <span class="hljs-number">2</span>]), W[j - <span class="hljs-number">7</span>]), <span class="hljs-title class_">Gamma0256</span>(W[j - <span class="hljs-number">15</span>])), W[j - <span class="hljs-number">16</span>])<br>                &#125;<br>                <span class="hljs-variable constant_">T1</span> = <span class="hljs-title function_">safe_add</span>(<span class="hljs-title function_">safe_add</span>(<span class="hljs-title function_">safe_add</span>(<span class="hljs-title function_">safe_add</span>(h, <span class="hljs-title class_">Sigma1256</span>(e)), <span class="hljs-title class_">Ch</span>(e, f, g)), K[j]), W[j])<br>                <span class="hljs-variable constant_">T2</span> = <span class="hljs-title function_">safe_add</span>(<span class="hljs-title class_">Sigma0256</span>(a), <span class="hljs-title class_">Maj</span>(a, b, c))<br>                h = g<br>                g = f<br>                f = e<br>                e = <span class="hljs-title function_">safe_add</span>(d, <span class="hljs-variable constant_">T1</span>)<br>                d = c<br>                c = b<br>                b = a<br>                a = <span class="hljs-title function_">safe_add</span>(<span class="hljs-variable constant_">T1</span>, <span class="hljs-variable constant_">T2</span>)<br>            &#125;<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">0</span>] = <span class="hljs-title function_">safe_add</span>(a, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">0</span>])<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">1</span>] = <span class="hljs-title function_">safe_add</span>(b, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">1</span>])<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">2</span>] = <span class="hljs-title function_">safe_add</span>(c, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">2</span>])<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">3</span>] = <span class="hljs-title function_">safe_add</span>(d, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">3</span>])<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">4</span>] = <span class="hljs-title function_">safe_add</span>(e, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">4</span>])<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">5</span>] = <span class="hljs-title function_">safe_add</span>(f, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">5</span>])<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">6</span>] = <span class="hljs-title function_">safe_add</span>(g, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">6</span>])<br>            <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">7</span>] = <span class="hljs-title function_">safe_add</span>(h, <span class="hljs-variable constant_">HASH</span>[<span class="hljs-number">7</span>])<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable constant_">HASH</span><br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">str2binb</span>(<span class="hljs-params">str</span>) &#123;<br>        <span class="hljs-keyword">const</span> bin = []<br>        <span class="hljs-keyword">const</span> mask = (<span class="hljs-number">1</span> &lt;&lt; chrsz) - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; str.<span class="hljs-property">length</span> * chrsz; i += chrsz) &#123;<br>            bin[i &gt;&gt; <span class="hljs-number">5</span>] |= (str.<span class="hljs-title function_">charCodeAt</span>(i / chrsz) &amp; mask) &lt;&lt; (<span class="hljs-number">24</span> - i % <span class="hljs-number">32</span>)<br>        &#125;<br>        <span class="hljs-keyword">return</span> bin<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Utf8Encode</span>(<span class="hljs-params">string</span>) &#123;<br>        string = string.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\r\n/g</span>, <span class="hljs-string">&#x27;\n&#x27;</span>)<br>        <span class="hljs-keyword">let</span> utfText = <span class="hljs-string">&#x27;&#x27;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> n = <span class="hljs-number">0</span>; n &lt; string.<span class="hljs-property">length</span>; n++) &#123;<br>            <span class="hljs-keyword">const</span> c = string.<span class="hljs-title function_">charCodeAt</span>(n)<br>            <span class="hljs-keyword">if</span> (c &lt; <span class="hljs-number">128</span>) &#123;<br>                utfText += <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(c)<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((c &gt; <span class="hljs-number">127</span>) &amp;&amp; (c &lt; <span class="hljs-number">2048</span>)) &#123;<br>                utfText += <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>((c &gt;&gt; <span class="hljs-number">6</span>) | <span class="hljs-number">192</span>)<br>                utfText += <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>((c &amp; <span class="hljs-number">63</span>) | <span class="hljs-number">128</span>)<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                utfText += <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>((c &gt;&gt; <span class="hljs-number">12</span>) | <span class="hljs-number">224</span>)<br>                utfText += <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(((c &gt;&gt; <span class="hljs-number">6</span>) &amp; <span class="hljs-number">63</span>) | <span class="hljs-number">128</span>)<br>                utfText += <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>((c &amp; <span class="hljs-number">63</span>) | <span class="hljs-number">128</span>)<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> utfText<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">binb2hex</span>(<span class="hljs-params">binarray</span>) &#123;<br>        <span class="hljs-keyword">const</span> hex_tab = hexcase ? <span class="hljs-string">&#x27;0123456789ABCDEF&#x27;</span> : <span class="hljs-string">&#x27;0123456789abcdef&#x27;</span><br>        <span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;&#x27;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; binarray.<span class="hljs-property">length</span> * <span class="hljs-number">4</span>; i++) &#123;<br>            str += hex_tab.<span class="hljs-title function_">charAt</span>((binarray[i &gt;&gt; <span class="hljs-number">2</span>] &gt;&gt; ((<span class="hljs-number">3</span> - i % <span class="hljs-number">4</span>) * <span class="hljs-number">8</span> + <span class="hljs-number">4</span>)) &amp; <span class="hljs-number">0xF</span>) +<br>                hex_tab.<span class="hljs-title function_">charAt</span>((binarray[i &gt;&gt; <span class="hljs-number">2</span>] &gt;&gt; ((<span class="hljs-number">3</span> - i % <span class="hljs-number">4</span>) * <span class="hljs-number">8</span>)) &amp; <span class="hljs-number">0xF</span>)<br>        &#125;<br>        <span class="hljs-keyword">return</span> str<br>    &#125;<br>    s = <span class="hljs-title class_">Utf8Encode</span>(s)<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">binb2hex</span>(<span class="hljs-title function_">core_sha256</span>(<span class="hljs-title function_">str2binb</span>(s), s.<span class="hljs-property">length</span> * chrsz))<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>使用</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sha256</span>(<span class="hljs-string">&#x27;https://www.cnblogs.com/zichliang&#x27;</span>)) <span class="hljs-comment">// 0b16c8942abbf124f6fef65ae145314dd72ed495ede2b95fe0bde722c0e26478</span><br></code></pre></td></tr></table></figure><h1 id="HMAC-SHA256"><a href="#HMAC-SHA256" class="headerlink" title="HMAC-SHA256"></a>HMAC-SHA256</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">HmacSHA256Encrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> hash = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-title class_">HmacSHA256</span>(<span class="hljs-string">&quot;这是加密信息&quot;</span>, <span class="hljs-string">&quot;这是秘钥&quot;</span>);<br>    <span class="hljs-keyword">var</span> hashInBase64 = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Base64</span>.<span class="hljs-title function_">stringify</span>(hash);<br>    <span class="hljs-keyword">return</span> hashInBase64;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">HmacSHA256Encrypt</span>())  <span class="hljs-comment">// qMlLziV3yzjVb3VgwWhbSTYLsCZXTB1jftypu04SUDM=</span><br></code></pre></td></tr></table></figure><p>js源代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// To ensure cross-browser support even without a proper SubtleCrypto</span><br><span class="hljs-comment">// impelmentation (or without access to the impelmentation, as is the case with</span><br><span class="hljs-comment">// Chrome loaded over HTTP instead of HTTPS), this library can create SHA-256</span><br><span class="hljs-comment">// HMAC signatures using nothing but raw JavaScript</span><br><br><span class="hljs-comment">/* eslint-disable no-magic-numbers, id-length, no-param-reassign, new-cap */</span><br><br><span class="hljs-comment">// By giving internal functions names that we can mangle, future calls to</span><br><span class="hljs-comment">// them are reduced to a single byte (minor space savings in minified file)</span><br><span class="hljs-keyword">var</span> uint8Array = <span class="hljs-title class_">Uint8Array</span>;<br><span class="hljs-keyword">var</span> uint32Array = <span class="hljs-title class_">Uint32Array</span>;<br><span class="hljs-keyword">var</span> pow = <span class="hljs-title class_">Math</span>.<span class="hljs-property">pow</span>;<br><br><span class="hljs-comment">// Will be initialized below</span><br><span class="hljs-comment">// Using a Uint32Array instead of a simple array makes the minified code</span><br><span class="hljs-comment">// a bit bigger (we lose our `unshift()` hack), but comes with huge</span><br><span class="hljs-comment">// performance gains</span><br><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">DEFAULT_STATE</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">uint32Array</span>(<span class="hljs-number">8</span>);<br><span class="hljs-keyword">var</span> <span class="hljs-variable constant_">ROUND_CONSTANTS</span> = [];<br><br><span class="hljs-comment">// Reusable object for expanded message</span><br><span class="hljs-comment">// Using a Uint32Array instead of a simple array makes the minified code</span><br><span class="hljs-comment">// 7 bytes larger, but comes with huge performance gains</span><br><span class="hljs-keyword">var</span> M = <span class="hljs-keyword">new</span> <span class="hljs-title function_">uint32Array</span>(<span class="hljs-number">64</span>);<br><br><span class="hljs-comment">// After minification the code to compute the default state and round</span><br><span class="hljs-comment">// constants is smaller than the output. More importantly, this serves as a</span><br><span class="hljs-comment">// good educational aide for anyone wondering where the magic numbers come</span><br><span class="hljs-comment">// from. No magic numbers FTW!</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getFractionalBits</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> ((n - (n | <span class="hljs-number">0</span>)) * <span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, <span class="hljs-number">32</span>)) | <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-keyword">var</span> n = <span class="hljs-number">2</span>, nPrime = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (nPrime &lt; <span class="hljs-number">64</span>) &#123;<br>    <span class="hljs-comment">// isPrime() was in-lined from its original function form to save</span><br>    <span class="hljs-comment">// a few bytes</span><br>    <span class="hljs-keyword">var</span> isPrime = <span class="hljs-literal">true</span>;<br>    <span class="hljs-comment">// Math.sqrt() was replaced with pow(n, 1/2) to save a few bytes</span><br>    <span class="hljs-comment">// var sqrtN = pow(n, 1 / 2);</span><br>    <span class="hljs-comment">// So technically to determine if a number is prime you only need to</span><br>    <span class="hljs-comment">// check numbers up to the square root. However this function only runs</span><br>    <span class="hljs-comment">// once and we&#x27;re only computing the first 64 primes (up to 311), so on</span><br>    <span class="hljs-comment">// any modern CPU this whole function runs in a couple milliseconds.</span><br>    <span class="hljs-comment">// By going to n / 2 instead of sqrt(n) we net 8 byte savings and no</span><br>    <span class="hljs-comment">// scaling performance cost</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> factor = <span class="hljs-number">2</span>; factor &lt;= n / <span class="hljs-number">2</span>; factor++) &#123;<br>        <span class="hljs-keyword">if</span> (n % factor === <span class="hljs-number">0</span>) &#123;<br>            isPrime = <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (isPrime) &#123;<br>        <span class="hljs-keyword">if</span> (nPrime &lt; <span class="hljs-number">8</span>) &#123;<br>            <span class="hljs-variable constant_">DEFAULT_STATE</span>[nPrime] = <span class="hljs-title function_">getFractionalBits</span>(<span class="hljs-title function_">pow</span>(n, <span class="hljs-number">1</span> / <span class="hljs-number">2</span>));<br>        &#125;<br>        <span class="hljs-variable constant_">ROUND_CONSTANTS</span>[nPrime] = <span class="hljs-title function_">getFractionalBits</span>(<span class="hljs-title function_">pow</span>(n, <span class="hljs-number">1</span> / <span class="hljs-number">3</span>));<br><br>        nPrime++;<br>    &#125;<br><br>    n++;<br>&#125;<br><br><span class="hljs-comment">// For cross-platform support we need to ensure that all 32-bit words are</span><br><span class="hljs-comment">// in the same endianness. A UTF-8 TextEncoder will return BigEndian data,</span><br><span class="hljs-comment">// so upon reading or writing to our ArrayBuffer we&#x27;ll only swap the bytes</span><br><span class="hljs-comment">// if our system is LittleEndian (which is about 99% of CPUs)</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">LittleEndian</span> = !!<span class="hljs-keyword">new</span> <span class="hljs-title function_">uint8Array</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">uint32Array</span>([<span class="hljs-number">1</span>]).<span class="hljs-property">buffer</span>)[<span class="hljs-number">0</span>];<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">convertEndian</span>(<span class="hljs-params">word</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">LittleEndian</span>) &#123;<br>        <span class="hljs-keyword">return</span> (<br>            <span class="hljs-comment">// byte 1 -&gt; byte 4</span><br>            (word &gt;&gt;&gt; <span class="hljs-number">24</span>) |<br>            <span class="hljs-comment">// byte 2 -&gt; byte 3</span><br>            (((word &gt;&gt;&gt; <span class="hljs-number">16</span>) &amp; <span class="hljs-number">0xff</span>) &lt;&lt; <span class="hljs-number">8</span>) |<br>            <span class="hljs-comment">// byte 3 -&gt; byte 2</span><br>            ((word &amp; <span class="hljs-number">0xff00</span>) &lt;&lt; <span class="hljs-number">8</span>) |<br>            <span class="hljs-comment">// byte 4 -&gt; byte 1</span><br>            (word &lt;&lt; <span class="hljs-number">24</span>)<br>        );<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> word;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">rightRotate</span>(<span class="hljs-params">word, bits</span>) &#123;<br>    <span class="hljs-keyword">return</span> (word &gt;&gt;&gt; bits) | (word &lt;&lt; (<span class="hljs-number">32</span> - bits));<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sha256</span>(<span class="hljs-params">data</span>) &#123;<br>    <span class="hljs-comment">// Copy default state</span><br>    <span class="hljs-keyword">var</span> <span class="hljs-variable constant_">STATE</span> = <span class="hljs-variable constant_">DEFAULT_STATE</span>.<span class="hljs-title function_">slice</span>();<br><br>    <span class="hljs-comment">// Caching this reduces occurrences of &quot;.length&quot; in minified JavaScript</span><br>    <span class="hljs-comment">// 3 more byte savings! :D</span><br>    <span class="hljs-keyword">var</span> legth = data.<span class="hljs-property">length</span>;<br><br>    <span class="hljs-comment">// Pad data</span><br>    <span class="hljs-keyword">var</span> bitLength = legth * <span class="hljs-number">8</span>;<br>    <span class="hljs-keyword">var</span> newBitLength = (<span class="hljs-number">512</span> - ((bitLength + <span class="hljs-number">64</span>) % <span class="hljs-number">512</span>) - <span class="hljs-number">1</span>) + bitLength + <span class="hljs-number">65</span>;<br><br>    <span class="hljs-comment">// &quot;bytes&quot; and &quot;words&quot; are stored BigEndian</span><br>    <span class="hljs-keyword">var</span> bytes = <span class="hljs-keyword">new</span> <span class="hljs-title function_">uint8Array</span>(newBitLength / <span class="hljs-number">8</span>);<br>    <span class="hljs-keyword">var</span> words = <span class="hljs-keyword">new</span> <span class="hljs-title function_">uint32Array</span>(bytes.<span class="hljs-property">buffer</span>);<br><br>    bytes.<span class="hljs-title function_">set</span>(data, <span class="hljs-number">0</span>);<br>    <span class="hljs-comment">// Append a 1</span><br>    bytes[legth] = <span class="hljs-number">0b10000000</span>;<br>    <span class="hljs-comment">// Store length in BigEndian</span><br>    words[words.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>] = <span class="hljs-title function_">convertEndian</span>(bitLength);<br><br>    <span class="hljs-comment">// Loop iterator (avoid two instances of &quot;var&quot;) -- saves 2 bytes</span><br>    <span class="hljs-keyword">var</span> round;<br><br>    <span class="hljs-comment">// Process blocks (512 bits / 64 bytes / 16 words at a time)</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> block = <span class="hljs-number">0</span>; block &lt; newBitLength / <span class="hljs-number">32</span>; block += <span class="hljs-number">16</span>) &#123;<br>        <span class="hljs-keyword">var</span> workingState = <span class="hljs-variable constant_">STATE</span>.<span class="hljs-title function_">slice</span>();<br><br>        <span class="hljs-comment">// Rounds</span><br>        <span class="hljs-keyword">for</span> (round = <span class="hljs-number">0</span>; round &lt; <span class="hljs-number">64</span>; round++) &#123;<br>            <span class="hljs-keyword">var</span> <span class="hljs-title class_">MRound</span>;<br>            <span class="hljs-comment">// Expand message</span><br>            <span class="hljs-keyword">if</span> (round &lt; <span class="hljs-number">16</span>) &#123;<br>                <span class="hljs-comment">// Convert to platform Endianness for later math</span><br>                <span class="hljs-title class_">MRound</span> = <span class="hljs-title function_">convertEndian</span>(words[block + round]);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">var</span> gamma0x = M[round - <span class="hljs-number">15</span>];<br>                <span class="hljs-keyword">var</span> gamma1x = M[round - <span class="hljs-number">2</span>];<br>                <span class="hljs-title class_">MRound</span> =<br>                    M[round - <span class="hljs-number">7</span>] + M[round - <span class="hljs-number">16</span>] + (<br>                        <span class="hljs-title function_">rightRotate</span>(gamma0x, <span class="hljs-number">7</span>) ^<br>                        <span class="hljs-title function_">rightRotate</span>(gamma0x, <span class="hljs-number">18</span>) ^<br>                        (gamma0x &gt;&gt;&gt; <span class="hljs-number">3</span>)<br>                    ) + (<br>                        <span class="hljs-title function_">rightRotate</span>(gamma1x, <span class="hljs-number">17</span>) ^<br>                        <span class="hljs-title function_">rightRotate</span>(gamma1x, <span class="hljs-number">19</span>) ^<br>                        (gamma1x &gt;&gt;&gt; <span class="hljs-number">10</span>)<br>                    )<br>                ;<br>            &#125;<br><br>            <span class="hljs-comment">// M array matches platform endianness</span><br>            M[round] = <span class="hljs-title class_">MRound</span> |= <span class="hljs-number">0</span>;<br><br>            <span class="hljs-comment">// Computation</span><br>            <span class="hljs-keyword">var</span> t1 =<br>                (<br>                    <span class="hljs-title function_">rightRotate</span>(workingState[<span class="hljs-number">4</span>], <span class="hljs-number">6</span>) ^<br>                    <span class="hljs-title function_">rightRotate</span>(workingState[<span class="hljs-number">4</span>], <span class="hljs-number">11</span>) ^<br>                    <span class="hljs-title function_">rightRotate</span>(workingState[<span class="hljs-number">4</span>], <span class="hljs-number">25</span>)<br>                ) +<br>                (<br>                    (workingState[<span class="hljs-number">4</span>] &amp; workingState[<span class="hljs-number">5</span>]) ^<br>                    (~workingState[<span class="hljs-number">4</span>] &amp; workingState[<span class="hljs-number">6</span>])<br>                ) + workingState[<span class="hljs-number">7</span>] + <span class="hljs-title class_">MRound</span> + <span class="hljs-variable constant_">ROUND_CONSTANTS</span>[round]<br>            ;<br>            <span class="hljs-keyword">var</span> t2 =<br>                (<br>                    <span class="hljs-title function_">rightRotate</span>(workingState[<span class="hljs-number">0</span>], <span class="hljs-number">2</span>) ^<br>                    <span class="hljs-title function_">rightRotate</span>(workingState[<span class="hljs-number">0</span>], <span class="hljs-number">13</span>) ^<br>                    <span class="hljs-title function_">rightRotate</span>(workingState[<span class="hljs-number">0</span>], <span class="hljs-number">22</span>)<br>                ) +<br>                (<br>                    (workingState[<span class="hljs-number">0</span>] &amp; workingState[<span class="hljs-number">1</span>]) ^<br>                    (workingState[<span class="hljs-number">2</span>] &amp; (workingState[<span class="hljs-number">0</span>] ^<br>                        workingState[<span class="hljs-number">1</span>]))<br>                )<br>            ;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">7</span>; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br>                workingState[i] = workingState[i - <span class="hljs-number">1</span>];<br>            &#125;<br>            workingState[<span class="hljs-number">0</span>] = (t1 + t2) | <span class="hljs-number">0</span>;<br>            workingState[<span class="hljs-number">4</span>] = (workingState[<span class="hljs-number">4</span>] + t1) | <span class="hljs-number">0</span>;<br>        &#125;<br><br>        <span class="hljs-comment">// Update state</span><br>        <span class="hljs-keyword">for</span> (round = <span class="hljs-number">0</span>; round &lt; <span class="hljs-number">8</span>; round++) &#123;<br>            <span class="hljs-variable constant_">STATE</span>[round] = (<span class="hljs-variable constant_">STATE</span>[round] + workingState[round]) | <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// Finally the state needs to be converted to BigEndian for output</span><br>    <span class="hljs-comment">// And we want to return a Uint8Array, not a Uint32Array</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title function_">uint8Array</span>(<span class="hljs-keyword">new</span> <span class="hljs-title function_">uint32Array</span>(<br>        <span class="hljs-variable constant_">STATE</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title function_">convertEndian</span>(val);<br>        &#125;)<br>    ).<span class="hljs-property">buffer</span>);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">hmac</span>(<span class="hljs-params">key, data</span>) &#123;<br>    <span class="hljs-keyword">if</span> (key.<span class="hljs-property">length</span> &gt; <span class="hljs-number">64</span>)<br>        key = <span class="hljs-title function_">sha256</span>(key);<br><br>    <span class="hljs-keyword">if</span> (key.<span class="hljs-property">length</span> &lt; <span class="hljs-number">64</span>) &#123;<br>        <span class="hljs-keyword">const</span> tmp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">64</span>);<br>        tmp.<span class="hljs-title function_">set</span>(key, <span class="hljs-number">0</span>);<br>        key = tmp;<br>    &#125;<br><br>    <span class="hljs-comment">// Generate inner and outer keys</span><br>    <span class="hljs-keyword">var</span> innerKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">64</span>);<br>    <span class="hljs-keyword">var</span> outerKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">64</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">64</span>; i++) &#123;<br>        innerKey[i] = <span class="hljs-number">0x36</span> ^ key[i];<br>        outerKey[i] = <span class="hljs-number">0x5c</span> ^ key[i];<br>    &#125;<br><br>    <span class="hljs-comment">// Append the innerKey</span><br>    <span class="hljs-keyword">var</span> msg = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(data.<span class="hljs-property">length</span> + <span class="hljs-number">64</span>);<br>    msg.<span class="hljs-title function_">set</span>(innerKey, <span class="hljs-number">0</span>);<br>    msg.<span class="hljs-title function_">set</span>(data, <span class="hljs-number">64</span>);<br><br>    <span class="hljs-comment">// Has the previous message and append the outerKey</span><br>    <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Uint8Array</span>(<span class="hljs-number">64</span> + <span class="hljs-number">32</span>);<br>    result.<span class="hljs-title function_">set</span>(outerKey, <span class="hljs-number">0</span>);<br>    result.<span class="hljs-title function_">set</span>(<span class="hljs-title function_">sha256</span>(msg), <span class="hljs-number">64</span>);<br><br>    <span class="hljs-comment">// Hash the previous message</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">sha256</span>(result);<br>&#125;<br><br><span class="hljs-comment">// Convert a string to a Uint8Array, SHA-256 it, and convert back to string</span><br><span class="hljs-keyword">const</span> encoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextEncoder</span>(<span class="hljs-string">&quot;utf-8&quot;</span>);<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">sign</span>(<span class="hljs-params">inputKey, inputData</span>) &#123;<br>    <span class="hljs-keyword">const</span> key = <span class="hljs-keyword">typeof</span> inputKey === <span class="hljs-string">&quot;string&quot;</span> ? encoder.<span class="hljs-title function_">encode</span>(inputKey) : inputKey;<br>    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">typeof</span> inputData === <span class="hljs-string">&quot;string&quot;</span> ? encoder.<span class="hljs-title function_">encode</span>(inputData) : inputData;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">hmac</span>(key, data);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">hash</span>(<span class="hljs-params">str</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">hex</span>(<span class="hljs-title function_">sha256</span>(encoder.<span class="hljs-title function_">encode</span>(str)));<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">hex</span>(<span class="hljs-params">bin</span>) &#123;<br>    <span class="hljs-keyword">return</span> bin.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, val</span>) =&gt;</span><br>        acc + (<span class="hljs-string">&quot;00&quot;</span> + val.<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>)).<span class="hljs-title function_">substr</span>(-<span class="hljs-number">2</span>)<br>        , <span class="hljs-string">&quot;&quot;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>使用</strong></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">console<span class="hljs-selector-class">.log</span>(<span class="hljs-built_in">hex</span>(<span class="hljs-built_in">sign</span>(<span class="hljs-string">&quot;秘钥&quot;</span>, <span class="hljs-string">&quot;数据&quot;</span>))) <span class="hljs-comment">// qMlLziV3yzjVb3VgwWhbSTYLsCZXTB1jftypu04SUDM=</span><br></code></pre></td></tr></table></figure><h1 id="HMAC"><a href="#HMAC" class="headerlink" title="HMAC"></a>HMAC</h1><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> CryptoJS = require(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">HMACEncrypt</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> <span class="hljs-built_in">text</span> = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span><br>  <span class="hljs-keyword">var</span> key = <span class="hljs-string">&quot;secret&quot;</span><br>  <span class="hljs-keyword">return</span> CryptoJS.HmacMD5(<span class="hljs-built_in">text</span>, key).toString();<br>&#125;<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(HMACEncrypt())<span class="hljs-comment">// 20ca7a63f1f4a7047ffd6b722b45319a</span><br></code></pre></td></tr></table></figure><h1 id="DES"><a href="#DES" class="headerlink" title="DES"></a>DES</h1><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> CryptoJS = require(&#x27;crypto-js&#x27;)<br><br>function desEncrypt() &#123;<br>  <span class="hljs-keyword">var</span> key = CryptoJS.<span class="hljs-keyword">enc</span>.Utf8.<span class="hljs-keyword">parse</span>(desKey),<br>      iv = CryptoJS.<span class="hljs-keyword">enc</span>.Utf8.<span class="hljs-keyword">parse</span>(desIv),<br>      srcs = CryptoJS.<span class="hljs-keyword">enc</span>.Utf8.<span class="hljs-keyword">parse</span>(text),<br>      <span class="hljs-comment">// CBC 加密模式，Pkcs7 填充方式</span><br>      encrypted = CryptoJS.<span class="hljs-keyword">DES</span>.encrypt(srcs, key, &#123;<br>        iv: iv,<br>        mode: CryptoJS.mode.CBC,<br>        padding: CryptoJS.pad.Pkcs7<br>      &#125;);<br>  <span class="hljs-keyword">return</span> encrypted.<span class="hljs-keyword">toString</span>();<br>&#125;<br><br>function desDecrypt() &#123;<br>  <span class="hljs-keyword">var</span> key = CryptoJS.<span class="hljs-keyword">enc</span>.Utf8.<span class="hljs-keyword">parse</span>(desKey),<br>      iv = CryptoJS.<span class="hljs-keyword">enc</span>.Utf8.<span class="hljs-keyword">parse</span>(desIv),<br>      srcs = encryptedData,<br>      <span class="hljs-comment">// CBC 加密模式，Pkcs7 填充方式</span><br>      decrypted = CryptoJS.<span class="hljs-keyword">DES</span>.decrypt(srcs, key, &#123;<br>        iv: iv,<br>        mode: CryptoJS.mode.CBC,<br>        padding: CryptoJS.pad.Pkcs7<br>      &#125;);<br>  <span class="hljs-keyword">return</span> decrypted.<span class="hljs-keyword">toString</span>(CryptoJS.<span class="hljs-keyword">enc</span>.Utf8);<br>&#125;<br><br><span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span>       <span class="hljs-comment">// 待加密对象</span><br><span class="hljs-keyword">var</span> desKey = <span class="hljs-string">&quot;0123456789ABCDEF&quot;</span>    <span class="hljs-comment">// 密钥</span><br><span class="hljs-keyword">var</span> desIv = <span class="hljs-string">&quot;0123456789ABCDEF&quot;</span>    <span class="hljs-comment">// 初始向量</span><br><br><span class="hljs-keyword">var</span> encryptedData = desEncrypt()<br><span class="hljs-keyword">var</span> decryptedData = desDecrypt()<br><br>console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;加密字符串: &quot;</span>, encryptedData)<br>console.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;解密字符串: &quot;</span>, decryptedData)<br><br><span class="hljs-comment">// 加密字符串:  p+4ovmk1n5YwN3dq5y8VqhngLKW//5MM/qDgtj2SOC6TpJaFgSKEVg==</span><br><span class="hljs-comment">// 解密字符串:   https://www.cnblogs.com/zichliang</span><br><br></code></pre></td></tr></table></figure><h1 id="3DES"><a href="#3DES" class="headerlink" title="3DES"></a>3DES</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">tripleDesEncrypt</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> key = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(desKey),<br>      iv = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(desIv),<br>      srcs = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(text),<br>      <span class="hljs-comment">// ECB 加密方式，Iso10126 填充方式</span><br>      encrypted = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">TripleDES</span>.<span class="hljs-title function_">encrypt</span>(srcs, key, &#123;<br>        <span class="hljs-attr">iv</span>: iv,<br>        <span class="hljs-attr">mode</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">mode</span>.<span class="hljs-property">ECB</span>,<br>        <span class="hljs-attr">padding</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">pad</span>.<span class="hljs-property">Iso10126</span><br>      &#125;);<br>  <span class="hljs-keyword">return</span> encrypted.<span class="hljs-title function_">toString</span>();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">tripleDesDecrypt</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> key = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(desKey),<br>      iv = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(desIv),<br>      srcs = encryptedData,<br>      <span class="hljs-comment">// ECB 加密方式，Iso10126 填充方式</span><br>      decrypted = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">TripleDES</span>.<span class="hljs-title function_">decrypt</span>(srcs, key, &#123;<br>        <span class="hljs-attr">iv</span>: iv,<br>        <span class="hljs-attr">mode</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">mode</span>.<span class="hljs-property">ECB</span>,<br>        <span class="hljs-attr">padding</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">pad</span>.<span class="hljs-property">Iso10126</span><br>      &#125;);<br>  <span class="hljs-keyword">return</span> decrypted.<span class="hljs-title function_">toString</span>(<span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>);<br>&#125;<br><br><span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span>       <span class="hljs-comment">// 待加密对象</span><br><span class="hljs-keyword">var</span> desKey = <span class="hljs-string">&quot;0123456789ABCDEF&quot;</span>    <span class="hljs-comment">// 密钥</span><br><span class="hljs-keyword">var</span> desIv = <span class="hljs-string">&quot;0123456789ABCDEF&quot;</span>    <span class="hljs-comment">// 偏移量</span><br><br><span class="hljs-keyword">var</span> encryptedData = <span class="hljs-title function_">tripleDesEncrypt</span>()<br><span class="hljs-keyword">var</span> decryptedData = <span class="hljs-title function_">tripleDesDecrypt</span>()<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;加密字符串: &quot;</span>, encryptedData)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;解密字符串: &quot;</span>, decryptedData)<br><br><span class="hljs-comment">// 加密字符串:   pl/nNfpIrejwK+/X87VmGZIbS3kOB+IpFcx/97wpR4AO6q9HGjxb4w==</span><br><span class="hljs-comment">// 解密字符串:   https://www.cnblogs.com/zichliang</span><br><br></code></pre></td></tr></table></figure><h1 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">CryptoJS</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">aesEncrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> key = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(aesKey),<br>        iv = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(aesIv),<br>        srcs = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(text),<br>        <span class="hljs-comment">// CBC 加密方式，Pkcs7 填充方式</span><br>        encrypted = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">AES</span>.<span class="hljs-title function_">encrypt</span>(srcs, key, &#123;<br>            <span class="hljs-attr">iv</span>: iv,<br>            <span class="hljs-attr">mode</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">mode</span>.<span class="hljs-property">CBC</span>,<br>            <span class="hljs-attr">padding</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">pad</span>.<span class="hljs-property">Pkcs7</span><br>        &#125;);<br>    <span class="hljs-keyword">return</span> encrypted.<span class="hljs-title function_">toString</span>();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">aesDecrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> key = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(aesKey),<br>        iv = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>.<span class="hljs-title function_">parse</span>(aesIv),<br>        srcs = encryptedData,<br>        <span class="hljs-comment">// CBC 加密方式，Pkcs7 填充方式</span><br>        decrypted = <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">AES</span>.<span class="hljs-title function_">decrypt</span>(srcs, key, &#123;<br>            <span class="hljs-attr">iv</span>: iv,<br>            <span class="hljs-attr">mode</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">mode</span>.<span class="hljs-property">CBC</span>,<br>            <span class="hljs-attr">padding</span>: <span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">pad</span>.<span class="hljs-property">Pkcs7</span><br>        &#125;);<br>    <span class="hljs-keyword">return</span> decrypted.<span class="hljs-title function_">toString</span>(<span class="hljs-title class_">CryptoJS</span>.<span class="hljs-property">enc</span>.<span class="hljs-property">Utf8</span>);<br>&#125;<br><br><span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span>       <span class="hljs-comment">// 待加密对象</span><br><span class="hljs-keyword">var</span> aesKey = <span class="hljs-string">&quot;0123456789ABCDEF&quot;</span>   <span class="hljs-comment">// 密钥，16 倍数</span><br><span class="hljs-keyword">var</span> aesIv = <span class="hljs-string">&quot;0123456789ABCDEF&quot;</span>    <span class="hljs-comment">// 偏移量，16 倍数</span><br><br><span class="hljs-keyword">var</span> encryptedData = <span class="hljs-title function_">aesEncrypt</span>()<br><span class="hljs-keyword">var</span> decryptedData = <span class="hljs-title function_">aesDecrypt</span>()<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;加密字符串: &quot;</span>, encryptedData)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;解密字符串: &quot;</span>, decryptedData)<br><br><span class="hljs-comment">// 加密字符串:  /q8i+1GN8yfzIb8CaEJfDOfDQ74in+XzQZYBtKF2wkAB6dM1qbBZ3HJVlY+kHDE3</span><br><span class="hljs-comment">// 解密字符串:  https://www.cnblogs.com/zichliang</span><br></code></pre></td></tr></table></figure><h1 id="RC4"><a href="#RC4" class="headerlink" title="RC4"></a>RC4</h1><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> CryptoJS = require(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">RC4Encrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> CryptoJS.RC4.encrypt(<span class="hljs-built_in">text</span>, key).toString();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">RC4Decrypt</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> CryptoJS.RC4.decrypt(encryptedData, key).toString(CryptoJS.enc.Utf8);<br>&#125;<br><br><span class="hljs-keyword">var</span> <span class="hljs-built_in">text</span> = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang&quot;</span><br><span class="hljs-keyword">var</span> key = <span class="hljs-string">&quot;12345678ASDFG&quot;</span><br><br><span class="hljs-keyword">var</span> encryptedData = RC4Encrypt()<br><span class="hljs-keyword">var</span> decryptedData = RC4Decrypt()<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;加密字符串: &quot;</span>, encryptedData)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;解密字符串: &quot;</span>, decryptedData)<br><br><span class="hljs-comment">// 加密字符串:  U2FsdGVkX19/bT2W57mzjwoF5Fc3Zb4WiyDU+MiNMmHfdJvZeScl0EW9yJWCPiRrsA==</span><br><span class="hljs-comment">// 解密字符串:  https://www.cnblogs.com/zichliang</span><br></code></pre></td></tr></table></figure><h1 id="Rabbit"><a href="#Rabbit" class="headerlink" title="Rabbit"></a>Rabbit</h1><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs arcade"><span class="hljs-comment">// 引用 crypto-js 加密模块</span><br><span class="hljs-keyword">var</span> CryptoJS = require(<span class="hljs-string">&#x27;crypto-js&#x27;</span>)<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">rabbitEncrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> CryptoJS.Rabbit.encrypt(<span class="hljs-built_in">text</span>, key).toString();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">rabbitDecrypt</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> CryptoJS.Rabbit.decrypt(encryptedData, key).toString(CryptoJS.enc.Utf8);<br>&#125;<br><br><span class="hljs-keyword">var</span> <span class="hljs-built_in">text</span> = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang/p/16653303.html&quot;</span><br><span class="hljs-keyword">var</span> key = <span class="hljs-string">&quot;1234567ASDFG&quot;</span><br><br><span class="hljs-keyword">var</span> encryptedData = rabbitEncrypt()<br><span class="hljs-keyword">var</span> decryptedData = rabbitDecrypt()<br><br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;加密字符串: &quot;</span>, encryptedData)<br><span class="hljs-built_in">console</span>.<span class="hljs-built_in">log</span>(<span class="hljs-string">&quot;解密字符串: &quot;</span>, decryptedData)<br><br><span class="hljs-comment">// 加密字符串:  U2FsdGVkX1/pYbHvbNff3/RNpso4yRKIX0XDFta8hoLNxe52K8HSmF+XV8ayYqucTKVPP6AJtGczXS7U9kkxHnw=</span><br><span class="hljs-comment">// 解密字符串:  https://www.cnblogs.com/zichliang/p/16653303.html</span><br></code></pre></td></tr></table></figure><h1 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h1><h2 id="使用-node-rsa"><a href="#使用-node-rsa" class="headerlink" title="使用 node-rsa"></a>使用 node-rsa</h2><p>需要安装一个库 </p><blockquote><p>npm install node-rsa</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 引用 node-rsa 加密模块</span><br><span class="hljs-keyword">var</span> <span class="hljs-title class_">NodeRSA</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node-rsa&#x27;</span>);<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">rsaEncrypt</span>(<span class="hljs-params"></span>) &#123;<br>    pubKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NodeRSA</span>(publicKey,<span class="hljs-string">&#x27;pkcs8-public&#x27;</span>);<br>    <span class="hljs-keyword">var</span> encryptedData = pubKey.<span class="hljs-title function_">encrypt</span>(text, <span class="hljs-string">&#x27;base64&#x27;</span>);<br>    <span class="hljs-keyword">return</span> encryptedData<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">rsaDecrypt</span>(<span class="hljs-params"></span>) &#123;<br>    priKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NodeRSA</span>(privatekey,<span class="hljs-string">&#x27;pkcs8-private&#x27;</span>);<br>    <span class="hljs-keyword">var</span> decryptedData = priKey.<span class="hljs-title function_">decrypt</span>(encryptedData, <span class="hljs-string">&#x27;utf8&#x27;</span>);<br>    <span class="hljs-keyword">return</span> decryptedData<br>&#125;<br><br><span class="hljs-keyword">var</span> key = <span class="hljs-keyword">new</span> <span class="hljs-title class_">NodeRSA</span>(&#123;<span class="hljs-attr">b</span>: <span class="hljs-number">512</span>&#125;);                    <span class="hljs-comment">//生成512位秘钥</span><br><span class="hljs-keyword">var</span> publicKey = key.<span class="hljs-title function_">exportKey</span>(<span class="hljs-string">&#x27;pkcs8-public&#x27;</span>);    <span class="hljs-comment">//导出公钥</span><br><span class="hljs-keyword">var</span> privatekey = key.<span class="hljs-title function_">exportKey</span>(<span class="hljs-string">&#x27;pkcs8-private&#x27;</span>);  <span class="hljs-comment">//导出私钥</span><br><span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang/p/16653303.html&quot;</span><br><br><span class="hljs-keyword">var</span> encryptedData = <span class="hljs-title function_">rsaEncrypt</span>()<br><span class="hljs-keyword">var</span> decryptedData = <span class="hljs-title function_">rsaDecrypt</span>()<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;公钥:\n&quot;</span>, publicKey)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;私钥:\n&quot;</span>, privatekey)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;加密字符串: &quot;</span>, encryptedData)<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;解密字符串: &quot;</span>, decryptedData)<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">公钥:</span><br><span class="hljs-comment"> -----BEGIN PUBLIC KEY-----</span><br><span class="hljs-comment">MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAN7JoMDNvvpB/po2OMSeSKsromfP5EyI</span><br><span class="hljs-comment">0fAz6XDVwqdTUBwwAArLlqIzmVNK0yi4nlbj5eF+O8ZjRkRQ6xKP/CMCAwEAAQ==</span><br><span class="hljs-comment">-----END PUBLIC KEY-----</span><br><span class="hljs-comment">私钥:</span><br><span class="hljs-comment"> -----BEGIN PRIVATE KEY-----</span><br><span class="hljs-comment">MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEA3smgwM2++kH+mjY4</span><br><span class="hljs-comment">xJ5IqyuiZ8/kTIjR8DPpcNXCp1NQHDAACsuWojOZU0rTKLieVuPl4X47xmNGRFDr</span><br><span class="hljs-comment">Eo/8IwIDAQABAkEArI0Ps6TnIJ9SmZAbYbWSZPjTvYHXuatSpq8eQ+Vb8Ql003G5</span><br><span class="hljs-comment">Y2FIoWpQX1jQ9/DsxEZ/1u+71bl08z1eONz2KQIhAPgLZOKanhDDaOn5sO7Y2RM3</span><br><span class="hljs-comment">TyLS08mCGNGQxEhkEttFAiEA5e7bvnrSNh1lcF/QTxkWPGoXb9kxPljm49CfiTS9</span><br><span class="hljs-comment">PEcCIDzxX7olTwzDVjWWeZhVgxArmK/vqMVrx3lF3lQC8ncZAiBlpY5nSoybd6tc</span><br><span class="hljs-comment">Xj8MeJ6n3o6112I5mbuYgqXEVhhCCQIgY6vinhOzMF0dX9MNjBm8x1mUCd4XG2TN</span><br><span class="hljs-comment">QQcOik3RIGw=</span><br><span class="hljs-comment">-----END PRIVATE KEY-----</span><br><span class="hljs-comment">加密字符串:  ZolvYwjFqOp1Yldui7rm75mSN5kz7533nc3B3H6xZGQR9v0elhbcjmI9vXaBsgdLNTuyoVk3bfzWfQdeIpvCpcBCTGe1HG9KrSBYDiWJc4vBgVBz8D57/XaS1zjM0kuAJ/ELu4os7XG5lMQbRbFhHXs7zQsIBq6/m2IZdGWx7HjB2jiQBQPMfszdQUOwQA</span><br><span class="hljs-comment">bM5o7lRvUgdMVaZkEWpOTEybmUX4kxBP5CvNtB86oTRUw+U7Ex7QB8lWj33hoKvh70</span><br><span class="hljs-comment">解密字符串:  https://www.cnblogs.com/zichliang/p/16653303.html</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h2 id="使用自带模块crypto"><a href="#使用自带模块crypto" class="headerlink" title="使用自带模块crypto:"></a>使用自带模块crypto:</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;crypto&#x27;</span>);<br><span class="hljs-keyword">const</span> nodeRSA = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node-rsa&#x27;</span>);<br><br><span class="hljs-comment">// 生成一个1024长度的密钥对</span><br><span class="hljs-keyword">const</span> key = <span class="hljs-keyword">new</span> <span class="hljs-title function_">nodeRSA</span>(&#123;<span class="hljs-attr">b</span>: <span class="hljs-number">1024</span>&#125;);<br><span class="hljs-comment">// 导出公钥</span><br><span class="hljs-keyword">const</span> publicKey = key.<span class="hljs-title function_">exportKey</span>(<span class="hljs-string">&#x27;public&#x27;</span>);<br><span class="hljs-comment">// 导出私钥</span><br><span class="hljs-keyword">const</span> privateKey = key.<span class="hljs-title function_">exportKey</span>(<span class="hljs-string">&#x27;private&#x27;</span>);<br><br><span class="hljs-keyword">const</span> secret = <span class="hljs-string">&#x27;https://www.cnblogs.com/zichliang/p/16653303.html&#x27;</span><br><span class="hljs-comment">// 使用私钥加密，公钥解密</span><br><span class="hljs-keyword">const</span> encrypt = crypto.<span class="hljs-title function_">privateEncrypt</span>(privateKey, <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(secret));<br><span class="hljs-keyword">const</span> decrypt = crypto.<span class="hljs-title function_">publicDecrypt</span>(publicKey, encrypt);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;加密后：&#x27;</span>, encrypt.<span class="hljs-title function_">toString</span>(<span class="hljs-string">&#x27;base64&#x27;</span>));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;解密后：&#x27;</span>, decrypt.<span class="hljs-title function_">toString</span>());<br></code></pre></td></tr></table></figure><h1 id="RSA-长加密"><a href="#RSA-长加密" class="headerlink" title="RSA 长加密"></a>RSA 长加密</h1><p>这个加密是真的麻烦 ，而且还需要导入jsencrypt.min.js<br>这里贴上 GitHub地址 <a href="https://github.com/wangqinglongDo/github_demo/blob/master/libs/jsencrypt.min.js">https://github.com/wangqinglongDo/github_demo/blob/master/libs/jsencrypt.min.js</a><br>对了 还需要补环境 而且解密也不是很好用，如果有大佬知道如何解密的 希望在评论区告诉我</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> encrypt = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSEncrypt</span>();<br><span class="hljs-keyword">var</span> publickKey = <span class="hljs-string">&quot;-----BEGIN PUBLIC KEY-----\</span><br><span class="hljs-string">MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDLFb8qp1vRFvi/qfgi1Wg7Mi8l\</span><br><span class="hljs-string">LcpfAc+tgpyD7aFW9QquQVMm/jG1IJZVQ6LsdkI7TiDutMCzOMCBXbdSC9BCIAGA\</span><br><span class="hljs-string">L2Sz3cYVlGb1kYSM0ZMcUMIK5eF4Bptke070XHvbi8wArtysJ0l71RHDd786tNbG\</span><br><span class="hljs-string">W0hDSw3zAqTErbxFaQIDAQAB\</span><br><span class="hljs-string">-----END PUBLIC KEY-----\</span><br><span class="hljs-string">&quot;</span><br>encrypt.<span class="hljs-title function_">setPublicKey</span>(publickKey);  <span class="hljs-comment">//设置公钥加密证书</span><br><span class="hljs-keyword">var</span> data = <span class="hljs-string">&quot;https://www.cnblogs.com/zichliang/p/17265960.html&quot;</span>;<br><span class="hljs-keyword">var</span> commonEncodeData = encrypt.<span class="hljs-title function_">encryptLong</span>(data);   <span class="hljs-comment">// 普通的加密</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(commonEncodeData)<br><br><span class="hljs-keyword">var</span> cnEscapeData = <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">btoa</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-built_in">encodeURIComponent</span>(data));  <span class="hljs-comment">//base64 解密后的加密</span><br><span class="hljs-keyword">var</span> encryptData = encrypt.<span class="hljs-title function_">encryptLong</span>(cnEscapeData);  <span class="hljs-comment">//获取加密后数据。</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(encryptData)<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 语言加解密 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>scrapy结合加速乐完成无损爬取</title>
      <link href="/2023/03/09/scrapy%E7%BB%93%E5%90%88%E5%8A%A0%E9%80%9F%E4%B9%90%E5%AE%8C%E6%88%90%E6%97%A0%E6%8D%9F%E7%88%AC%E5%8F%96/"/>
      <url>/2023/03/09/scrapy%E7%BB%93%E5%90%88%E5%8A%A0%E9%80%9F%E4%B9%90%E5%AE%8C%E6%88%90%E6%97%A0%E6%8D%9F%E7%88%AC%E5%8F%96/</url>
      
        <content type="html"><![CDATA[<p><strong>中间件重要知识： 返回None代表继续通过 返回request就重新走调度流程</strong></p><p>本文文章中 需要在settings中设置 <strong>COOKIES_ENABLED &#x3D; True</strong></p><p>这里超链接一篇文章（不理解COOKIES_ENABLED 的可以看看）—<a href="https://blog.csdn.net/u013444182/article/details/105282050">scrapy 中 COOKIES_ENABLED 设置_NealHuiwen的博客-CSDN博客</a></p><p>其次需要开启爬虫中的cookie中间件</p><p><a href="http://utilsmiddlewares.py/">utilsMiddlewares.py</a> &gt;&gt;&gt;&gt;&gt;&gt;&gt;</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">HandleCookieMiddleware</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_request</span>(<span class="hljs-params">self, request, spider</span>):<br>       <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_response</span>(<span class="hljs-params">self, request, response, spider</span>):<br>        status_code = response.status<br>        <span class="hljs-keyword">if</span> status_code == <span class="hljs-number">521</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;jsl&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>, response.url)<br>            cookies, response, ok = <span class="hljs-variable language_">self</span>.get_cookie(response)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> ok:<br>                <span class="hljs-keyword">return</span> response<br><br>            request.cookies = cookies<br>            request.headers[<br>                <span class="hljs-string">&#x27;User-Agent&#x27;</span>] = <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36&#x27;</span><br>            <span class="hljs-keyword">return</span> request<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_cookie</span>(<span class="hljs-params">self, response</span>) -&gt; (<span class="hljs-built_in">dict</span>, Response, <span class="hljs-built_in">bool</span>):<br>    <span class="hljs-keyword">if</span> pattern := re.findall(<span class="hljs-string">r&#x27;cookie=(.*?);location&#x27;</span>, response.text):<br>        encrypt_jsfuck = pattern[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>, response, <span class="hljs-literal">False</span><br>        <span class="hljs-comment"># return response</span><br>    DJ = DecryptJsl()<br>    decrypt_jsfuck = <span class="hljs-built_in">str</span>(execjs.<span class="hljs-built_in">eval</span>(encrypt_jsfuck))<br>    first_decrypt_cookie = decrypt_jsfuck.split(<span class="hljs-string">&#x27;=&#x27;</span>)[<span class="hljs-number">1</span>].split(<span class="hljs-string">&#x27;;&#x27;</span>)[<span class="hljs-number">0</span>]<br>    jsl_cookie_key = decrypt_jsfuck.split(<span class="hljs-string">&#x27;=&#x27;</span>)[<span class="hljs-number">0</span>]<br>    first_set_cookie = &#123;&#125;<br>    <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(response.headers.getlist(<span class="hljs-string">&#x27;Set-Cookie&#x27;</span>)[<span class="hljs-number">0</span>].decode(<span class="hljs-string">&quot;utf-8&quot;</span>)).split(<span class="hljs-string">&quot;;&quot;</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;=&quot;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> c:<br>            <span class="hljs-keyword">continue</span><br>        first_set_cookie[c.split(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">0</span>]] = c.split(<span class="hljs-string">&quot;=&quot;</span>)[<span class="hljs-number">1</span>]<br>    first_cookies = &#123;<br>        **first_set_cookie,<br>        jsl_cookie_key: first_decrypt_cookie&#125;<br>    res1 = requests.get(response.url, cookies=first_cookies, headers=&#123;<br>        <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36&#x27;</span>,<br>    &#125;)<br>    data = json.loads(re.findall(<span class="hljs-string">r&#x27;;go\((.*?)\)&#x27;</span>, res1.text)[<span class="hljs-number">0</span>])<br>    second_decrypt_cookie = DJ.get_parameter(data)<br>    cookies = &#123;<br>        **first_set_cookie,<br>        jsl_cookie_key: second_decrypt_cookie&#125;<br>    <span class="hljs-keyword">return</span> cookies, <span class="hljs-literal">None</span>, <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>2024-4-24 </p><p>上面方法是我自实现的方法。可能很多时候不适用。</p><p>这几天入职新公司 遇到个新方法 非常好用</p><p>直接看源码。好用成DOG啊。看到这里的同学 你遇到宝了。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs jsx">def <span class="hljs-title function_">process_response</span>(self, request, response, spider):<br>    <span class="hljs-keyword">if</span> response.<span class="hljs-property">status</span> == <span class="hljs-number">521</span>:<br>        <span class="hljs-title function_">print</span>(<span class="hljs-string">&quot;jsl&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>, response.<span class="hljs-property">url</span>)<br>        <span class="hljs-variable constant_">DJ</span> = <span class="hljs-title class_">DecryptJsl</span>()<br>        cookies = <span class="hljs-variable constant_">DJ</span>.<span class="hljs-title function_">get_cookies</span>(response.<span class="hljs-property">url</span>)<br><br>        # request.<span class="hljs-property">cookies</span> = cookies<br>        headers = &#123;<br>            <span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36&#x27;</span>,<br>        &#125;<br>        req_res = requests.<span class="hljs-title function_">get</span>(response.<span class="hljs-property">url</span>, headers=headers, cookies=cookies)<br><br>        response = <span class="hljs-title class_">TextResponse</span>(url=req_res.<span class="hljs-property">url</span>,<br>                     body=req_res.<span class="hljs-property">text</span>,<br>                     encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>       <br>        <span class="hljs-keyword">return</span> response<br><br>    <span class="hljs-keyword">return</span> response<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 杂记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> scrapy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gin_Resonse返回格式</title>
      <link href="/2022/11/26/Gin-Resonse%E8%BF%94%E5%9B%9E%E6%A0%BC%E5%BC%8F/"/>
      <url>/2022/11/26/Gin-Resonse%E8%BF%94%E5%9B%9E%E6%A0%BC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<!--toc--><hr><p>目的： gin返回restful格式的数据，返回的200，201 的数据 也包括异常时的404&#x2F;500等情况<br>全局统一返回RESTful风格数据，主要是实现Respon接口的方法，对返回值在输出之前进行修改。</p><p>直接调用下文代码即可</p><h1 id="第一种方式"><a href="#第一种方式" class="headerlink" title="第一种方式"></a>第一种方式</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> response<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br> <span class="hljs-string">&quot;net/http&quot;</span><br>)<br><br><span class="hljs-comment">// Response</span><br><span class="hljs-comment">// context 上下文</span><br><span class="hljs-comment">// httpStatus http 状态码</span><br><span class="hljs-comment">// code 自己定义的状态码</span><br><span class="hljs-comment">// data 返回的空接口</span><br><span class="hljs-comment">// msg 返回的信息</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Response</span><span class="hljs-params">(context *gin.Context, httpStatus <span class="hljs-type">int</span>, code <span class="hljs-type">int</span>, data gin.H, msg <span class="hljs-type">string</span>)</span></span> &#123;<br> context.JSON(httpStatus, gin.H&#123;<br>  <span class="hljs-string">&quot;code&quot;</span>: code,<br>  <span class="hljs-string">&quot;data&quot;</span>: data,<br>  <span class="hljs-string">&quot;msg&quot;</span>:  msg,<br> &#125;)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Success</span><span class="hljs-params">(context *gin.Context, data gin.H, msg <span class="hljs-type">string</span>)</span></span> &#123;<br> context.JSON(http.StatusOK, gin.H&#123;<br>  <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">200</span>,<br>  <span class="hljs-string">&quot;data&quot;</span>: data,<br>  <span class="hljs-string">&quot;msg&quot;</span>:  msg,<br> &#125;)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Fail</span><span class="hljs-params">(context *gin.Context, data gin.H, msg <span class="hljs-type">string</span>)</span></span> &#123;<br> context.JSON(http.StatusOK, gin.H&#123;<br>  <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">400</span>,<br>  <span class="hljs-string">&quot;data&quot;</span>: data,<br>  <span class="hljs-string">&quot;msg&quot;</span>:  msg,<br> &#125;)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">UnprocessableEntity</span><span class="hljs-params">(context *gin.Context, data gin.H, msg <span class="hljs-type">string</span>)</span></span> &#123;<br> context.JSON(http.StatusUnprocessableEntity, gin.H&#123;<br>  <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-number">422</span>,<br>  <span class="hljs-string">&quot;data&quot;</span>: data,<br>  <span class="hljs-string">&quot;msg&quot;</span>:  msg,<br> &#125;)<br>&#125;<br><br></code></pre></td></tr></table></figure><p>后续可以自己添加方法然后固定的格式</p><h1 id="第二种方式"><a href="#第二种方式" class="headerlink" title="第二种方式"></a>第二种方式</h1><p>构建一个结构体 然后只有有些无用的值是可以不传的。<br>这种方式对比上一种更加灵活多变。</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs golang"><span class="hljs-keyword">package</span> api<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;github.com/gin-gonic/gin&quot;</span><br> <span class="hljs-string">&quot;net/http&quot;</span><br> <span class="hljs-string">&quot;reflect&quot;</span><br>)<br><br><span class="hljs-keyword">type</span> ResponseJson <span class="hljs-keyword">struct</span> &#123;<br> Status <span class="hljs-type">int</span>    <span class="hljs-string">`json:&quot;-&quot;`</span><br> Code   <span class="hljs-type">int</span>    <span class="hljs-string">`json:&quot;code,omitempty&quot;`</span><br> Msg    <span class="hljs-type">string</span> <span class="hljs-string">`json:&quot;msg,omitempty&quot;`</span><br> Data   any    <span class="hljs-string">`json:&quot;data,omitempty&quot;`</span><br>&#125;<br><br><span class="hljs-comment">// IsEmpty 判断结构体是否为空</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r ResponseJson)</span></span> IsEmpty() <span class="hljs-type">bool</span> &#123;<br> <span class="hljs-keyword">return</span> reflect.DeepEqual(r, ResponseJson&#123;&#125;)<br>&#125;<br><br><span class="hljs-comment">// 构建状态码 ，如果 传入的ResponseJson没有Status 就使用默认的状态码</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">buildStatus</span><span class="hljs-params">(resp ResponseJson, defaultStatus <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">int</span> &#123;<br> <span class="hljs-keyword">if</span> resp.Status == <span class="hljs-number">0</span> &#123;<br>  <span class="hljs-keyword">return</span> defaultStatus<br> &#125;<br> <span class="hljs-keyword">return</span> resp.Status<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HttpResponse</span><span class="hljs-params">(ctx *gin.Context, status <span class="hljs-type">int</span>, resp ResponseJson)</span></span> &#123;<br> <span class="hljs-keyword">if</span> resp.IsEmpty() &#123;<br>  ctx.AbortWithStatus(status)<br>  <span class="hljs-keyword">return</span><br> &#125;<br> ctx.AbortWithStatusJSON(status, resp)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Success</span><span class="hljs-params">(ctx *gin.Context, resp ResponseJson)</span></span> &#123;<br> HttpResponse(ctx, buildStatus(resp, http.StatusOK), resp)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Fail</span><span class="hljs-params">(ctx *gin.Context, resp ResponseJson)</span></span> &#123;<br> HttpResponse(ctx, buildStatus(resp, http.StatusBadRequest), resp)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ServerFail</span><span class="hljs-params">(ctx *gin.Context, resp ResponseJson)</span></span> &#123;<br> HttpResponse(ctx, buildStatus(resp, http.StatusInternalServerError), resp)<br><br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gin速用 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ubuntu下安装redis并且设置远程登陆和密码</title>
      <link href="/2022/11/26/Ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85redis%E5%B9%B6%E4%B8%94%E8%AE%BE%E7%BD%AE%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86%E5%92%8C%E5%AF%86%E7%A0%81/"/>
      <url>/2022/11/26/Ubuntu%E4%B8%8B%E5%AE%89%E8%A3%85redis%E5%B9%B6%E4%B8%94%E8%AE%BE%E7%BD%AE%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86%E5%92%8C%E5%AF%86%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<!--toc--><hr><h1 id="安装redis"><a href="#安装redis" class="headerlink" title="安装redis"></a>安装redis</h1><blockquote><p>sudo apt-get install -y redis-server</p></blockquote><h1 id="更改配置"><a href="#更改配置" class="headerlink" title="更改配置"></a>更改配置</h1><blockquote><p>sudo vim &#x2F;etc&#x2F;redis&#x2F;redis.conf</p></blockquote><p><img src="https://s2.loli.net/2024/08/26/XThu9WoMF1INzCJ.png"><br><img src="https://s2.loli.net/2024/08/26/wGmL1tdIK6EhqWQ.png"><br><img src="https://s2.loli.net/2024/08/26/zRoObl6vKPq1riC.png"></p><p>如果不知道怎么找<br>直接在命令行模式下输入<br>&#x2F;{你要搜索的东西} 然后按回车 然后按n是下一个 N是上一个</p><h1 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h1><blockquote><p>systemctl restart redis-server.service</p></blockquote><h1 id="远程连接"><a href="#远程连接" class="headerlink" title="远程连接"></a>远程连接</h1><p>使用远程工具 Redis Desktop Manager<br>下载地址<br>官网: <a href="https://resp.app/pricing">https://resp.app/pricing</a><br>百度网盘：<a href="https://pan.baidu.com/s/1dxo16QadKMuKPYT-z7nm6g">https://pan.baidu.com/s/1dxo16QadKMuKPYT-z7nm6g</a><br>提取码：00c0</p><p><img src="https://s2.loli.net/2024/08/26/lynw3ZIqLeWk8g9.png"></p><p><img src="https://s2.loli.net/2024/08/26/hziQdgPOETZaojN.png"><br>然后测试连接<br><img src="https://s2.loli.net/2024/08/26/mHoUBhuOxEz5W1e.png"></p><p>代表成功</p>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python加密解密算法</title>
      <link href="/2022/11/04/Python%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/"/>
      <url>/2022/11/04/Python%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="url-encode加密"><a href="#url-encode加密" class="headerlink" title="url encode加密"></a>url encode加密</h1><p>简介：当url地址含有中文，或者参数有中文的时候，这个算是很正常了，但是把这样的url作为参数传递的时候（最常见的callback）<br>，需要把一些中文甚至’&#x2F;‘做一下编码转换。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> urllib.parse<br><br><br>text = <span class="hljs-string">&quot;我爱吃鸡腿&quot;</span><br>s = urllib.parse.quote(text)<br><span class="hljs-built_in">print</span>(s) <span class="hljs-comment"># %E6%88%91%E7%88%B1%E5%90%83%E9%B8%A1%E8%85%BF</span><br>u = urllib.parse.unquote(s)<br><span class="hljs-built_in">print</span>(u) <span class="hljs-comment">#我爱吃鸡腿</span><br></code></pre></td></tr></table></figure><h1 id="unicode-加密"><a href="#unicode-加密" class="headerlink" title="unicode 加密"></a>unicode 加密</h1><p>其实这应该不算一种加密 更多的应该算是一种编码与解码<br>但是由于运用很广泛 我也加进去了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2023/2/28 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br>str1 = <span class="hljs-string">&quot;你好&quot;</span><br><br><span class="hljs-comment"># 编码</span><br>enStr1 = str1.encode(<span class="hljs-string">&#x27;unicode-escape&#x27;</span>).decode()<br><span class="hljs-built_in">print</span>(enStr1) <span class="hljs-comment"># \u4f60\u597d</span><br><br><span class="hljs-comment"># 解码</span><br>deStr1 = enStr1.encode().decode(<span class="hljs-string">&#x27;unicode-escape&#x27;</span>)<br><span class="hljs-built_in">print</span>(deStr1) <span class="hljs-comment"># 你好</span><br></code></pre></td></tr></table></figure><h1 id="Base64-加密"><a href="#Base64-加密" class="headerlink" title="Base64 加密"></a>Base64 加密</h1><p>简介：Base64 是一种用 64 个字符来表示任意二进制数据的方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> base64<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">base64_encode</span>(<span class="hljs-params">text</span>):<br>    encode_data = base64.b64encode(text.encode())<br>    <span class="hljs-keyword">return</span> encode_data<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">base64_decode</span>(<span class="hljs-params">encode_data</span>):<br>    decode_data = base64.b64decode(encode_data)<br>    <span class="hljs-keyword">return</span> decode_data<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    text = <span class="hljs-string">&#x27;I love Python!&#x27;</span><br>    encode_data = base64_encode(text)<br>    decode_data = base64_decode(encode_data)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Base64 编码：&#x27;</span>, encode_data)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Base64 解码：&#x27;</span>, decode_data)<br>    <br>    <span class="hljs-comment"># Base64 编码： b&#x27;SSBsb3ZlIFB5dGhvbiE=&#x27;</span><br><span class="hljs-comment"># Base64 解码： b&#x27;I love Python!&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="MD5"><a href="#MD5" class="headerlink" title="MD5"></a>MD5</h1><p>简介：全称 MD5 消息摘要算法（英文名称：MD5 Message-Digest Algorithm），又称哈希算法、散列算法，<br>由美国密码学家罗纳德·李维斯特（Ronald Linn Rivest）设计，于 1992 年作为 RFC 1321 被公布，<br>用以取代 MD4 算法。摘要算法是单向加密的，也就是说明文通过摘要算法加密之后，是不能解密的。<br>摘要算法的第二个特点密文是固定长度的，它通过一个函数，把任意长度的数据转换为一个长度固定的数据串<br>（通常用16进制的字符串表示）。之所以叫摘要算法，它的算法就是提取明文重要的特征。所以，<br>两个不同的明文，使用了摘要算法之后，有可能他们的密文是一样的，不过这个概率非常的低。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> hashlib<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">md5_test1</span>():<br>    md5 = hashlib.new(<span class="hljs-string">&#x27;md5&#x27;</span>, <span class="hljs-string">&#x27;I love python!&#x27;</span>.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(md5.hexdigest())<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">md5_test2</span>():<br>    md5 = hashlib.md5()<br>    md5.update(<span class="hljs-string">&#x27;I love &#x27;</span>.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    md5.update(<span class="hljs-string">&#x27;python!&#x27;</span>.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(md5.hexdigest())<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    md5_test1()  <span class="hljs-comment"># 21169ee3acd4a24e1fcb4322cfd9a2b8</span><br>    md5_test2()  <span class="hljs-comment"># 21169ee3acd4a24e1fcb4322cfd9a2b8</span><br></code></pre></td></tr></table></figure><h1 id="PBKDF2"><a href="#PBKDF2" class="headerlink" title="PBKDF2"></a>PBKDF2</h1><p>简介：英文名称：Password-Based Key Derivation Function 2，<br>PBKDF2 是 RSA 实验室的公钥加密标准（PKCS）系列的一部分，<br>2017 年发布的 RFC 8018 （PKCS #5 v2.1）推荐使用 PBKDF2 进行密码散列。<br>PBKDF2 将伪随机函数（例如 HMAC），<br>把明文和一个盐值（salt）作为输入参数，然后进行重复运算，并最终产生密钥，<br>如果重复的次数足够大，破解的成本就会变得很高。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> binascii<br><span class="hljs-keyword">from</span> Cryptodome.Hash <span class="hljs-keyword">import</span> SHA1<br><span class="hljs-keyword">from</span> Cryptodome.Protocol.KDF <span class="hljs-keyword">import</span> PBKDF2<br><br><br>text = <span class="hljs-string">&#x27;I love Python!&#x27;</span><br>salt = <span class="hljs-string">b&#x27;43215678&#x27;</span><br>result = PBKDF2(text,  salt, count=<span class="hljs-number">10</span>, hmac_hash_module=SHA1)<br>result = binascii.hexlify(result)<br><span class="hljs-built_in">print</span>(result)<br><span class="hljs-comment"># b&#x27;7fee6e8350cfe96314c76aaa6e853a50&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="SHA"><a href="#SHA" class="headerlink" title="SHA"></a>SHA</h1><p>简介：全称安全哈希算法（英文名称：Secure Hash Algorithm），<br>由美国国家安全局（NSA）所设计，主要适用于数字签名标准<br>（Digital Signature Standard DSS）里面定义的数字签名算法（<br>Digital Signature Algorithm DSA），SHA 通常指 SHA 家族的五个算法，<br>分别是 SHA-1、SHA-224、SHA-256、SHA-384、SHA-512，<br>后四者有时并称为 SHA-2，SHA 是比 MD5 更安全一点的摘要算法，<br>MD5 的密文是 32 位，而 SHA-1 是 40 位，<br>版本越强，密文越长，代价是速度越慢。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> hashlib<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sha1_test1</span>():<br>    sha1 = hashlib.new(<span class="hljs-string">&#x27;sha1&#x27;</span>, <span class="hljs-string">&#x27;I love python!&#x27;</span>.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(sha1.hexdigest())<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sha1_test2</span>():<br>    sha1 = hashlib.sha1()<br>    sha1.update(<span class="hljs-string">&#x27;I love python!&#x27;</span>.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(sha1.hexdigest())<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    sha1_test1()  <span class="hljs-comment"># 23c02b203bd2e2ca19da911f1d270a06d86719fb</span><br>    sha1_test2()  <span class="hljs-comment"># 23c02b203bd2e2ca19da911f1d270a06d86719fb</span><br></code></pre></td></tr></table></figure><h1 id="HMAC"><a href="#HMAC" class="headerlink" title="HMAC"></a>HMAC</h1><p>简介：全称散列消息认证码、密钥相关的哈希运算消息认证码<br>（英文名称：Hash-based Message Authentication Code 或者 Keyed-hash Message Authentication Code），<br>于 1996 年提出，1997 年作为 RFC 2104 被公布，HMAC 加密算法是一种安全的基于加密 Hash<br>函数和共享密钥的消息认证协议，它要求通信双方共享密钥 key、约定算法、<br>对报文进行 Hash 运算，形成固定长度的认证码。通信双方<br>通过认证码的校验来确定报文的合法性。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> hmac<br><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hmac_test1</span>():<br>    message = <span class="hljs-string">b&#x27;I love python!&#x27;</span><br>    key = <span class="hljs-string">b&#x27;secret&#x27;</span><br>    md5 = hmac.new(key, message, digestmod=<span class="hljs-string">&#x27;MD5&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(md5.hexdigest())<br>    <br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">hmac_test2</span>():<br>    key = <span class="hljs-string">&#x27;secret&#x27;</span>.encode(<span class="hljs-string">&#x27;utf8&#x27;</span>)<br>    sha1 = hmac.new(key, digestmod=<span class="hljs-string">&#x27;sha1&#x27;</span>)<br>    sha1.update(<span class="hljs-string">&#x27;I love &#x27;</span>.encode(<span class="hljs-string">&#x27;utf8&#x27;</span>))<br>    sha1.update(<span class="hljs-string">&#x27;Python!&#x27;</span>.encode(<span class="hljs-string">&#x27;utf8&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(sha1.hexdigest())<br>        <br>        <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    hmac_test1()  <span class="hljs-comment"># 9c503a1f852edcc3526ea56976c38edf</span><br>    hmac_test2()  <span class="hljs-comment"># 2d8449a4292d4bbeed99ce9ea570880d6e19b61a</span><br><br></code></pre></td></tr></table></figure><h1 id="DES"><a href="#DES" class="headerlink" title="DES"></a>DES</h1><p>简介：全称数据加密标准（英文名称：Data Encryption Standard），加密与解密使用同一密钥，<br>属于对称加密算法，1977 年被美国联邦政府的国家标准局确定为联邦资料处理标准（FIPS），<br>DES 是一个分组加密算法，使用 56 位的密钥（一般认为密钥是 64 位，<br>但是密钥的每个第 8 位设置为奇偶校验位，所以实际上有效位只有 56 位），<br>由于 56 位密钥长度相对较短，所以 DES 是不安全的，现在基本上已被更高级的加密标准 AES 取代。</p><p>mode 支持：CBC，CFB，CTR，CTRGladman，ECB，OFB 等。<br>padding 支持：ZeroPadding，NoPadding，AnsiX923，Iso10126，Iso97971，Pkcs7 等。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> binascii<br><span class="hljs-comment"># 加密模式 CBC，填充方式 PAD_PKCS5</span><br><span class="hljs-keyword">from</span> pyDes <span class="hljs-keyword">import</span> des, CBC, PAD_PKCS5<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">des_encrypt</span>(<span class="hljs-params">key, text, iv</span>):<br>    k = des(key, CBC, iv, pad=<span class="hljs-literal">None</span>, padmode=PAD_PKCS5)<br>    en = k.encrypt(text, padmode=PAD_PKCS5)<br>    <span class="hljs-keyword">return</span> binascii.b2a_hex(en)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">des_decrypt</span>(<span class="hljs-params">key, text, iv</span>):<br>    k = des(key, CBC, iv, pad=<span class="hljs-literal">None</span>, padmode=PAD_PKCS5)<br>    de = k.decrypt(binascii.a2b_hex(text), padmode=PAD_PKCS5)<br>    <span class="hljs-keyword">return</span> de<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    secret_key = <span class="hljs-string">&#x27;12345678&#x27;</span>   <span class="hljs-comment"># 密钥</span><br>    text = <span class="hljs-string">&#x27;I love Python!&#x27;</span>   <span class="hljs-comment"># 加密对象</span><br>    iv = secret_key           <span class="hljs-comment"># 偏移量</span><br>    secret_str = des_encrypt(secret_key, text, iv)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;加密字符串：&#x27;</span>, secret_str)<br>    clear_str = des_decrypt(secret_key, secret_str, iv)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;解密字符串：&#x27;</span>, clear_str)<br>    <br>    <br>    <span class="hljs-comment"># 加密字符串： b&#x27;302d3abf2421169239f829b38a9545f1&#x27;</span><br>    <span class="hljs-comment"># 解密字符串： b&#x27;I love Python!&#x27;</span><br><br></code></pre></td></tr></table></figure><h1 id="3DES"><a href="#3DES" class="headerlink" title="3DES"></a>3DES</h1><p>简介：全称三重数据加密算法（英文名称：Triple Data Encryption Standard、<br>Triple Data Encryption Algorithm、TDES、TDEA），是对称加密算法中的一种。<br>70 年代初由 IBM 研发，后 1977 年被美国国家标准局采纳为数据加密标准，<br>它相当于是对每个数据块应用三次 DES 加密算法。由于计算机运算能力的增强，<br>原版 DES 密码的密钥长度变得容易被暴力破解；3DES 即是设计用来提供一种相对简单的方法，<br>即通过增加 DES 的密钥长度来避免破解，所以严格来说 3DES 不是设计一种全新的块密码算法。</p><p>mode 支持：CBC，CFB，CTR，CTRGladman，ECB，OFB 等。<br>padding 支持：ZeroPadding，NoPadding，AnsiX923，Iso10126，Iso97971，Pkcs7 等。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">from</span> Cryptodome.Cipher <span class="hljs-keyword">import</span> DES3<br><span class="hljs-keyword">from</span> Cryptodome <span class="hljs-keyword">import</span> Random<br><br><br><span class="hljs-comment"># 需要补位，str不是16的倍数那就补足为16的倍数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_to_16</span>(<span class="hljs-params">value</span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(value) % <span class="hljs-number">16</span> != <span class="hljs-number">0</span>:<br>        value += <span class="hljs-string">&#x27;\0&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>.encode(value)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">des_encrypt</span>(<span class="hljs-params">key, text, iv</span>):<br>    <span class="hljs-comment"># 加密模式 OFB</span><br>    cipher_encrypt = DES3.new(add_to_16(key), DES3.MODE_OFB, iv)<br>    encrypted_text = cipher_encrypt.encrypt(text.encode(<span class="hljs-string">&quot;utf-8&quot;</span>))<br>    <span class="hljs-keyword">return</span> encrypted_text<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">des_decrypt</span>(<span class="hljs-params">key, text, iv</span>):<br>    <span class="hljs-comment"># 加密模式 OFB</span><br>    cipher_decrypt = DES3.new(add_to_16(key), DES3.MODE_OFB, iv)<br>    decrypted_text = cipher_decrypt.decrypt(text)<br>    <span class="hljs-keyword">return</span> decrypted_text<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    key = <span class="hljs-string">&#x27;12345678&#x27;</span>            <span class="hljs-comment"># 密钥，16 位</span><br>    text = <span class="hljs-string">&#x27;I love Python!&#x27;</span>     <span class="hljs-comment"># 加密对象</span><br>    iv = Random.new().read(DES3.block_size)  <span class="hljs-comment"># DES3.block_size == 8</span><br>    secret_str = des_encrypt(key, text, iv)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;加密字符串：&#x27;</span>, secret_str)<br>    clear_str = des_decrypt(key, secret_str, iv)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;解密字符串：&#x27;</span>, clear_str)<br><br><br><span class="hljs-comment"># 加密字符串： b&#x27;\xa5\x8a\xd4R\x99\x16j\xba?vg\xf2\xb6\xa9&#x27;</span><br><span class="hljs-comment"># 解密字符串： b&#x27;I love Python!&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="AES"><a href="#AES" class="headerlink" title="AES"></a>AES</h1><p>简介：全称高级加密标准（英文名称：Advanced Encryption Standard），<br>在密码学中又称 Rijndael 加密法，由美国国家标准与技术研究院 （NIST）于 2001 年发布，<br>并在 2002 年成为有效的标准，是美国联邦政府采用的一种区块加密标准。<br>这个标准用来替代原先的 DES，已经被多方分析且广为全世界所使用，<br>它本身只有一个密钥，即用来实现加密，也用于解密。</p><p>mode 支持：CBC，CFB，CTR，CTRGladman，ECB，OFB 等。<br>padding 支持：ZeroPadding，NoPadding，AnsiX923，Iso10126，Iso97971，Pkcs7 等。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> base64<br><span class="hljs-keyword">from</span> Cryptodome.Cipher <span class="hljs-keyword">import</span> AES<br><br><br><span class="hljs-comment"># 需要补位，str不是16的倍数那就补足为16的倍数</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_to_16</span>(<span class="hljs-params">value</span>):<br>    <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(value) % <span class="hljs-number">16</span> != <span class="hljs-number">0</span>:<br>        value += <span class="hljs-string">&#x27;\0&#x27;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>.encode(value)<br><br><br><span class="hljs-comment"># 加密方法</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">aes_encrypt</span>(<span class="hljs-params">key, t, iv</span>):<br>    aes = AES.new(add_to_16(key), AES.MODE_CBC, add_to_16(iv))  <span class="hljs-comment"># 初始化加密器</span><br>    encrypt_aes = aes.encrypt(add_to_16(t)) <span class="hljs-comment"># 先进行 aes 加密</span><br>    <span class="hljs-comment"># 执行加密并转码返回 bytes</span><br>    encrypted_text = <span class="hljs-built_in">str</span>(base64.encodebytes(encrypt_aes), encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)  <br>    <span class="hljs-keyword">return</span> encrypted_text<br><br><br><span class="hljs-comment"># 解密方法</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">aes_decrypt</span>(<span class="hljs-params">key, t, iv</span>):<br>    <span class="hljs-comment"># 初始化加密器</span><br>    aes = AES.new(add_to_16(key), AES.MODE_CBC, add_to_16(iv))     <br>    <span class="hljs-comment"># 优先逆向解密 base64 成 bytes   </span><br>    base64_decrypted = base64.decodebytes(t.encode(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)) <br>    <span class="hljs-comment"># 执行解密密并转码返回str </span><br>    decrypted_text = <span class="hljs-built_in">str</span>(aes.decrypt(base64_decrypted), encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>).replace(<span class="hljs-string">&#x27;\0&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)  <br>    <span class="hljs-keyword">return</span> decrypted_text<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">aes_decrypt</span>(<span class="hljs-params">t,key,iv</span>):<br>    <span class="hljs-comment"># 初始化加密器</span><br>    aes = AES.new(add_to_16(key), AES.MODE_CBC, add_to_16(iv))<br>    <span class="hljs-comment"># 优先逆向解密 base64 成 bytes</span><br>    base64_decrypted = base64.b64decode(t.encode(encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    <span class="hljs-comment"># 执行解密密并转码返回str</span><br>    decrypted_text = <span class="hljs-built_in">str</span>(unpad(aes.decrypt(base64_decrypted), AES.block_size), encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>).replace(<span class="hljs-string">&#x27;\0&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-keyword">return</span> decrypted_text<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    secret_key = <span class="hljs-string">&#x27;12345678&#x27;</span>   <span class="hljs-comment"># 密钥</span><br>    text = <span class="hljs-string">&#x27;I love Python!&#x27;</span>   <span class="hljs-comment"># 加密对象</span><br>    iv = secret_key           <span class="hljs-comment"># 初始向量</span><br>    encrypted_str = aes_encrypt(secret_key, text, iv)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;加密字符串：&#x27;</span>, encrypted_str)<br>    decrypted_str = aes_decrypt(secret_key, encrypted_str, iv)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;解密字符串：&#x27;</span>, decrypted_str)<br><br><br><span class="hljs-comment"># 加密字符串： lAVKvkQh+GtdNpoKf4/mHA==</span><br><span class="hljs-comment"># 解密字符串： I love Python!</span><br></code></pre></td></tr></table></figure><p><strong>AES ECB PKC7 模式</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> Cryptodome.Cipher <span class="hljs-keyword">import</span> AES<br><span class="hljs-keyword">from</span> Cryptodome.Util.Padding <span class="hljs-keyword">import</span> pad<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">aes_cipher</span>(<span class="hljs-params">key, aes_str</span>):<br>    <span class="hljs-comment"># 使用key,选择加密方式</span><br>    aes = AES.new(key.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>), AES.MODE_ECB)<br>    pad_pkcs7 = pad(aes_str.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>), AES.block_size, style=<span class="hljs-string">&#x27;pkcs7&#x27;</span>)  <span class="hljs-comment"># 选择pkcs7补全</span><br>    encrypt_aes = aes.encrypt(pad_pkcs7)<br>    <span class="hljs-comment"># 加密结果</span><br>    encrypted_text = <span class="hljs-built_in">str</span>(base64.encodebytes(encrypt_aes), encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)  <span class="hljs-comment"># 解码</span><br>    encrypted_text_str = encrypted_text.replace(<span class="hljs-string">&quot;\n&quot;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>    <span class="hljs-comment"># 此处我的输出结果老有换行符，所以用了临时方法将它剔除</span><br>    <span class="hljs-keyword">return</span> encrypted_text_str<br></code></pre></td></tr></table></figure><h1 id="RC4"><a href="#RC4" class="headerlink" title="RC4"></a>RC4</h1><p>简介：英文名称：Rivest Cipher 4，也称为 ARC4 或 ARCFOUR，是一种流加密算法，<br>密钥长度可变。它加解密使用相同的密钥，因此也属于对称加密算法。<br>RC4 是有线等效加密（WEP）中采用的加密算法，也曾经是 TLS 可采用的算法之一，<br>该算法的速度可以达到 DES 加密的 10 倍左右，且具有很高级别的非线性，<br>虽然它在软件方面的简单性和速度非常出色，但在 RC4 中发现了多个漏洞，<br>它特别容易受到攻击，RC4 作为一种老旧的验证和加密算法易于受到黑客攻击，<br>现在逐渐不推荐使用了。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> base64<br><span class="hljs-keyword">from</span> Cryptodome.Cipher <span class="hljs-keyword">import</span> ARC4<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">rc4_encrypt</span>(<span class="hljs-params">key, t</span>):<br>    enc = ARC4.new(key.encode(<span class="hljs-string">&#x27;utf8&#x27;</span>))<br>    res = enc.encrypt(t.encode(<span class="hljs-string">&#x27;utf-8&#x27;</span>))<br>    res = base64.b64encode(res)<br>    <span class="hljs-keyword">return</span> res<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">rc4_decrypt</span>(<span class="hljs-params">key, t</span>):<br>    data = base64.b64decode(t)<br>    enc = ARC4.new(key.encode(<span class="hljs-string">&#x27;utf8&#x27;</span>))<br>    res = enc.decrypt(data)<br>    <span class="hljs-keyword">return</span> res<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    secret_key = <span class="hljs-string">&#x27;12345678&#x27;</span>   <span class="hljs-comment"># 密钥</span><br>    text = <span class="hljs-string">&#x27;I love Python!&#x27;</span>   <span class="hljs-comment"># 加密对象</span><br>    encrypted_str = rc4_encrypt(secret_key, text)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;加密字符串：&#x27;</span>, encrypted_str)<br>    decrypted_str = rc4_decrypt(secret_key, encrypted_str)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;解密字符串：&#x27;</span>, decrypted_str)<br><br><br><span class="hljs-comment"># 加密字符串： b&#x27;8tNVu3/U/veJR2KgyBw=&#x27;</span><br><span class="hljs-comment"># 解密字符串： b&#x27;I love Python!&#x27;</span><br></code></pre></td></tr></table></figure><h1 id="Rabbit"><a href="#Rabbit" class="headerlink" title="Rabbit"></a>Rabbit</h1><p>简介：Rabbit 加密算法是一个高性能的流密码加密方式，<br>2003 年首次被提出，它从 128 位密钥和 64 位初始向量（iv）创建一个密钥流。</p><p>目前没有找到有第三方库可以直接实现 Rabbit 算法，<br>在 Python 中实现可以参考：<a href="https://asecuritysite.com/encryption/rabbit2">https://asecuritysite.com/encryption/rabbit2</a></p><h1 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h1><p>简介：英文名称：Rivest-Shamir-Adleman，是 1977 年由罗纳德·李维斯特（Ron Rivest）、<br>阿迪·萨莫尔（Adi Shamir）和伦纳德·阿德曼（Leonard Adleman）一起提出的，<br>RSA 就是他们三人姓氏开头字母拼在一起组成的，RSA 加密算法是一种非对称加密算法。<br>在公开密钥加密和电子商业中RSA被广泛使用。它被普遍认为是目前比较优秀的公钥方案之一。<br>RSA是第一个能同时用于加密和数字签名的算法，它能够抵抗到目前为止已知的所有密码攻击。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> rsa<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">rsa_encrypt</span>(<span class="hljs-params">pu_key, t</span>):<br>    <span class="hljs-comment"># 公钥加密</span><br>    rsa = rsa.encrypt(t.encode(<span class="hljs-string">&quot;utf-8&quot;</span>), pu_key)<br>    <span class="hljs-keyword">return</span> rsa<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">rsa_decrypt</span>(<span class="hljs-params">pr_key, t</span>):<br>    <span class="hljs-comment"># 私钥解密</span><br>    rsa = rsa.decrypt(t, pr_key).decode(<span class="hljs-string">&quot;utf-8&quot;</span>)<br>    <span class="hljs-keyword">return</span> rsa<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    public_key, private_key = rsa.newkeys(<span class="hljs-number">512</span>)   <span class="hljs-comment"># 生成公钥、私钥</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;公钥：&#x27;</span>, public_key)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;私钥：&#x27;</span>, private_key)<br>    text = <span class="hljs-string">&#x27;I love Python!&#x27;</span>  <span class="hljs-comment"># 加密对象</span><br>    encrypted_str = rsa_encrypt(public_key, text)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;加密字符串：&#x27;</span>, encrypted_str)<br>    decrypted_str = rsa_decrypt(private_key, encrypted_str)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;解密字符串：&#x27;</span>, decrypted_str)<br><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">公钥： PublicKey(7636479066127060956100056267701318377455704072072698049978592945665550579944731953431504993757594103617537700972424661030900303472123028864161050235168613, 65537)</span><br><span class="hljs-string">私钥： PrivateKey(7636479066127060956100056267701318377455704072072698049978592945665550579944731953431504993757594103617537700972424661030900303472123028864161050235168613, 65537, 3850457767980968449796700480128630632818465005441846698224554128042451115530564586537997896922067523638756079019054611200173122138274839877369624069360253, 4713180694194659323798858305046043997526301456820208338158979730140812744181638767, 1620238976946735819854194349514460863335347861649166352709029254680140139)</span><br><span class="hljs-string">加密字符串： b&quot;\x1aaeps\xa0c&#125;\xb6\xcf\xa3\xb0\xbb\xedA\x7f&#125;\x03\xdc\xd5\x1c\x9b\xdb\xda\xf9q\x80[=\xf5\x91\r\xd0&#x27;f\xce\x1f\x01\xef\xa5\xdb3\x96\t0qIxF\xbd\x11\xd6\xb25\xc5\xe1pM\xb4M\xc2\xd4\x03\xa6&quot;</span><br><span class="hljs-string">解密字符串： I love Python!</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br></code></pre></td></tr></table></figure><h2 id="模块-Cryptodome："><a href="#模块-Cryptodome：" class="headerlink" title="模块 Cryptodome："></a>模块 Cryptodome：</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- coding: utf-8 -*-</span><br><span class="hljs-comment"># @Time    : 2022/9/29 10:43</span><br><span class="hljs-comment"># @Author  : lzc</span><br><span class="hljs-comment"># @Email   : hybpjx@163.com</span><br><span class="hljs-comment"># @File    : utilsMiddlewares.py</span><br><span class="hljs-comment"># @cnblogs : https://www.cnblogs.com/zichliang/</span><br><span class="hljs-comment"># @Software: PyCharm</span><br><br><span class="hljs-keyword">import</span> base64<br><span class="hljs-keyword">from</span> Cryptodome.PublicKey <span class="hljs-keyword">import</span> RSA<br><span class="hljs-keyword">from</span> Cryptodome.Cipher <span class="hljs-keyword">import</span> PKCS1_v1_5<br><br><br>data = <span class="hljs-string">&quot;cKK8B2rWwfwWeXhz&quot;</span><br>public_key = <span class="hljs-string">&quot;MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAM1xhOWaThSMpfxFsjV5YaWOFHt+6RvS+zH2Pa47VVr8PkZYnRaaKKy2MYBuEh7mZfM/R1dUXTgu0gp6VTNeNQkCAwEAAQ==&quot;</span><br>rsa_key = RSA.import_key(base64.b64decode(public_key))  <span class="hljs-comment"># 导入读取到的公钥</span><br>cipher = PKCS1_v1_5.new(rsa_key)                        <span class="hljs-comment"># 生成对象</span><br>cipher_text = base64.b64encode(cipher.encrypt(data.encode(encoding=<span class="hljs-string">&quot;utf-8&quot;</span>)))<br><span class="hljs-built_in">print</span>(cipher_text)<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 语言加解密 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Golang加密解密算法</title>
      <link href="/2022/09/26/Golang%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/"/>
      <url>/2022/09/26/Golang%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86%E7%AE%97%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<h1 id="md5-加密——不可逆"><a href="#md5-加密——不可逆" class="headerlink" title="md5 加密——不可逆"></a>md5 加密——不可逆</h1><p>MD5信息摘要算法是一种被广泛使用的密码散列函数，可以产生出一个128位（16进制，32个字符）的散列值（hash value），用于确保信息传输完整一致。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;crypto/md5&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br>)<br></code></pre></td></tr></table></figure><h2 id="第一种"><a href="#第一种" class="headerlink" title="第一种"></a>第一种</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// MD5Str md5验证</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">MD5Str</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> h := md5.New()<br> h.Write([]<span class="hljs-type">byte</span>(src)) <span class="hljs-comment">// 需要加密的字符串为</span><br> fmt.Printf(<span class="hljs-string">&quot;%s\n&quot;</span>, hex.EncodeToString(h.Sum(<span class="hljs-literal">nil</span>))) <span class="hljs-comment">// 输出加密结果</span><br> <span class="hljs-keyword">return</span> hex.EncodeToString(h.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="第二种"><a href="#第二种" class="headerlink" title="第二种"></a>第二种</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// MD5Str2 md5验证</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">MD5Str2</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> <span class="hljs-keyword">return</span> fmt.Sprintf(<span class="hljs-string">&quot;%x&quot;</span>, md5.Sum([]<span class="hljs-type">byte</span>(src)))<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="hmacsha-加密——不可逆"><a href="#hmacsha-加密——不可逆" class="headerlink" title="hmacsha 加密——不可逆"></a>hmacsha 加密——不可逆</h1><p>HMAC是密钥相关的哈希运算消息认证码（Hash-based Message Authentication Code）的缩写，<br>它通过一个标准算法，在计算哈希的过程中，把key混入计算过程中。<br>和我们自定义的加salt算法不同，Hmac算法针对所有哈希算法都通用，无论是MD5还是SHA-1。采用Hmac替代我们自己的salt算法，可以使程序算法更标准化，也更安全。</p><h2 id="hmac-md5加密"><a href="#hmac-md5加密" class="headerlink" title="hmac-md5加密"></a>hmac-md5加密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">//key随意设置 data 要加密数据</span><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Hmac</span><span class="hljs-params">(key, data <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> <span class="hljs-comment">// 创建对应的md5哈希加密算法</span><br>    hash:= hmac.New(md5.New, []<span class="hljs-type">byte</span>(key)) <br><br>    hash.Write([]<span class="hljs-type">byte</span>(data))<br><br>    <span class="hljs-keyword">return</span> hex.EncodeToString(hash.Sum([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;&quot;</span>)))<br><br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="hamacsha1-加密"><a href="#hamacsha1-加密" class="headerlink" title="hamacsha1 加密"></a>hamacsha1 加密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// HmacSha1 hmacSha1加密 key随意设置 data 要加密数据</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HmacSha1</span><span class="hljs-params">(src, key <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> m := hmac.New(sha1.New, []<span class="hljs-type">byte</span>(key))<br> m.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(m.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="hamacsha-256-加密"><a href="#hamacsha-256-加密" class="headerlink" title="hamacsha 256 加密"></a>hamacsha 256 加密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// HmacSHA256 hmacSha256验证  key随意设置 data 要加密数据</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HmacSHA256</span><span class="hljs-params">(key, src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> m := hmac.New(sha256.New, []<span class="hljs-type">byte</span>(key))<br> m.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(m.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="hmacsha512加密"><a href="#hmacsha512加密" class="headerlink" title="hmacsha512加密"></a>hmacsha512加密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// HmacSHA512 hmacSha512验证</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HmacSHA512</span><span class="hljs-params">(key, src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> m := hmac.New(sha512.New, []<span class="hljs-type">byte</span>(key))<br> m.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(m.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="hamasha-调用"><a href="#hamasha-调用" class="headerlink" title="hamasha 调用"></a>hamasha 调用</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;crypto/hmac&quot;</span><br> <span class="hljs-string">&quot;crypto/md5&quot;</span><br> <span class="hljs-string">&quot;crypto/sha1&quot;</span><br> <span class="hljs-string">&quot;crypto/sha256&quot;</span><br> <span class="hljs-string">&quot;crypto/sha512&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-comment">// Hmac hmac验证 key随意设置 data 要加密数据</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Hmac</span><span class="hljs-params">(key, data <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br><br> hash := hmac.New(md5.New, []<span class="hljs-type">byte</span>(key)) <span class="hljs-comment">// 创建对应的md5哈希加密算法</span><br><br> hash.Write([]<span class="hljs-type">byte</span>(data))<br><br> <span class="hljs-keyword">return</span> hex.EncodeToString(hash.Sum([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;&quot;</span>)))<br><br>&#125;<br><br><span class="hljs-comment">// HmacSHA256 hmacSha256加密  key随意设置 data 要加密数据</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HmacSHA256</span><span class="hljs-params">(key, src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> m := hmac.New(sha256.New, []<span class="hljs-type">byte</span>(key))<br> m.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(m.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br><br><span class="hljs-comment">// HmacSHA512 hmacSha512加密 key随意设置 data 要加密数据</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HmacSHA512</span><span class="hljs-params">(key, src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> m := hmac.New(sha512.New, []<span class="hljs-type">byte</span>(key))<br> m.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(m.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br><br><span class="hljs-comment">// HmacSha1 hmacSha1加密 key随意设置 data 要加密数据</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">HmacSha1</span><span class="hljs-params">(src, key <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> m := hmac.New(sha1.New, []<span class="hljs-type">byte</span>(key))<br> m.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(m.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br><br><span class="hljs-comment">// SHA256Str sha256加密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SHA256Str</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> h := sha256.New()<br> h.Write([]<span class="hljs-type">byte</span>(src)) <span class="hljs-comment">// 需要加密的字符串为</span><br> <span class="hljs-comment">// fmt.Printf(&quot;%s\n&quot;, hex.EncodeToString(h.Sum(nil))) // 输出加密结果</span><br> <span class="hljs-keyword">return</span> hex.EncodeToString(h.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> hmac_ := Hmac(<span class="hljs-string">&quot;hybpjx&quot;</span>, <span class="hljs-string">&quot;始識&quot;</span>)<br> hamcsha1 := HmacSha1(<span class="hljs-string">&quot;hybpjx&quot;</span>, <span class="hljs-string">&quot;始識&quot;</span>)<br> hamcsha256 := HmacSHA256(<span class="hljs-string">&quot;hybpjx&quot;</span>, <span class="hljs-string">&quot;始識&quot;</span>)<br> hamacsha512 := HmacSHA512(<span class="hljs-string">&quot;hybpjx&quot;</span>, <span class="hljs-string">&quot;始識&quot;</span>)<br> fmt.Println(hmac_)<br> fmt.Println(hamcsha1)<br> fmt.Println(hamcsha256)<br> fmt.Println(hamacsha512)<br>&#125;<br><br></code></pre></td></tr></table></figure><p>结果</p><blockquote><p>d8801f70df7891764116e1ac003f7189</p><p>60d68e01c8a86f3b87e4e147e9f0fadce2a69661</p><p>b3f8ddf991288036864761a55046877adfe4f78ec9a89bb63932af92689b139f</p><p>b9b1fca0fe91522482ee1b2161e57d67482af6ef371614365b918c31ce774f9126ed627e378a063145f404ff2de7bd84f8e4798c385662ef4749e58e9209ca63</p></blockquote><h1 id="Sha-加密——不可逆"><a href="#Sha-加密——不可逆" class="headerlink" title="Sha 加密——不可逆"></a>Sha 加密——不可逆</h1><h2 id="sha1"><a href="#sha1" class="headerlink" title="sha1"></a>sha1</h2><p>SHA-1可以生成一个被称为消息摘要的160位（20字节）散列值，散列值通常的呈现形式为40个十六进制数。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Sha1</span><span class="hljs-params">(data <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> sha1_ := sha1.New()<br> sha1_.Write([]<span class="hljs-type">byte</span>(data))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(sha1_.Sum([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;&quot;</span>)))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="sha256"><a href="#sha256" class="headerlink" title="sha256"></a>sha256</h2><p>SHA256算法使用的哈希值长度是256位。这是一个抽象类。此类的唯一实现是SHA256Managed。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// SHA256 sha256加密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SHA256</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> h := sha256.New()<br> <span class="hljs-comment">// 需要加密的字符串为</span><br> h.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-comment">// fmt.Printf(&quot;%s\n&quot;, hex.EncodeToString(h.Sum(nil))) // 输出加密结果</span><br> <span class="hljs-keyword">return</span> hex.EncodeToString(h.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="sha512"><a href="#sha512" class="headerlink" title="sha512"></a>sha512</h2><p>SHA (Secure Hash Algorithm，译作安全散列算法) 是美国国家安全局 (NSA) 设计，美国国家标准与技术研究院 (NIST) 发布的一系列密码散列函数。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// SHA512 sha512加密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SHA512</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> h := sha512.New()<br> <span class="hljs-comment">// 需要加密的字符串为</span><br> h.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-comment">// fmt.Printf(&quot;%s\n&quot;, hex.EncodeToString(h.Sum(nil))) // 输出加密结果</span><br> <span class="hljs-keyword">return</span> hex.EncodeToString(h.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="sha调用"><a href="#sha调用" class="headerlink" title="sha调用"></a>sha调用</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;crypto/sha1&quot;</span><br> <span class="hljs-string">&quot;crypto/sha256&quot;</span><br> <span class="hljs-string">&quot;crypto/sha512&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Sha1</span><span class="hljs-params">(data <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> sha1_ := sha1.New()<br> sha1_.Write([]<span class="hljs-type">byte</span>(data))<br> <span class="hljs-keyword">return</span> hex.EncodeToString(sha1_.Sum([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;&quot;</span>)))<br>&#125;<br><br><span class="hljs-comment">// SHA256 sha256加密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SHA256</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> h := sha256.New()<br> <span class="hljs-comment">// 需要加密的字符串为</span><br> h.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-comment">// fmt.Printf(&quot;%s\n&quot;, hex.EncodeToString(h.Sum(nil))) // 输出加密结果</span><br> <span class="hljs-keyword">return</span> hex.EncodeToString(h.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br><br><span class="hljs-comment">// SHA512 sha512加密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">SHA512</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> h := sha512.New()<br> <span class="hljs-comment">// 需要加密的字符串为</span><br> h.Write([]<span class="hljs-type">byte</span>(src))<br> <span class="hljs-comment">// fmt.Printf(&quot;%s\n&quot;, hex.EncodeToString(h.Sum(nil))) // 输出加密结果</span><br> <span class="hljs-keyword">return</span> hex.EncodeToString(h.Sum(<span class="hljs-literal">nil</span>))<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> _sha1 := Sha1(<span class="hljs-string">&quot;始識&quot;</span>)<br> _sha256 := SHA256(<span class="hljs-string">&quot;始識&quot;</span>)<br> _sha512 := SHA512(<span class="hljs-string">&quot;始識&quot;</span>)<br> fmt.Println(_sha1)<br> fmt.Println(_sha256)<br> fmt.Println(_sha512)<br>&#125;<br></code></pre></td></tr></table></figure><p>结果</p><blockquote><p>7bac01cc58a26f3cb280b0466794a89441279946</p><p>6ef99e6d3fe34a46afcdc438435728fe95ffdab18e389ddd31609edd6729b11d</p><p>0c04e9b79f488646d0eac6f65468248507939d643cc92709b14eb0d18d8f13db509ed5ccd3312d6c234408185a4611a42525dce9e8d32255640f56a2f836635a</p></blockquote><h1 id="base-加密-解密"><a href="#base-加密-解密" class="headerlink" title="base 加密 解密"></a>base 加密 解密</h1><h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// BASE64StdEncode base编码</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">BASE64StdEncode</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> <span class="hljs-keyword">return</span> base64.StdEncoding.EncodeToString([]<span class="hljs-type">byte</span>(src))<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="解密"><a href="#解密" class="headerlink" title="解密"></a>解密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-comment">// BASE64StdDecode base解码</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">BASE64StdDecode</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> a, err := base64.StdEncoding.DecodeString(src)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  _ = fmt.Errorf(<span class="hljs-string">&quot;解密失败,%v\n&quot;</span>, err)<br> &#125;<br> <span class="hljs-keyword">return</span> <span class="hljs-type">string</span>(a)<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="base64-调用"><a href="#base64-调用" class="headerlink" title="base64  调用"></a>base64  调用</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;encoding/base64&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-comment">// BASE64StdEncode base编码</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">BASE64StdEncode</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> <span class="hljs-keyword">return</span> base64.StdEncoding.EncodeToString([]<span class="hljs-type">byte</span>(src))<br>&#125;<br><br><span class="hljs-comment">// BASE64StdDecode base解码</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">BASE64StdDecode</span><span class="hljs-params">(src <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">string</span> &#123;<br> a, err := base64.StdEncoding.DecodeString(src)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  _ = fmt.Errorf(<span class="hljs-string">&quot;解密失败,%v\n&quot;</span>, err)<br> &#125;<br> <span class="hljs-keyword">return</span> <span class="hljs-type">string</span>(a)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> encodeBase64 := BASE64StdEncode(<span class="hljs-string">&quot;hybpjx&quot;</span>)<br> decodeBase64 := BASE64StdDecode(encodeBase64)<br> fmt.Println(encodeBase64)<br> fmt.Println(decodeBase64)<br>&#125;<br><br></code></pre></td></tr></table></figure><p>结果</p><blockquote><p>aHlicGp4<br>hybpjx</p></blockquote><h1 id="AES-加密"><a href="#AES-加密" class="headerlink" title="AES 加密"></a>AES 加密</h1><p>高级加密标准（英语：Advanced Encryption Standard，缩写：AES），在密码学中又称Rijndael加密法，是美国联邦政府采用的一种区块加密标准。这个标准用来替代原先的DES，已经被多方分析且广为全世界所使用。经过五年的甄选流程，高级加密标准由美国国家标准与技术研究院（NIST）于2001年11月26日发布于FIPS PUB 197，并在2002年5月26日成为有效的标准。2006年，高级加密标准已然成为对称密钥加密中最流行的算法之一。<br><img src="https://cdn.nlark.com/yuque/0/2022/png/12843286/1662199524599-a6b77cb9-25c9-4f5b-99c2-493ab50bb7ec.png#clientId=uae04fe37-f91f-4&crop=0&crop=0&crop=1&crop=1&from=paste&id=ub1ee8990&margin=%5Bobject%20Object%5D&name=image.png&originHeight=3573&originWidth=1993&originalType=url&ratio=1&rotation=0&showTitle=false&size=1304823&status=done&style=none&taskId=u8b08ff15-15f1-45c8-b63a-6e18c32ee86&title=" alt="image.png"><br><strong>由于加密和解密的秘钥是相同的，所以AES为对称加密</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;bytes&quot;</span><br> <span class="hljs-string">&quot;crypto/aes&quot;</span><br> <span class="hljs-string">&quot;crypto/cipher&quot;</span><br> <span class="hljs-string">&quot;encoding/base64&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">PKCS7Padding</span><span class="hljs-params">(ciphertext []<span class="hljs-type">byte</span>, blockSize <span class="hljs-type">int</span>)</span></span> []<span class="hljs-type">byte</span> &#123;<br> padding := blockSize - <span class="hljs-built_in">len</span>(ciphertext)%blockSize<br> padtext := bytes.Repeat([]<span class="hljs-type">byte</span>&#123;<span class="hljs-type">byte</span>(padding)&#125;, padding)<br> <span class="hljs-keyword">return</span> <span class="hljs-built_in">append</span>(ciphertext, padtext...)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">PKCS7UnPadding</span><span class="hljs-params">(origData []<span class="hljs-type">byte</span>)</span></span> []<span class="hljs-type">byte</span> &#123;<br> length := <span class="hljs-built_in">len</span>(origData)<br> unpadding := <span class="hljs-type">int</span>(origData[length<span class="hljs-number">-1</span>])<br> <span class="hljs-keyword">return</span> origData[:(length - unpadding)]<br>&#125;<br><br><span class="hljs-comment">//AES加密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesEncrypt</span><span class="hljs-params">(origData, key []<span class="hljs-type">byte</span>)</span></span> ([]<span class="hljs-type">byte</span>, <span class="hljs-type">error</span>) &#123;<br> block, err := aes.NewCipher(key)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br> &#125;<br> blockSize := block.BlockSize()<br> origData = PKCS7Padding(origData, blockSize)<br> blockMode := cipher.NewCBCEncrypter(block, key[:blockSize])<br> crypted := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(origData))<br> blockMode.CryptBlocks(crypted, origData)<br> <span class="hljs-keyword">return</span> crypted, <span class="hljs-literal">nil</span><br>&#125;<br><br><span class="hljs-comment">//AES解密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesDecrypt</span><span class="hljs-params">(crypted, key []<span class="hljs-type">byte</span>)</span></span> ([]<span class="hljs-type">byte</span>, <span class="hljs-type">error</span>) &#123;<br> block, err := aes.NewCipher(key)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br> &#125;<br> blockSize := block.BlockSize()<br> blockMode := cipher.NewCBCDecrypter(block, key[:blockSize])<br> origData := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(crypted))<br> blockMode.CryptBlocks(origData, crypted)<br> origData = PKCS7UnPadding(origData)<br> <span class="hljs-keyword">return</span> origData, <span class="hljs-literal">nil</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> text := <span class="hljs-string">&quot;今晚打老虎&quot;</span><br> AesKey := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;0f90023fc9ae101e&quot;</span>) <span class="hljs-comment">//秘钥长度为16的倍数</span><br> fmt.Printf(<span class="hljs-string">&quot;明文: %s\n秘钥: %s\n&quot;</span>, text, <span class="hljs-type">string</span>(AesKey))<br> encrypted, err := AesEncrypt([]<span class="hljs-type">byte</span>(text), AesKey)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> fmt.Printf(<span class="hljs-string">&quot;加密后: %s\n&quot;</span>, base64.StdEncoding.EncodeToString(encrypted))<br> origin, err := AesDecrypt(encrypted, AesKey)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> fmt.Printf(<span class="hljs-string">&quot;解密后明文: %s\n&quot;</span>, <span class="hljs-type">string</span>(origin))<br>&#125;<br><br><br></code></pre></td></tr></table></figure><h2 id="CBC方式"><a href="#CBC方式" class="headerlink" title="CBC方式"></a>CBC方式</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;bytes&quot;</span><br> <span class="hljs-string">&quot;crypto/aes&quot;</span><br> <span class="hljs-string">&quot;crypto/cipher&quot;</span><br> <span class="hljs-string">&quot;encoding/base64&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;log&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesEncryptCBC</span><span class="hljs-params">(origData []<span class="hljs-type">byte</span>, key []<span class="hljs-type">byte</span>)</span></span> (encrypted []<span class="hljs-type">byte</span>) &#123;<br> <span class="hljs-comment">// 分组秘钥</span><br> <span class="hljs-comment">// NewCipher该函数限制了输入k的长度必须为16, 24或者32</span><br> block, _ := aes.NewCipher(key)<br> blockSize := block.BlockSize()                              <span class="hljs-comment">// 获取秘钥块的长度</span><br> origData = pkcs5Padding(origData, blockSize)                <span class="hljs-comment">// 补全码</span><br> blockMode := cipher.NewCBCEncrypter(block, key[:blockSize]) <span class="hljs-comment">// 加密模式</span><br> encrypted = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(origData))                     <span class="hljs-comment">// 创建数组</span><br> blockMode.CryptBlocks(encrypted, origData)                  <span class="hljs-comment">// 加密</span><br> <span class="hljs-keyword">return</span> encrypted<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesDecryptCBC</span><span class="hljs-params">(encrypted []<span class="hljs-type">byte</span>, key []<span class="hljs-type">byte</span>)</span></span> (decrypted []<span class="hljs-type">byte</span>) &#123;<br> block, _ := aes.NewCipher(key)                              <span class="hljs-comment">// 分组秘钥</span><br> blockSize := block.BlockSize()                              <span class="hljs-comment">// 获取秘钥块的长度</span><br> blockMode := cipher.NewCBCDecrypter(block, key[:blockSize]) <span class="hljs-comment">// 加密模式</span><br> decrypted = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(encrypted))                    <span class="hljs-comment">// 创建数组</span><br> blockMode.CryptBlocks(decrypted, encrypted)                 <span class="hljs-comment">// 解密</span><br> decrypted = pkcs5UnPadding(decrypted)                       <span class="hljs-comment">// 去除补全码</span><br> <span class="hljs-keyword">return</span> decrypted<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pkcs5Padding</span><span class="hljs-params">(ciphertext []<span class="hljs-type">byte</span>, blockSize <span class="hljs-type">int</span>)</span></span> []<span class="hljs-type">byte</span> &#123;<br> padding := blockSize - <span class="hljs-built_in">len</span>(ciphertext)%blockSize<br> padtext := bytes.Repeat([]<span class="hljs-type">byte</span>&#123;<span class="hljs-type">byte</span>(padding)&#125;, padding)<br> <span class="hljs-keyword">return</span> <span class="hljs-built_in">append</span>(ciphertext, padtext...)<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pkcs5UnPadding</span><span class="hljs-params">(origData []<span class="hljs-type">byte</span>)</span></span> []<span class="hljs-type">byte</span> &#123;<br> length := <span class="hljs-built_in">len</span>(origData)<br> unpadding := <span class="hljs-type">int</span>(origData[length<span class="hljs-number">-1</span>])<br> <span class="hljs-keyword">return</span> origData[:(length - unpadding)]<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> origData := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;460154561234&quot;</span>) <span class="hljs-comment">// 待加密的数据</span><br> key := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;9876787656785679&quot;</span>)  <span class="hljs-comment">// 加密的密钥</span><br> log.Println(<span class="hljs-string">&quot;原文：&quot;</span>, <span class="hljs-type">string</span>(origData))<br><br> log.Println(<span class="hljs-string">&quot;------------------ CBC模式 --------------------&quot;</span>)<br> encrypted := AesEncryptCBC(origData, key)<br> log.Println(<span class="hljs-string">&quot;密文(hex)：&quot;</span>, hex.EncodeToString(encrypted))<br> log.Println(<span class="hljs-string">&quot;密文(base64)：&quot;</span>, base64.StdEncoding.EncodeToString(encrypted))<br> decrypted := AesDecryptCBC(encrypted, key)<br> log.Println(<span class="hljs-string">&quot;解密结果：&quot;</span>, <span class="hljs-type">string</span>(decrypted))<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="ECB方式"><a href="#ECB方式" class="headerlink" title="ECB方式"></a>ECB方式</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;crypto/aes&quot;</span><br> <span class="hljs-string">&quot;encoding/base64&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;log&quot;</span><br>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesEncryptECB</span><span class="hljs-params">(origData []<span class="hljs-type">byte</span>, key []<span class="hljs-type">byte</span>)</span></span> (encrypted []<span class="hljs-type">byte</span>) &#123;<br> cipher, _ := aes.NewCipher(generateKey(key))<br> length := (<span class="hljs-built_in">len</span>(origData) + aes.BlockSize) / aes.BlockSize<br> plain := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, length*aes.BlockSize)<br> <span class="hljs-built_in">copy</span>(plain, origData)<br> pad := <span class="hljs-type">byte</span>(<span class="hljs-built_in">len</span>(plain) - <span class="hljs-built_in">len</span>(origData))<br> <span class="hljs-keyword">for</span> i := <span class="hljs-built_in">len</span>(origData); i &lt; <span class="hljs-built_in">len</span>(plain); i++ &#123;<br>  plain[i] = pad<br> &#125;<br> encrypted = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(plain))<br> <span class="hljs-comment">// 分组分块加密</span><br> <span class="hljs-keyword">for</span> bs, be := <span class="hljs-number">0</span>, cipher.BlockSize(); bs &lt;= <span class="hljs-built_in">len</span>(origData); bs, be = bs+cipher.BlockSize(), be+cipher.BlockSize() &#123;<br>  cipher.Encrypt(encrypted[bs:be], plain[bs:be])<br> &#125;<br><br> <span class="hljs-keyword">return</span> encrypted<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesDecryptECB</span><span class="hljs-params">(encrypted []<span class="hljs-type">byte</span>, key []<span class="hljs-type">byte</span>)</span></span> (decrypted []<span class="hljs-type">byte</span>) &#123;<br> cipher, _ := aes.NewCipher(generateKey(key))<br> decrypted = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(encrypted))<br> <span class="hljs-comment">//</span><br> <span class="hljs-keyword">for</span> bs, be := <span class="hljs-number">0</span>, cipher.BlockSize(); bs &lt; <span class="hljs-built_in">len</span>(encrypted); bs, be = bs+cipher.BlockSize(), be+cipher.BlockSize() &#123;<br>  cipher.Decrypt(decrypted[bs:be], encrypted[bs:be])<br> &#125;<br><br> trim := <span class="hljs-number">0</span><br> <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(decrypted) &gt; <span class="hljs-number">0</span> &#123;<br>  trim = <span class="hljs-built_in">len</span>(decrypted) - <span class="hljs-type">int</span>(decrypted[<span class="hljs-built_in">len</span>(decrypted)<span class="hljs-number">-1</span>])<br> &#125;<br><br> <span class="hljs-keyword">return</span> decrypted[:trim]<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">generateKey</span><span class="hljs-params">(key []<span class="hljs-type">byte</span>)</span></span> (genKey []<span class="hljs-type">byte</span>) &#123;<br> genKey = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-number">16</span>)<br> <span class="hljs-built_in">copy</span>(genKey, key)<br> <span class="hljs-keyword">for</span> i := <span class="hljs-number">16</span>; i &lt; <span class="hljs-built_in">len</span>(key); &#123;<br>  <span class="hljs-keyword">for</span> j := <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">16</span> &amp;&amp; i &lt; <span class="hljs-built_in">len</span>(key); j, i = j+<span class="hljs-number">1</span>, i+<span class="hljs-number">1</span> &#123;<br>   genKey[j] ^= key[i]<br>  &#125;<br> &#125;<br> <span class="hljs-keyword">return</span> genKey<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> origData := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;460154561234&quot;</span>) <span class="hljs-comment">// 待加密的数据</span><br> key := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;9876787656785679&quot;</span>)  <span class="hljs-comment">// 加密的密钥</span><br> log.Println(<span class="hljs-string">&quot;原文：&quot;</span>, <span class="hljs-type">string</span>(origData))<br><br> log.Println(<span class="hljs-string">&quot;------------------ ECB模式 --------------------&quot;</span>)<br> encrypted := AesEncryptECB(origData, key)<br> log.Println(<span class="hljs-string">&quot;密文(hex)：&quot;</span>, hex.EncodeToString(encrypted))<br> log.Println(<span class="hljs-string">&quot;密文(base64)：&quot;</span>, base64.StdEncoding.EncodeToString(encrypted))<br> decrypted := AesDecryptECB(encrypted, key)<br> log.Println(<span class="hljs-string">&quot;解密结果：&quot;</span>, <span class="hljs-type">string</span>(decrypted))<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="CFB-方式"><a href="#CFB-方式" class="headerlink" title="CFB 方式"></a>CFB 方式</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;crypto/aes&quot;</span><br> <span class="hljs-string">&quot;crypto/cipher&quot;</span><br> <span class="hljs-string">&quot;crypto/rand&quot;</span><br> <span class="hljs-string">&quot;encoding/base64&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;io&quot;</span><br> <span class="hljs-string">&quot;log&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesEncryptCFB</span><span class="hljs-params">(origData []<span class="hljs-type">byte</span>, key []<span class="hljs-type">byte</span>)</span></span> (encrypted []<span class="hljs-type">byte</span>) &#123;<br> block, err := aes.NewCipher(key)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> encrypted = <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, aes.BlockSize+<span class="hljs-built_in">len</span>(origData))<br> iv := encrypted[:aes.BlockSize]<br> <span class="hljs-keyword">if</span> _, err := io.ReadFull(rand.Reader, iv); err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> stream := cipher.NewCFBEncrypter(block, iv)<br> stream.XORKeyStream(encrypted[aes.BlockSize:], origData)<br> <span class="hljs-keyword">return</span> encrypted<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AesDecryptCFB</span><span class="hljs-params">(encrypted []<span class="hljs-type">byte</span>, key []<span class="hljs-type">byte</span>)</span></span> (decrypted []<span class="hljs-type">byte</span>) &#123;<br> block, _ := aes.NewCipher(key)<br> <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(encrypted) &lt; aes.BlockSize &#123;<br>  <span class="hljs-built_in">panic</span>(<span class="hljs-string">&quot;ciphertext too short&quot;</span>)<br> &#125;<br> iv := encrypted[:aes.BlockSize]<br> encrypted = encrypted[aes.BlockSize:]<br><br> stream := cipher.NewCFBDecrypter(block, iv)<br> stream.XORKeyStream(encrypted, encrypted)<br> <span class="hljs-keyword">return</span> encrypted<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> origData := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;460154561234&quot;</span>) <span class="hljs-comment">// 待加密的数据</span><br> key := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;9876787656785679&quot;</span>)  <span class="hljs-comment">// 加密的密钥</span><br> log.Println(<span class="hljs-string">&quot;原文：&quot;</span>, <span class="hljs-type">string</span>(origData))<br><br> log.Println(<span class="hljs-string">&quot;------------------ CFB模式 --------------------&quot;</span>)<br> encrypted := AesEncryptCFB(origData, key)<br> log.Println(<span class="hljs-string">&quot;密文(hex)：&quot;</span>, hex.EncodeToString(encrypted))<br> log.Println(<span class="hljs-string">&quot;密文(base64)：&quot;</span>, base64.StdEncoding.EncodeToString(encrypted))<br> decrypted := AesDecryptCFB(encrypted, key)<br> log.Println(<span class="hljs-string">&quot;解密结果：&quot;</span>, <span class="hljs-type">string</span>(decrypted))<br>&#125;<br><br></code></pre></td></tr></table></figure><h1 id="RSA加密"><a href="#RSA加密" class="headerlink" title="RSA加密"></a>RSA加密</h1><p>RSA是一种基于公钥密码体制的优秀加密算法，1978年由美国(MIT)的李维斯特(Rivest)、沙米尔(Shamir)、艾德曼(Adleman)提的。<br>RSA算法是一种分组密码体制算法，它的保密强度是建立在具有大素数因子的合数其因子分解是困难的（基于大数分解的难度）。<br>公钥和私钥是一对大素数的函数，从一个公钥和密文中恢复出明文的难度等价于分解两个大素数之积。<br>RSA得到了世界上的最广泛的应用，ISO在1992年颁布的国际标准X.509中,将RSA算法正式纳入国际标准。</p><h2 id="RSA加密-1"><a href="#RSA加密-1" class="headerlink" title="RSA加密"></a>RSA加密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;crypto/rand&quot;</span><br> <span class="hljs-string">&quot;crypto/rsa&quot;</span><br> <span class="hljs-string">&quot;crypto/x509&quot;</span><br> <span class="hljs-string">&quot;encoding/pem&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;os&quot;</span><br>)<br><br><br><br><br><span class="hljs-comment">// GenerateRSAKey 生成RSA私钥和公钥，保存到文件中</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GenerateRSAKey</span><span class="hljs-params">(bits <span class="hljs-type">int</span>)</span></span>&#123;<br> <span class="hljs-comment">//GenerateKey函数使用随机数据生成器random生成一对具有指定字位数的RSA密钥</span><br> <span class="hljs-comment">//Reader是一个全局、共享的密码用强随机数生成器</span><br> privateKey, err := rsa.GenerateKey(rand.Reader, bits)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//保存私钥</span><br> <span class="hljs-comment">//通过x509标准将得到的ras私钥序列化为ASN.1 的 DER编码字符串</span><br> <span class="hljs-comment">// X509PrivateKey := x509.MarshalPKCS1PrivateKey(privateKey) // PKCS1 和 9 是不一致的</span><br> X509PrivateKey,err := x509.MarshalPKCS8PrivateKey(privateKey)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  fmt.Println(err.Error())<br>  os.Exit(<span class="hljs-number">0</span>)<br> &#125;<br> <span class="hljs-comment">//使用pem格式对x509输出的内容进行编码</span><br> <span class="hljs-comment">//创建文件保存私钥</span><br> privateFile, err := os.Create(<span class="hljs-string">&quot;private.pem&quot;</span>)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> privateFile.Close()<br> <span class="hljs-comment">//构建一个pem.Block结构体对象</span><br> privateBlock:= pem.Block&#123;Type: <span class="hljs-string">&quot;PRIVATE KEY&quot;</span>,Bytes:X509PrivateKey&#125;<br> <span class="hljs-comment">//将数据保存到文件</span><br> pem.Encode(privateFile,&amp;privateBlock)<br> <span class="hljs-comment">//保存公钥</span><br> <span class="hljs-comment">//获取公钥的数据</span><br> publicKey:=privateKey.PublicKey<br> <span class="hljs-comment">//X509对公钥编码</span><br> X509PublicKey,err:=x509.MarshalPKIXPublicKey(&amp;publicKey)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//pem格式编码</span><br> <span class="hljs-comment">//创建用于保存公钥的文件</span><br> publicFile, err := os.Create(<span class="hljs-string">&quot;public.pem&quot;</span>)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> publicFile.Close()<br> <span class="hljs-comment">//创建一个pem.Block结构体对象</span><br> publicBlock:= pem.Block&#123;Type: <span class="hljs-string">&quot;Public Key&quot;</span>,Bytes:X509PublicKey&#125;<br> <span class="hljs-comment">//保存到文件</span><br> pem.Encode(publicFile,&amp;publicBlock)<br>&#125;<br><br><span class="hljs-comment">// RsaEncrypt RSA加密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">RsaEncrypt</span><span class="hljs-params">(plainText []<span class="hljs-type">byte</span>,path <span class="hljs-type">string</span>)</span></span>[]<span class="hljs-type">byte</span>&#123;<br> <span class="hljs-comment">//打开文件</span><br> file,err:=os.Open(path)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> file.Close()<br> <span class="hljs-comment">//读取文件的内容</span><br> info, _ := file.Stat()<br> buf:=<span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>,info.Size())<br> file.Read(buf)<br> <span class="hljs-comment">//pem解码</span><br> block, _ := pem.Decode(buf)<br> <span class="hljs-comment">//x509解码</span><br> publicKeyInterface, err := x509.ParsePKIXPublicKey(block.Bytes)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//类型断言</span><br> publicKey:=publicKeyInterface.(*rsa.PublicKey)<br> <span class="hljs-comment">//对明文进行加密</span><br> cipherText, err := rsa.EncryptPKCS1v15(rand.Reader, publicKey, plainText)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//返回密文</span><br> <span class="hljs-keyword">return</span> cipherText<br>&#125;<br><br><span class="hljs-comment">// RsaDecrypt RSA解密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">RsaDecrypt</span><span class="hljs-params">(cipherText []<span class="hljs-type">byte</span>,path <span class="hljs-type">string</span>)</span></span> []<span class="hljs-type">byte</span>&#123;<br> <span class="hljs-comment">//打开文件</span><br> file,err:=os.Open(path)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> file.Close()<br> <span class="hljs-comment">//获取文件内容</span><br> info, _ := file.Stat()<br> buf:=<span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>,info.Size())<br> file.Read(buf)<br> <span class="hljs-comment">//pem解码</span><br> block, _ := pem.Decode(buf)<br> <span class="hljs-comment">//X509解码</span><br> privateKey, err := x509.ParsePKCS8PrivateKey(block.Bytes)<br> <span class="hljs-keyword">if</span> err!=<span class="hljs-literal">nil</span>&#123;<br>  fmt.Println(err.Error())<br>  os.Exit(<span class="hljs-number">0</span>)<br> &#125;<br> <span class="hljs-comment">//对密文进行解密</span><br> plainText,_:=rsa.DecryptPKCS1v15(rand.Reader,privateKey.(*rsa.PrivateKey),cipherText)<br> <span class="hljs-comment">//返回明文</span><br> <span class="hljs-keyword">return</span> plainText<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br> <span class="hljs-comment">// RSA/ECB/PKCS1Padding</span><br> <span class="hljs-comment">// RSA是算法，ECB是分块模式，PKCS1Padding是填充模式</span><br><br> <span class="hljs-comment">// pkcs1私钥生成openssl genrsa -out pkcs1.pem 1024</span><br> <span class="hljs-comment">// pkcs1转pkcs8私钥 ：openssl pkcs8 -in pkcs8.pem -nocrypt -out pkcs1.pem</span><br><br> <span class="hljs-comment">// pkcs1 BEGIN RSA PRIVATE KEY</span><br> <span class="hljs-comment">// pkcs8 BEGIN PRIVATE KEY</span><br><br> GenerateRSAKey(<span class="hljs-number">1024</span>)<br> publicPath := <span class="hljs-string">&quot;public_key.pem&quot;</span><br> privatePath := <span class="hljs-string">&quot;private_key.pem&quot;</span><br><br> publicPath = <span class="hljs-string">&quot;public.pem&quot;</span><br> privatePath = <span class="hljs-string">&quot;private.pem&quot;</span><br><br> txt := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;hello&quot;</span>)<br> encrptTxt := RsaEncrypt(txt,publicPath)<br> decrptCode := RsaDecrypt(encrptTxt,privatePath)<br> fmt.Println(<span class="hljs-type">string</span>(decrptCode))<br><br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="RSA分段加密"><a href="#RSA分段加密" class="headerlink" title="RSA分段加密"></a>RSA分段加密</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;bytes&quot;</span><br> <span class="hljs-string">&quot;crypto/rand&quot;</span><br> <span class="hljs-string">&quot;crypto/rsa&quot;</span><br> <span class="hljs-string">&quot;crypto/x509&quot;</span><br> <span class="hljs-string">&quot;encoding/base64&quot;</span><br> <span class="hljs-string">&quot;encoding/pem&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;log&quot;</span><br> <span class="hljs-string">&quot;os&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> GenerateRSAKey(<span class="hljs-number">2048</span>)<br> publicPath := <span class="hljs-string">&quot;public.pem&quot;</span><br> privatePath := <span class="hljs-string">&quot;private.pem&quot;</span><br> <span class="hljs-keyword">var</span> a = []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;hello&quot;</span>)<br> encrptTxt, err := RsaEncryptBlock(a, publicPath)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  fmt.Println(err.Error())<br> &#125;<br> encodeString := base64.StdEncoding.EncodeToString(encrptTxt)<br> decodeByte, err := base64.StdEncoding.DecodeString(encodeString)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//生成RSA私钥和公钥，保存到文件中</span><br> decrptCode := RSA_Decrypts(decodeByte, privatePath)<br> fmt.Println(<span class="hljs-type">string</span>(decrptCode))<br><br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GenerateRSAKey</span><span class="hljs-params">(bits <span class="hljs-type">int</span>)</span></span> &#123;<br> <span class="hljs-comment">//GenerateKey函数使用随机数据生成器random生成一对具有指定字位数的RSA密钥</span><br> <span class="hljs-comment">//Reader是一个全局、共享的密码用强随机数生成器</span><br> privateKey, err := rsa.GenerateKey(rand.Reader, bits)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//保存私钥</span><br> <span class="hljs-comment">//通过x509标准将得到的ras私钥序列化为ASN.1 的 DER编码字符串</span><br> <span class="hljs-comment">// X509PrivateKey := x509.MarshalPKCS1PrivateKey(privateKey) // PKCS1 和 9 是不一致的</span><br> X509PrivateKey, err := x509.MarshalPKCS8PrivateKey(privateKey)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  fmt.Println(err.Error())<br>  os.Exit(<span class="hljs-number">0</span>)<br> &#125;<br> <span class="hljs-comment">//使用pem格式对x509输出的内容进行编码</span><br> <span class="hljs-comment">//创建文件保存私钥</span><br> privateFile, err := os.Create(<span class="hljs-string">&quot;private.pem&quot;</span>)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> privateFile.Close()<br> <span class="hljs-comment">//构建一个pem.Block结构体对象</span><br> privateBlock := pem.Block&#123;Type: <span class="hljs-string">&quot;PRIVATE KEY&quot;</span>, Bytes: X509PrivateKey&#125;<br> <span class="hljs-comment">//将数据保存到文件</span><br> pem.Encode(privateFile, &amp;privateBlock)<br> <span class="hljs-comment">//保存公钥</span><br> <span class="hljs-comment">//获取公钥的数据</span><br> publicKey := privateKey.PublicKey<br> <span class="hljs-comment">//X509对公钥编码</span><br> X509PublicKey, err := x509.MarshalPKIXPublicKey(&amp;publicKey)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//pem格式编码</span><br> <span class="hljs-comment">//创建用于保存公钥的文件</span><br> publicFile, err := os.Create(<span class="hljs-string">&quot;public.pem&quot;</span>)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> publicFile.Close()<br> <span class="hljs-comment">//创建一个pem.Block结构体对象</span><br> publicBlock := pem.Block&#123;Type: <span class="hljs-string">&quot;Public Key&quot;</span>, Bytes: X509PublicKey&#125;<br> <span class="hljs-comment">//保存到文件</span><br> pem.Encode(publicFile, &amp;publicBlock)<br>&#125;<br><br><span class="hljs-comment">// RSA_Decrypts RSA解密支持分段解密</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">RSA_Decrypts</span><span class="hljs-params">(cipherText []<span class="hljs-type">byte</span>, path <span class="hljs-type">string</span>)</span></span> []<span class="hljs-type">byte</span> &#123;<br> <span class="hljs-comment">//打开文件</span><br> <span class="hljs-keyword">var</span> bytesDecrypt []<span class="hljs-type">byte</span><br> file, err := os.Open(path)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> file.Close()<br> <span class="hljs-comment">//获取文件内容</span><br> info, _ := file.Stat()<br> buf := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, info.Size())<br> file.Read(buf)<br> <span class="hljs-comment">//pem解码</span><br> block, _ := pem.Decode(buf)<br> <span class="hljs-comment">//X509解码</span><br> privateKey, err := x509.ParsePKCS8PrivateKey(block.Bytes)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  fmt.Println(err.Error())<br>  os.Exit(<span class="hljs-number">0</span>)<br> &#125;<br> p := privateKey.(*rsa.PrivateKey)<br> keySize := p.Size()<br> srcSize := <span class="hljs-built_in">len</span>(cipherText)<br> log.Println(<span class="hljs-string">&quot;密钥长度&quot;</span>, keySize, <span class="hljs-string">&quot;密文长度&quot;</span>, srcSize)<br> <span class="hljs-keyword">var</span> offSet = <span class="hljs-number">0</span><br> <span class="hljs-keyword">var</span> buffer = bytes.Buffer&#123;&#125;<br> <span class="hljs-keyword">for</span> offSet &lt; srcSize &#123;<br>  endIndex := offSet + keySize<br>  <span class="hljs-keyword">if</span> endIndex &gt; srcSize &#123;<br>   endIndex = srcSize<br>  &#125;<br>  bytesOnce, err := rsa.DecryptPKCS1v15(rand.Reader, p, cipherText[offSet:endIndex])<br>  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span><br>  &#125;<br>  buffer.Write(bytesOnce)<br>  offSet = endIndex<br> &#125;<br> bytesDecrypt = buffer.Bytes()<br> <span class="hljs-keyword">return</span> bytesDecrypt<br>&#125;<br><br><span class="hljs-comment">// RsaEncryptBlock 公钥加密-分段</span><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">RsaEncryptBlock</span><span class="hljs-params">(src []<span class="hljs-type">byte</span>, path <span class="hljs-type">string</span>)</span></span> (bytesEncrypt []<span class="hljs-type">byte</span>, err <span class="hljs-type">error</span>) &#123;<br> <span class="hljs-comment">//打开文件</span><br> file, err := os.Open(path)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-keyword">defer</span> file.Close()<br> <span class="hljs-comment">//读取文件的内容</span><br> info, _ := file.Stat()<br> buf := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, info.Size())<br> file.Read(buf)<br> <span class="hljs-comment">//pem解码</span><br> block, _ := pem.Decode(buf)<br> <span class="hljs-comment">//x509解码</span><br> publicKeyInterface, err := x509.ParsePKIXPublicKey(block.Bytes)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-built_in">panic</span>(err)<br> &#125;<br> <span class="hljs-comment">//类型断言</span><br> publicKey := publicKeyInterface.(*rsa.PublicKey)<br> keySize, srcSize := publicKey.Size(), <span class="hljs-built_in">len</span>(src)<br> log.Println(<span class="hljs-string">&quot;密钥长度&quot;</span>, keySize, <span class="hljs-string">&quot;明文长度&quot;</span>, srcSize)<br> offSet, once := <span class="hljs-number">0</span>, keySize<span class="hljs-number">-11</span><br> buffer := bytes.Buffer&#123;&#125;<br> <span class="hljs-keyword">for</span> offSet &lt; srcSize &#123;<br>  endIndex := offSet + once<br>  <span class="hljs-keyword">if</span> endIndex &gt; srcSize &#123;<br>   endIndex = srcSize<br>  &#125;<br>  <span class="hljs-comment">// 加密一部分</span><br>  bytesOnce, err := rsa.EncryptPKCS1v15(rand.Reader, publicKey, src[offSet:endIndex])<br>  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br>  &#125;<br>  buffer.Write(bytesOnce)<br>  offSet = endIndex<br> &#125;<br> bytesEncrypt = buffer.Bytes()<br> <span class="hljs-keyword">return</span><br>&#125;<br></code></pre></td></tr></table></figure><h1 id="DES加密"><a href="#DES加密" class="headerlink" title="DES加密"></a>DES加密</h1><ul><li>DES(Data Encryption)是1977年美国联邦信息处理标准(FIPS)中所采用的一种对称密码（FIPS46-3）,一直以来被美国及其他国家的政府和银行等广泛使用。随着计算机的进步，DES已经能够被暴力破解,1997年的DES Challenge I 中用了96天破译密钥，1998年的DES Challenge II-1中用了41天，1998年的DES Challenge II-2中用了56小时，1999年的DES Challenge III 中只用了22小时15分钟。</li><li>DES是一种将64比特的明文加密成64比特的密文的对称密码算法，它的密钥的长度是56比特。尽管从规格上来说，DES的密钥长度是64比特，但由于每隔7比特会设置一个用于错误检查的比特，因此实质上其密钥长度是56比特。</li><li>DES 是以64比特的明文（比特序列）为一个单位来进行加密的，这个64比特的单位称为分组 ，一般来说，以分组为单位进行处理的密码算法称为分组密码，DES就是分组密码的一种。</li><li>DES每次只能加密64比特的数据，如果要加密的明文比较长，就需要对DES加密进行迭代（反复），而迭代的具体方式就称为模式。</li><li>DES 内部实现理论：在 des 中各个步骤称为轮，整个加密过程进行16轮循环。</li></ul><h2 id="内置库完成"><a href="#内置库完成" class="headerlink" title="内置库完成"></a>内置库完成</h2><p>加密模式采用ECB、填充方式采用pkcs5padding、密码使用”12345678”,输出时经hex编码。自己可以通过一些在线测试工具进行测试，看结果是否一致。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;bytes&quot;</span><br> <span class="hljs-string">&quot;crypto/cipher&quot;</span><br> <span class="hljs-string">&quot;crypto/des&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> data := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;hello world&quot;</span>)<br> key := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;12345678&quot;</span>)<br> iv := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;43218765&quot;</span>)<br><br> result, err := DesCBCEncrypt(data, key, iv)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  fmt.Println(err)<br> &#125;<br> b := hex.EncodeToString(result)<br> fmt.Println(b)<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">DesCBCEncrypt</span><span class="hljs-params">(data, key, iv []<span class="hljs-type">byte</span>)</span></span> ([]<span class="hljs-type">byte</span>, <span class="hljs-type">error</span>) &#123;<br> block, err := des.NewCipher(key)<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err<br> &#125;<br><br> data = pkcs5Padding(data, block.BlockSize())<br> cryptText := <span class="hljs-built_in">make</span>([]<span class="hljs-type">byte</span>, <span class="hljs-built_in">len</span>(data))<br><br> blockMode := cipher.NewCBCEncrypter(block, iv)<br> blockMode.CryptBlocks(cryptText, data)<br> <span class="hljs-keyword">return</span> cryptText, <span class="hljs-literal">nil</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">pkcs5Padding</span><span class="hljs-params">(cipherText []<span class="hljs-type">byte</span>, blockSize <span class="hljs-type">int</span>)</span></span> []<span class="hljs-type">byte</span> &#123;<br> padding := blockSize - <span class="hljs-built_in">len</span>(cipherText)%blockSize<br> padText := bytes.Repeat([]<span class="hljs-type">byte</span>&#123;<span class="hljs-type">byte</span>(padding)&#125;, padding)<br> <span class="hljs-keyword">return</span> <span class="hljs-built_in">append</span>(cipherText, padText...)<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="使用第三方库"><a href="#使用第三方库" class="headerlink" title="使用第三方库"></a>使用第三方库</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;github.com/marspere/goencrypt&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br> <span class="hljs-comment">// key为12345678</span><br> <span class="hljs-comment">// iv为空</span><br> <span class="hljs-comment">// 采用ECB分组模式</span><br> <span class="hljs-comment">// 采用pkcs5padding填充模式</span><br> <span class="hljs-comment">// 输出结果使用base64进行加密</span><br> cipher := goencrypt.NewDESCipher([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;12345678&quot;</span>), []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;&quot;</span>), goencrypt.ECBMode, goencrypt.Pkcs7, goencrypt.PrintBase64)<br> cipherText, err := cipher.DESEncrypt([]<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;hello world&quot;</span>))<br> <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> &#123;<br>  fmt.Println(err)<br>  <span class="hljs-keyword">return</span><br> &#125;<br> fmt.Println(cipherText)<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="3DES加密算法"><a href="#3DES加密算法" class="headerlink" title="3DES加密算法"></a>3DES加密算法</h1><p>3DES（或称为Triple DES）是三重数据加密算法（TDEA，Triple Data Encryption Algorithm）块密码的通称。它相当于是对每个数据块应用三次DES加密算法。<br>由于计算机运算能力的增强，原版DES密码的密钥长度变得容易被暴力破解；3DES即是设计用来提供一种相对简单的方法，即通过增加DES的密钥长度来避免类似的攻击，而不是设计一种全新的块密码算法。<br>还有一个库 非常NB</p><p>ECB模式下的3DES算法加解密信息，golang默认只提供CBC模式<br>这边有golang的加密库，非常厉害<br><strong>github.com&#x2F;forgoer&#x2F;openssl</strong></p><p>安装：<br><strong>go get github.com&#x2F;thinkoner&#x2F;openssl</strong></p><p>代码如下：</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs golang"><span class="hljs-keyword">package</span> main<br><br><span class="hljs-keyword">import</span> (<br> <span class="hljs-string">&quot;encoding/base64&quot;</span><br> <span class="hljs-string">&quot;encoding/hex&quot;</span><br> <span class="hljs-string">&quot;fmt&quot;</span><br> <span class="hljs-string">&quot;github.com/forgoer/openssl&quot;</span><br>)<br><br><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> &#123;<br><br> <span class="hljs-comment">//定义密钥，必须是24byte</span><br> key := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;123456789012345678901234&quot;</span>)<br> fmt.Println(<span class="hljs-string">&quot;密钥：&quot;</span>, key, hex.EncodeToString(key))<br><br> <span class="hljs-comment">//定义明文</span><br> src := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;0102030109000000030000000F8898E37A7F8F3D742006111118080000FACE05&quot;</span>)<br><br> <span class="hljs-comment">//3DES-ECB加密</span><br> encodeData, _ := openssl.Des3ECBEncrypt(src, key, openssl.ZEROS_PADDING)<br> encryptBaseData := base64.StdEncoding.EncodeToString(encodeData)<br><br> fmt.Println(<span class="hljs-string">&quot;加密后Base64：&quot;</span>, encryptBaseData)<br> fmt.Println(<span class="hljs-string">&quot;加密后Hex：&quot;</span>, hex.EncodeToString(encodeData))<br><br> <span class="hljs-comment">//3DES-ECB解密</span><br> decodeBaseData, _ := base64.StdEncoding.DecodeString(encryptBaseData)<br> decodeData, _ := openssl.Des3ECBDecrypt(decodeBaseData, key, openssl.ZEROS_PADDING)<br><br> fmt.Println(<span class="hljs-string">&quot;解密后：&quot;</span>, hex.EncodeToString(decodeData))<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="包括-Des的加密解密"><a href="#包括-Des的加密解密" class="headerlink" title="包括 Des的加密解密"></a>包括 Des的加密解密</h2><p>以下只举一个例子</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs go">srcData := <span class="hljs-string">&quot;L0j+JvbeVM0svSpjIwXdE7yTu78wiEszCmW8rwjXY3vrx2nEaUeJ/Rw/c/IRdlxIH+/ro4pykx6ESOkGU1YwM8ddEuuoTg5uPsqQ9/SuNds=&quot;</span><br>key := []<span class="hljs-type">byte</span>(<span class="hljs-string">&quot;Ctpsp@884*&quot;</span>[:<span class="hljs-number">8</span>])<br><span class="hljs-comment">//3DES-ECB解密</span><br>decodeBaseData, _ := base64.StdEncoding.DecodeString(srcData)<br>decodeData, _ := openssl.DesECBDecrypt(decodeBaseData, key, openssl.PKCS5_PADDING)<br>fmt.Println(<span class="hljs-string">&quot;解密后：&quot;</span>, <span class="hljs-type">string</span>(decodeData))<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 语言加解密 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Xpath高级用法</title>
      <link href="/2022/09/20/Xpath%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/"/>
      <url>/2022/09/20/Xpath%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>xpath 高级用法</p><h1 id="匹配当前节点下的所有"><a href="#匹配当前节点下的所有" class="headerlink" title="匹配当前节点下的所有"></a>匹配当前节点下的所有</h1><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs 1c">.<span class="hljs-comment">//</span><br>.   表示当前<br><span class="hljs-comment">//  表示当前标签下的所有标签</span><br>注： 要配合使用<br></code></pre></td></tr></table></figure><h1 id="匹配某标签的属性值：-属性名称"><a href="#匹配某标签的属性值：-属性名称" class="headerlink" title="匹配某标签的属性值： &#x2F;@属性名称"></a>匹配某标签的属性值： &#x2F;@属性名称</h1><p>这里以input里的value值为例：<br><code>例：</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">xpath</span><span class="hljs-params">(//input/@value)</span></span><br></code></pre></td></tr></table></figure><h1 id="匹配多个路径"><a href="#匹配多个路径" class="headerlink" title="匹配多个路径"></a>匹配多个路径</h1><p><code>在一个xpath中写的多个表达式用 | 分开， 每个表达式互不干扰。</code></p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs inform7">xpath(<span class="hljs-string">&quot;//tr<span class="hljs-subst">[6]</span>/td<span class="hljs-subst">[2]</span>/text() | //tr<span class="hljs-subst">[7]</span>/td<span class="hljs-subst">[2]</span>/text()&quot;</span>)<br></code></pre></td></tr></table></figure><h1 id="按属性匹配：-获取所有id-”test”的所有文本内容"><a href="#按属性匹配：-获取所有id-”test”的所有文本内容" class="headerlink" title="按属性匹配：@获取所有id&#x3D;”test”的所有文本内容"></a>按属性匹配：@获取所有id&#x3D;”test”的所有文本内容</h1><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;//*[@id=<span class="hljs-string">&quot;test&quot;</span>]//text()&#x27;)<br></code></pre></td></tr></table></figure><h1 id="匹配不包含某个属性的标签-not"><a href="#匹配不包含某个属性的标签-not" class="headerlink" title="匹配不包含某个属性的标签 not"></a>匹配不包含某个属性的标签 not</h1><p><code>多用于表格中匹配中不包含表头信息的数据</code></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;//table/tr[not(@class=<span class="hljs-string">&quot;tbhead&quot;</span>)]&#x27;)<br></code></pre></td></tr></table></figure><h1 id="匹配包含多个属性的标签-and匹配所有的tr中不包含-tbhead-属性-和包含-head-的tr标签"><a href="#匹配包含多个属性的标签-and匹配所有的tr中不包含-tbhead-属性-和包含-head-的tr标签" class="headerlink" title="匹配包含多个属性的标签: and匹配所有的tr中不包含 tbhead 属性 和包含 head 的tr标签"></a>匹配包含多个属性的标签: and匹配所有的tr中不包含 tbhead 属性 和包含 head 的tr标签</h1><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;//table/tr[not(@class=<span class="hljs-string">&quot;tbhead&quot;</span>) and @class=<span class="hljs-string">&quot;head&quot;</span>]&#x27;)<br></code></pre></td></tr></table></figure><h1 id="匹配包含不同属性的名称相同的标签"><a href="#匹配包含不同属性的名称相同的标签" class="headerlink" title="匹配包含不同属性的名称相同的标签"></a>匹配包含不同属性的名称相同的标签</h1><p><code>or匹配包含class=&quot;speedbar&quot; 或者 class=&quot;content-wrap&quot; 的标签</code></p><figure class="highlight golo"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs golo">xpath（&#x27;//div[<span class="hljs-meta">@class</span>=<span class="hljs-string">&quot;speedbar&quot;</span> or <span class="hljs-meta">@class</span>=<span class="hljs-string">&quot;content-wrap&quot;</span>]&#x27;）<br></code></pre></td></tr></table></figure><h1 id="将对象还原为字符串："><a href="#将对象还原为字符串：" class="headerlink" title="将对象还原为字符串："></a>将对象还原为字符串：</h1><p><code>etree.tostring（）将匹配到的对象，作为etree.tostring（）的参数即可. 注： 返回字符串</code></p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">sObj</span> = xml.xpath(<span class="hljs-string">&#x27;//*[@id=&quot;test&quot;]&#x27;</span>)[<span class="hljs-number">0</span>] <span class="hljs-comment">#使用xpath定位一个节点</span><br><span class="hljs-attr">sStr</span> = etree.tostring(sObj)<br></code></pre></td></tr></table></figure><h1 id="按轴-Axes-匹配"><a href="#按轴-Axes-匹配" class="headerlink" title="按轴(Axes)匹配"></a>按轴(Axes)匹配</h1><h2 id="9-1-选取当前节点的所有子元素-child获取div下的tr的标签"><a href="#9-1-选取当前节点的所有子元素-child获取div下的tr的标签" class="headerlink" title="9.1 选取当前节点的所有子元素: child获取div下的tr的标签"></a>9.1 选取当前节点的所有子元素: child获取div下的tr的标签</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">xpath(<span class="hljs-string">&#x27;//div[@id=&quot;testid&quot;]/child::tr/td/text()&#x27;</span>) <span class="hljs-comment"># 感觉这种方法鸡肋，</span><br>//div[@<span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;testid&quot;</span>]//tr/td 也可以实现<br></code></pre></td></tr></table></figure><h2 id="选取当前节点的所有属性：attribute"><a href="#选取当前节点的所有属性：attribute" class="headerlink" title="选取当前节点的所有属性：attribute"></a>选取当前节点的所有属性：attribute</h2><p><code>获取div标签所有的属性值</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">xpath(<span class="hljs-string">&#x27;//div/attribute::*&#x27;</span>) <span class="hljs-comment"># 感觉这种方法鸡肋，//div/@* 同样能实现</span><br></code></pre></td></tr></table></figure><h2 id="ancestor：父辈元素-ancestor-or-self：父辈元素及当前元素"><a href="#ancestor：父辈元素-ancestor-or-self：父辈元素及当前元素" class="headerlink" title="ancestor：父辈元素 &#x2F; ancestor-or-self：父辈元素及当前元素"></a>ancestor：父辈元素 &#x2F; ancestor-or-self：父辈元素及当前元素</h2><p><code>获取父辈元素的div的所有属性值， 在不好定位的情况下，通过孩子标签定位，这种方法可以用</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">xpath</span><span class="hljs-params">(<span class="hljs-string">&#x27;//div[@id=&quot;test&quot;]/ancestor::div/@*&#x27;</span>)</span></span><br><span class="hljs-function"><span class="hljs-title">xpath</span><span class="hljs-params">(<span class="hljs-string">&#x27;//div[@id=&quot;test&quot;]/ancestor-or-self::div/@*&#x27;</span>)</span></span><br></code></pre></td></tr></table></figure><h2 id="descendant：后代-descendant-or-self：后代及当前节点本身"><a href="#descendant：后代-descendant-or-self：后代及当前节点本身" class="headerlink" title="descendant：后代 &#x2F; descendant-or-self：后代及当前节点本身"></a>descendant：后代 &#x2F; descendant-or-self：后代及当前节点本身</h2><p><code>获取孩子元素的div的所有属性值，感觉鸡肋</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">xpath</span><span class="hljs-params">(<span class="hljs-string">&#x27;//div[@id=&quot;test&quot;]/descendant::div/@*&#x27;</span>)</span></span><br><span class="hljs-function"><span class="hljs-title">xpath</span><span class="hljs-params">(<span class="hljs-string">&#x27;//div[@id=&quot;test&quot;]/descendant-or-self::div/@*&#x27;</span>)</span></span><br></code></pre></td></tr></table></figure><h2 id="选取当前节点的所有命名空间节点-namespace"><a href="#选取当前节点的所有命名空间节点-namespace" class="headerlink" title="选取当前节点的所有命名空间节点:namespace"></a>选取当前节点的所有命名空间节点:namespace</h2><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;//div[@id=<span class="hljs-string">&quot;test&quot;</span>]/namespace:<span class="hljs-symbol">:*</span>&#x27;)<br></code></pre></td></tr></table></figure><h2 id="定位-position"><a href="#定位-position" class="headerlink" title="定位:position"></a>定位:position</h2><p><code>和通过下标定位一样， 方法鸡肋</code></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;//*[@id=<span class="hljs-string">&quot;test&quot;</span>]/ol/li[position()=2]/text()&#x27;)<br></code></pre></td></tr></table></figure><h1 id="Xpath-函数："><a href="#Xpath-函数：" class="headerlink" title="Xpath 函数："></a>Xpath 函数：</h1><h2 id="统计数量：count"><a href="#统计数量：count" class="headerlink" title="统计数量：count"></a>统计数量：count</h2><p><code>统计符合要求节点的数量，  注： 返回字符串</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">xpath(<span class="hljs-string">&#x27;count(//tr[@info])&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="字符串拼接-：concat"><a href="#字符串拼接-：concat" class="headerlink" title="字符串拼接 ：concat"></a>字符串拼接 ：concat</h2><p><code>统计出来的两个内容的字符串进行“ + ”处理， 注： 返回字符串</code></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;concat(<span class="hljs-name">//li</span>[@id=<span class="hljs-string">&quot;one&quot;</span>]/text(),//li[@id=<span class="hljs-string">&quot;three&quot;</span>]/text())&#x27;)<br></code></pre></td></tr></table></figure><h2 id="解析当前节点下的字符：string"><a href="#解析当前节点下的字符：string" class="headerlink" title="解析当前节点下的字符：string"></a>解析当前节点下的字符：string</h2><p><code>string()直解析匹配的第一个标签的值，  注： 返回字符串</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">xpath</span><span class="hljs-params">(<span class="hljs-string">&#x27;string(//tr)&#x27;</span>)</span></span><br></code></pre></td></tr></table></figure><h2 id="获取当前节点的节点名称-local-name"><a href="#获取当前节点的节点名称-local-name" class="headerlink" title="获取当前节点的节点名称: local-name"></a>获取当前节点的节点名称: local-name</h2><p><code>返回当前属性的节点名称，  注： 返回字符串</code></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;local-name(<span class="hljs-name">//*</span>[@id=<span class="hljs-string">&quot;test&quot;</span>])&#x27;)<br></code></pre></td></tr></table></figure><h2 id="以指定的字符开头：starts-with"><a href="#以指定的字符开头：starts-with" class="headerlink" title="以指定的字符开头：starts-with"></a>以指定的字符开头：starts-with</h2><p><code>starts-with定位属性值以8开头的li元素</code></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lisp">xpath(&#x27;//tr[starts-with(@code,<span class="hljs-string">&quot;one&quot;</span>)]/text()&#x27;)<br></code></pre></td></tr></table></figure><h2 id="小于："><a href="#小于：" class="headerlink" title="小于：&lt;"></a>小于：&lt;</h2><p><code>匹配所有tr标签属性info小于200的内容</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">xpath</span><span class="hljs-params">(<span class="hljs-string">&#x27;//tr[@info&lt;200]/text()&#x27;</span>)</span></span><br></code></pre></td></tr></table></figure><h1 id="根据指定的文本内容选择"><a href="#根据指定的文本内容选择" class="headerlink" title="根据指定的文本内容选择"></a>根据指定的文本内容选择</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"># 指定的文本内容可以是文本内容的部分， 也可以是全部<br>//<span class="hljs-selector-tag">div</span><span class="hljs-selector-attr">[2]</span>/<span class="hljs-selector-tag">ul</span>/<span class="hljs-selector-tag">li</span><span class="hljs-selector-attr">[contains(text(), <span class="hljs-string">&quot;指定的文本内容&quot;</span>)]</span>/<span class="hljs-selector-tag">span</span>/<span class="hljs-selector-tag">text</span>()<br></code></pre></td></tr></table></figure><h1 id="获取在此节点下的所有内容"><a href="#获取在此节点下的所有内容" class="headerlink" title="获取在此节点下的所有内容"></a>获取在此节点下的所有内容</h1><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-string">//</span>*[@class=<span class="hljs-string">&quot;init-content&quot;</span>]<span class="hljs-string">/..</span><br></code></pre></td></tr></table></figure><h1 id="position：定位"><a href="#position：定位" class="headerlink" title="position：定位"></a>position：定位</h1><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs fortran">选择偶数项：[<span class="hljs-keyword">position</span>()=(<span class="hljs-keyword">position</span>() <span class="hljs-built_in">mod</span> <span class="hljs-number">2</span> = <span class="hljs-number">0</span>)]<br><br>选择奇数项：[<span class="hljs-keyword">position</span>()=(<span class="hljs-keyword">position</span>() <span class="hljs-built_in">mod</span> <span class="hljs-number">2</span> <span class="hljs-comment">!= 0)]</span><br></code></pre></td></tr></table></figure><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p><code>后面+:: 然后输入标签 或者数字</code></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">child：选取当前节点的子元素<br>parent：选取当前节点的父节点<br><span class="hljs-keyword">attribute</span>：选取当前节点的属性<br>ancestor：父辈元素 / ancestor-<span class="hljs-keyword">or</span>-self：父辈元素及当前元素<br>descendant：后代 / descendant-<span class="hljs-keyword">or</span>-self：后代及当前节点本身<br>方法同上<br><br><span class="hljs-keyword">following</span> :选取当前节点的结束标签之后的所有节点，包括节点的子孙节点<br><span class="hljs-keyword">preceding</span>：选取当前节点的开始标签之前的所有节点，包括节点的子孙节点<br><span class="hljs-keyword">following</span>-sibling：选取当前节点之后的所有同级节点<br><span class="hljs-keyword">preceding</span>-sibling：选取当前节点之前的所有同级节点<br></code></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装NVM与构建vue项目</title>
      <link href="/2022/05/26/%E5%AE%89%E8%A3%85NVM%E4%B8%8E%E6%9E%84%E5%BB%BAvue%E9%A1%B9%E7%9B%AE/"/>
      <url>/2022/05/26/%E5%AE%89%E8%A3%85NVM%E4%B8%8E%E6%9E%84%E5%BB%BAvue%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<h1 id="安装nvm"><a href="#安装nvm" class="headerlink" title="安装nvm"></a>安装nvm</h1><h2 id="windows-安装"><a href="#windows-安装" class="headerlink" title="windows 安装"></a>windows 安装</h2><p>去github 上下载 <a href="https://github.com/coreybutler/nvm-windows">https://github.com/coreybutler/nvm-windows</a></p><p>安装包地址： <a href="https://github.com/coreybutler/nvm-windows/releases">https://github.com/coreybutler/nvm-windows/releases</a><br><img src="https://s2.loli.net/2024/08/26/WR9AbqNfsMw7juL.png"><br>直接下载安装即可。</p><p>安装完了 持续下一步<br>进入目录中<br><img src="https://s2.loli.net/2024/08/26/OaKlCvAH39IGu42.png"></p><p>然后修改settings中<br>添加如下内容</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">node_mirror:</span> https://npm.taobao<span class="hljs-meta">.org</span>/mirrors/node/<br><span class="hljs-symbol">npm_mirror:</span> https://npm.taobao<span class="hljs-meta">.org</span>/mirrors/npm/<br></code></pre></td></tr></table></figure><h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><p>验证NVM是否安装成功<br><img src="https://s2.loli.net/2024/08/26/87RNqO9Mmlh61kj.png"><br>以上代表已经安装成功了。<br><img src="https://s2.loli.net/2024/08/26/1qJDrX6IRvxpU7u.png"></p><h2 id="ubuntu-安装"><a href="#ubuntu-安装" class="headerlink" title="ubuntu 安装"></a>ubuntu 安装</h2><p><a href="https://github.com/nvm-sh/nvm">https://github.com/nvm-sh/nvm</a></p><p>执行如下命令即可。<br><img src="https://s2.loli.net/2024/08/26/FS7CDXsr8LuzQa1.png"></p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">curl -<span class="hljs-keyword">o</span>- https://raw.githubusercontent.<span class="hljs-keyword">com</span>/nvm-<span class="hljs-keyword">sh</span>/nvm/v0.<span class="hljs-number">39.3</span>/install.<span class="hljs-keyword">sh</span> | bash<br></code></pre></td></tr></table></figure><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">wget -qO- https://raw.githubusercontent.<span class="hljs-keyword">com</span>/nvm-<span class="hljs-keyword">sh</span>/nvm/v0.<span class="hljs-number">39.3</span>/install.<span class="hljs-keyword">sh</span> | bash<br></code></pre></td></tr></table></figure><h3 id="修改hosts"><a href="#修改hosts" class="headerlink" title="修改hosts"></a>修改hosts</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo <span class="hljs-keyword">vim</span> /etc/hosts<br><span class="hljs-number">199.232</span>.<span class="hljs-number">96.133</span> raw.githubusercontent.<span class="hljs-keyword">com</span><br></code></pre></td></tr></table></figure><h3 id="重启网卡"><a href="#重启网卡" class="headerlink" title="重启网卡"></a>重启网卡</h3><blockquote><p>systemctl restart NetworkManager.service</p></blockquote><p>这样就算安装成功了</p><h3 id="更换淘宝源"><a href="#更换淘宝源" class="headerlink" title="更换淘宝源"></a>更换淘宝源</h3><p>在安装nodejs的时候特别慢，安装了好久都安装不上去，网速实在是太慢了，需要将nvm的默认下载地址改为国内的，我使用了淘宝的镜像,在.bashrc文件中追加如下内容</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">vim</span> ~/.bashrc<br><br># nvm淘宝镜像<br>export NVM_NODEJS_ORG_MIRROR=http://npm.taobao.org/mirrors/node<br></code></pre></td></tr></table></figure><h1 id="安装cnpm"><a href="#安装cnpm" class="headerlink" title="安装cnpm"></a>安装cnpm</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install -g cnpm --registry=https://registry.npm.taobao.org <br></code></pre></td></tr></table></figure><h1 id="安装node"><a href="#安装node" class="headerlink" title="安装node"></a>安装node</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nvm install v16.13.0<br></code></pre></td></tr></table></figure><h1 id="卸载node"><a href="#卸载node" class="headerlink" title="卸载node"></a>卸载node</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nvm uninstall v16.13.0<br></code></pre></td></tr></table></figure><h1 id="使用nvm"><a href="#使用nvm" class="headerlink" title="使用nvm"></a>使用nvm</h1><h2 id="使用-16-13-0"><a href="#使用-16-13-0" class="headerlink" title="使用 16.13.0"></a>使用 16.13.0</h2><blockquote><p>nvm use v16.13.0</p></blockquote><p><strong>注意： 如果在windows下 要使用超级管理员 不然会出现错误</strong></p><h2 id="查看安装环境"><a href="#查看安装环境" class="headerlink" title="查看安装环境"></a>查看安装环境</h2><blockquote><p>nvm current<br>nvm list</p></blockquote><h2 id="更换默认环境"><a href="#更换默认环境" class="headerlink" title="更换默认环境"></a>更换默认环境</h2><blockquote><p>nvm alias default v16.13.0</p></blockquote><h1 id="安装yarn"><a href="#安装yarn" class="headerlink" title="安装yarn"></a>安装yarn</h1><h2 id="安装源添加镜像"><a href="#安装源添加镜像" class="headerlink" title="安装源添加镜像"></a>安装源添加镜像</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">curl -sS https://<span class="hljs-keyword">dl</span>.yarnpkg.<span class="hljs-keyword">com</span>/debian/pubkey.gpg | sudo apt-key <span class="hljs-built_in">add</span> -<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;deb https://dl.yarnpkg.com/debian/ stable main&quot;</span> | sudo tee /etc/apt/sources.<span class="hljs-keyword">list</span>.d/yarn.<span class="hljs-keyword">list</span><br></code></pre></td></tr></table></figure><h2 id="更新源并且安装"><a href="#更新源并且安装" class="headerlink" title="更新源并且安装"></a>更新源并且安装</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo apt <span class="hljs-keyword">update</span> &amp;&amp; sudo apt install yarn<br></code></pre></td></tr></table></figure><h2 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">sudo apt-<span class="hljs-built_in">get</span> <span class="hljs-built_in">remove</span> yarn<br>sudo apt-<span class="hljs-built_in">get</span> autoremove<br></code></pre></td></tr></table></figure><h2 id="添加淘宝源"><a href="#添加淘宝源" class="headerlink" title="添加淘宝源"></a>添加淘宝源</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm config <span class="hljs-built_in">set</span> registry http://registry.npm.taobao.org/<br></code></pre></td></tr></table></figure><p>安装完毕 后 输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn -v <br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/08/26/bkS6gd1snZyJzfm.png"><br>代表安装成功！！！</p><h2 id="初始化一个yarn项目"><a href="#初始化一个yarn项目" class="headerlink" title="初始化一个yarn项目"></a>初始化一个yarn项目</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn init<br></code></pre></td></tr></table></figure><h1 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue-cli"></a>vue-cli</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># 速度不行可以考虑换源 npm</span><br>npm install -g @vue/cli<br><br>yarn add global @vue-cli<br></code></pre></td></tr></table></figure><h2 id="常规安装"><a href="#常规安装" class="headerlink" title="常规安装"></a>常规安装</h2><blockquote><p>vue create vueproject</p></blockquote><h1 id="vite"><a href="#vite" class="headerlink" title="vite"></a>vite</h1><h2 id="安装vite"><a href="#安装vite" class="headerlink" title="安装vite"></a>安装vite</h2><p>中文文档： <a href="https://cn.vitejs.dev/guide/">https://cn.vitejs.dev/guide/</a><br>使用 NPM:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm create vite@latest<br></code></pre></td></tr></table></figure><p>使用 Yarn:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ yarn create vite<br></code></pre></td></tr></table></figure><p>结果如下<br><img src="https://s2.loli.net/2024/08/26/dxMni1cpNw3TVZE.png"></p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>然后使用vscode中的project manager 来对我们的项目进行管理<br><img src="https://s2.loli.net/2024/08/26/LFhB1V8M4XRrgJi.png"><br>然后修改project.json<br><img src="https://s2.loli.net/2024/08/26/2NQdc7WsVG5g8Bb.png"></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">[</span><br> <span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;kyfly_client&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;rootPath&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;E:\\Golang\\github.com\\hybpjx\\kyfly_client&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;paths&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;tags&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;enabled&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><br> <span class="hljs-punctuation">&#125;</span><br><span class="hljs-punctuation">]</span><br></code></pre></td></tr></table></figure><p>执行yarn 命令 安装资源包</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/08/26/Wr4ibtQ2YoM9eAq.png"></p><p>然后执行yarn dev </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yarn dev<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/08/26/WonxGITwkDpv4ys.png"><br><img src="https://s2.loli.net/2024/08/26/HXT1glJmraRy8LK.png"></p><p>启动成功！！<br><img src="https://s2.loli.net/2024/08/26/Xz291aoQPh3VY7I.png"></p><p>然后置空所有其他无用的东西<br><img src="https://s2.loli.net/2024/08/26/oiWUVlOQxmRkF5D.png"><br>效果如上图</p>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Andorid模拟器与开发工具的安装与使用</title>
      <link href="/2022/04/05/Andorid%E6%A8%A1%E6%8B%9F%E5%99%A8%E4%B8%8E%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"/>
      <url>/2022/04/05/Andorid%E6%A8%A1%E6%8B%9F%E5%99%A8%E4%B8%8E%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="前言——准备"><a href="#前言——准备" class="headerlink" title="前言——准备"></a>前言——准备</h1><p><strong>安装SDK前的准备工作</strong><br>首先为了实现 移动端的自动化控制 还需要一些工具来支持<br>需要设置好<a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif">Proxy SwitchyOmega</a></p><h2 id="什么是SDK"><a href="#什么是SDK" class="headerlink" title="什么是SDK"></a>什么是SDK</h2><p>SDK是一系列程序接口，文档，开发工具的集合，是的，集合，sdk即单单不是一个开发工具，也不是一个程序。一个完整的SDK应该包括以下内容：<br>（1）接口文件和库文件<br>（2）帮助文档<br>（3）开发示例<br>（4）实用工具。<br>接口文件和库文件就是API，将底层的代码进行封装保护，提供给用户一个调用底层代码的接口；</p><p>Android SDK 指的是 Android专属的软件开发工具包</p><h2 id="安装jdk"><a href="#安装jdk" class="headerlink" title="安装jdk"></a>安装jdk</h2><ul><li>配置jdk的环境</li><li>下载地址 <ul><li><a href="https://www.oracle.com/java/technologies/downloads/#java8">https://www.oracle.com/java/technologies/downloads/#java8</a></li></ul></li><li>有个做ui手工测试的只支持 jdk8 所以 必须安装jdk8</li></ul><p><strong>安装</strong><br>在电脑D盘新建 Java&#x2F;jdk &#x2F;Java&#x2F;jre<br><img src="https://s2.loli.net/2024/09/05/we43bTJvOPijz92.png"><br>选择jre 也是在D盘<br><img src="https://s2.loli.net/2024/09/05/zWpxetFnBvUma2r.png"></p><h3 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h3><ol><li><strong>D:\Java\jdk\bin 添加至 path中</strong></li><li>系统变量添加 <ol><li>JAVA_HOME : D:\JAVA\JDK</li><li>CLASSPATH : .;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;</li></ol></li></ol><p>测试是否安装成功<br><img src="https://s2.loli.net/2024/09/05/qfQ9oRjkezc5Lyx.png"></p><h1 id="Android开发工具的安装"><a href="#Android开发工具的安装" class="headerlink" title="Android开发工具的安装"></a>Android开发工具的安装</h1><h2 id="安装SDK"><a href="#安装SDK" class="headerlink" title="安装SDK"></a>安装SDK</h2><p>SDK下载地址<br>SDK下载地址：<br>旧：<a href="http://tools.android-studio.org/index.php/sdk">http://tools.android-studio.org/index.php/sdk</a><br>新：<a href="https://www.androiddevtools.cn/">https://www.androiddevtools.cn/</a></p><p><img src="https://s2.loli.net/2024/09/05/nJG4RSiAgfPWr5H.png"></p><p>下载 24.4.1<br><strong>安装过程</strong></p><ol><li>他会首先检查java环境是否安装<br><img src="https://s2.loli.net/2024/09/05/wiW1GgnlvpNEMZS.png"></li><li>其次选择安装路径<br><img src="https://s2.loli.net/2024/09/05/HvsuW4SpkiRfN9V.png"></li><li>依次选择下一步安装 </li><li>先不用勾选这个start SDK<br><img src="https://s2.loli.net/2024/09/05/gKL7MkpnQPctdyH.png"></li></ol><h2 id="安装好-设置环境变量"><a href="#安装好-设置环境变量" class="headerlink" title="安装好 设置环境变量"></a>安装好 设置环境变量</h2><p>在系统变量中设置<br>ANDROID_HOME : D:&#x2F;SDK</p><p>系统变量下面<br>设置path的变量</p><blockquote><p>;% ANDROID_HOME%\platform-tools;% ANDROID_HOME%\tools</p></blockquote><p>win 10 11 直接path 新建</p><blockquote><p>% ANDROID_HOME%\platform-tools;% ANDROID_HOME%\tools</p></blockquote><p>然后打开 sdk manager 安装所需的工具<br>因为国内环境太慢<br>所以需要 打开 tools&gt; options 设置代理<br><img src="https://s2.loli.net/2024/09/05/ZBSaHoMjAKDkWlc.png"><br>然后关闭</p><p>选择Packages<br><img src="https://s2.loli.net/2024/09/05/NZetmoMK2Ddruf8.png"><br>大连东软信息学院镜像服务器地址:</p><ul><li><a href="http://mirrors.neusoft.edu.cn/">http://mirrors.neusoft.edu.cn</a> 端口：80<br>北京化工大学镜像服务器地址:</li><li>IPv4: <a href="http://ubuntu.buct.edu.cn/">http://ubuntu.buct.edu.cn/</a> 端口：80</li><li>IPv4: <a href="http://ubuntu.buct.cn/">http://ubuntu.buct.cn/</a> 端口：80</li><li>IPv6: <a href="http://ubuntu.buct6.edu.cn/">http://ubuntu.buct6.edu.cn/</a> 端口：80<br>上海GDG镜像服务器地址:</li><li><a href="http://sdk.gdgshanghai.com/">http://sdk.gdgshanghai.com</a> 端口：8000</li></ul><p>选择 安装的包如下<br><img src="https://s2.loli.net/2024/09/05/Ds3P1jlApGx6g7m.png"></p><p><img src="https://s2.loli.net/2024/09/05/pHXaUcotB8d4RxV.png"><br>安装即可</p><h1 id="使用AndroidStudio-来安装"><a href="#使用AndroidStudio-来安装" class="headerlink" title="使用AndroidStudio 来安装"></a>使用AndroidStudio 来安装</h1><p>编译器下载地址： <a href="https://developer.android.google.cn/studio/#downloads">https://developer.android.google.cn/studio/#downloads</a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>下载安装步骤不讲了 就一直下一步下一步 然后选择路径然后再下一步<br>打开软件&#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/sdUa9vZp7qkNeXI.png"><br>直接选择 <code>cancel</code><br>next&#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/oOPjLg74Kv9ZdsJ.png"><br>next&#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/m3dSAFaI4T1oyit.png"><br>next 选择安装好的JDK&#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/qNAOvDlIWJX5keR.png"><br>next 选择喜欢的主题 &#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/GXYV1QEDbSqeWIz.png"><br>next &#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/WKC8c7hPnXOadyQ.png"><br>给模拟器的大小配置 （根据配置来 越大越好） 如果要使用他自带的模拟器的话。next &#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/oHLSe6RfwTG3F1D.png"><br>等待安装, finish &#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/iVrh8LksDqYGFQe.png"><br>安装成功！！<br><img src="https://s2.loli.net/2024/09/05/jXw49PqBnTxbNd8.png"><br>到了这一步还没算完结&#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/K9lZrocvEi51m4e.png"><br>还需要对某些配置进行设置&#x3D;&gt;</p><h2 id="配置configure"><a href="#配置configure" class="headerlink" title="配置configure"></a>配置configure</h2><p><img src="https://s2.loli.net/2024/09/05/ZRam3SgUYCjNrqc.png"><br>选择第一项SDK manager(AVD manager 是对模拟器进行配置，如果不用这个自带的模拟器就不需要配置) &#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/YxfdF4wzQpohcgO.png"><br>然后选择sdk tools &#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/8OyKfqiD6EcXJ2j.png"><br>选择好安装的工具 &#x3D; &gt;<br><img src="https://s2.loli.net/2024/09/05/DcES36275qGw9bP.png"><br>next  &#x3D; &gt;<br><img src="https://s2.loli.net/2024/09/05/UtCcZkNQgzwREx3.png"><br>finish &#x3D;&gt;<br><img src="https://s2.loli.net/2024/09/05/R4LT8NwrplJC2Qa.png"><br>然后就算创建完毕了<br>然后去新建工程即可。</p><h2 id="如何新建工程"><a href="#如何新建工程" class="headerlink" title="如何新建工程"></a>如何新建工程</h2><p><img src="https://s2.loli.net/2024/09/05/pUStAaZXBFwOfsv.png"><br>选择&#x3D; &gt;<br><img src="https://s2.loli.net/2024/09/05/HjCkpusvDNQrASo.png"><br>下一步 &#x3D; &gt;<br><img src="https://s2.loli.net/2024/09/05/9Nkh36slFvOpWgn.png"><br><img src="https://s2.loli.net/2024/09/05/muJlQ2AgMFBLvxb.png"><br>这样就代表创建完毕了</p><h1 id="adb简单介绍"><a href="#adb简单介绍" class="headerlink" title="adb简单介绍"></a>adb简单介绍</h1><p>Android 调试桥 (adb) 是一种功能多样的命令行工具，可让您与设备进行通信。adb 命令可用于执行各种设备操作，例如安装和调试应用。adb 提供对 Unix shell（可用来在设备上运行各种命令）的访问权限。它是一种客户端-服务器程序，包括以下三个组件：</p><p>客户端：用于发送命令。客户端在开发机器上运行。您可以通过发出 adb 命令从命令行终端调用客户端。<br>守护程序 (adbd)：用于在设备上运行命令。守护程序在每个设备上作为后台进程运行。<br>服务器：用于管理客户端与守护程序之间的通信。服务器在开发机器上作为后台进程运行。<br>adb 包含在 Android SDK 平台工具软件包中。您可以使用 SDK 管理器下载此软件包，该管理器会将其安装在 android_sdk&#x2F;platform-tools&#x2F; 下。如果您需要独立的 Android SDK 平台工具软件包，请点击此处进行下载。<br>如需了解如何通过 adb 连接设备以供使用，包括如何使用 Connection Assistant 来排查常见问题，请参阅在硬件设备上运行应用。<br>adb 是有个通用命令行工具 他允许您与模拟器实例或者链接的Android设备进行通信，他可为各种设备操作提供便利，比如安装和调试应用</p><p>adb在 D:\SDK\platform-tools 目录下<br><img src="https://s2.loli.net/2024/09/05/bpmWvzLD1QGKyUd.png"></p><p>启动adb 服务<br>在命令行中输入<br><code>adb start-server</code><br>会启动tcp端口 5037</p><p>连续敲击n下 手机的版本号选项进入开发者模式<br><img src="https://s2.loli.net/2024/09/05/6ZVAIf4LSnO1jbU.png"><br>打开开发者选项 打开 <code>usb调试</code></p><h1 id="各种模拟器上连接adb"><a href="#各种模拟器上连接adb" class="headerlink" title="各种模拟器上连接adb"></a>各种模拟器上连接adb</h1><h2 id="夜神模拟器连接adb"><a href="#夜神模拟器连接adb" class="headerlink" title="夜神模拟器连接adb"></a>夜神模拟器连接adb</h2><p><strong>注： adb 电脑安装的版本和手机版本不兼容</strong></p><ul><li>打开夜神模拟器的bin目录<br>将<img src="https://s2.loli.net/2024/09/05/iYAo21lTa3B8ReQ.png"></li><li>这三个目录备份起来</li><li>再将 platfrom-tools中的这三个文件拷贝进来</li><li>需要把夜神模拟器里的nox_adb.exe给替换掉<br>将夜神模拟器安装路径的bin目录下的之前的nox_adb.exe备份 或者删除<br>将platform-tools目录下的adb.exe复制过去，并改名称为nox_adb.exe</li><li>之后重新运行我们的安卓模拟器</li><li>然后在命令行输入 adb device</li></ul><p><img src="https://s2.loli.net/2024/09/05/9o453wqkrUK1NAC.png"><br>就能看见链接了一台设备了</p><h2 id="MuMu模拟器上连接adb"><a href="#MuMu模拟器上连接adb" class="headerlink" title="MuMu模拟器上连接adb"></a>MuMu模拟器上连接adb</h2><p>官方文档： <a href="https://mumu.163.com/help/20220721/35047_730476.html">https://mumu.163.com/help/20220721/35047_730476.html</a><br>第一步，打开MuMu模拟器安装路径下的bin文件夹（具体路径为~\emulator\nemu\vmonitor\bin），然后点击文件夹路径，输入CMD，再点击回车按键呼出CMD运行窗口（如下图）；<br><img src="https://s2.loli.net/2024/09/05/C6BDtLVWrzIPUx8.png"></p><p>打开cmd终端后<br>第二步，输入以下代码（具体可参考下图）：<br>友情提示：  要打开MuMu模拟器 再操作如下代码<br>最好也把root打开（反正迟早要打开）<br><img src="https://s2.loli.net/2024/09/05/8zERnP6HSx4csLd.png"><br><img src="https://s2.loli.net/2024/09/05/51xCeW9z7aibcNL.png"></p><blockquote><p>代码如下<br>adb_server.exe connect 127.0.0.1:7555<br>adb_server shell<br><img src="https://s2.loli.net/2024/09/05/Xexl8tTBgbYj2A5.png"></p></blockquote><h1 id="adb工具的使用"><a href="#adb工具的使用" class="headerlink" title="adb工具的使用"></a>adb工具的使用</h1><h2 id="adb-连接-手机"><a href="#adb-连接-手机" class="headerlink" title="adb 连接 手机"></a>adb 连接 手机</h2><p>进入 手机底层操作系统<br>win+r<br><img src="https://s2.loli.net/2024/09/05/x6rysLk2mAzCK1n.png"><br><code>adb -s + 手机名 shell</code></p><p>同理 也可以直接进入 手机模拟器<br><img src="https://s2.loli.net/2024/09/05/dW1EyPwcb7Nk4fL.png"></p><h2 id="通过adb-命令行安装"><a href="#通过adb-命令行安装" class="headerlink" title="通过adb 命令行安装"></a>通过adb 命令行安装</h2><p><code>adb -s 手机名 install xxx.apk(直接拖拽即可)</code></p><p>例：安装手机京东 如下图所示<br><img src="https://s2.loli.net/2024/09/05/ezEI6vAoPqig8lp.png"><br>这样代表就是安装成功<br><img src="https://s2.loli.net/2024/09/05/WcunXVb1IkNJTOs.png"></p><h2 id="通过adb命令卸载"><a href="#通过adb命令卸载" class="headerlink" title="通过adb命令卸载"></a>通过adb命令卸载</h2><blockquote><p>我们安装时使用的<strong>文件名</strong>去安装<br>但是卸载需要使用<strong>包名</strong>去卸载</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">adb -s xxx shell<br><br><span class="hljs-comment"># cd /data/app</span><br><span class="hljs-comment"># ls </span><br><span class="hljs-comment"># exit</span><br><br>$ adb -s 127.0.0.1:62001 uninstall com.jingdong.app.mall<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/09/05/G1nWkZS4AjlPTCz.png"><br><img src="https://s2.loli.net/2024/09/05/2aKSAP7cEdhiZ9x.png"><br>提示success 即代表卸载成功</p><p><strong>注：如果 adb device 没有设备</strong></p><p>可以 尝试命令<br><code>adb connect 127.0.0.1:62001</code></p><p>即可发现设备</p><h2 id="其他-adb的功能"><a href="#其他-adb的功能" class="headerlink" title="其他 adb的功能"></a>其他 adb的功能</h2><p><strong>通过命令 查看系统安装包名</strong></p><p><code>adb shell pm list package</code></p><p><strong>传递 数据 将电脑的文件传到夜神模拟器中</strong><br>adb push [文件路径] [存储路径]</p><p><code>adb push C:\abc.text /sdcard</code><br><img src="https://s2.loli.net/2024/09/05/2aKSAP7cEdhiZ9x.png"><br>这样代表上传成功</p><p><strong>传递 数据 将夜神模拟器的文件传到电脑中</strong><br>adb pull [文件路径] [存储路径]</p><p><code>adb pull /init C:\Users\13689\Desktop</code></p><p><img src="https://s2.loli.net/2024/09/05/AwE1FNjBxJQkZnd.png"></p><p>注意： 不能直接pull到根目录</p><p><strong>adb 远程截图</strong><br><code>adb shell screencap /sdcard/test.png</code></p><p>故 adb 可以通过 远程对我们手机进行一系列的操作</p>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在ubuntu上安装golang</title>
      <link href="/2022/03/26/%E5%9C%A8ubuntu%E4%B8%8A%E5%AE%89%E8%A3%85golang/"/>
      <url>/2022/03/26/%E5%9C%A8ubuntu%E4%B8%8A%E5%AE%89%E8%A3%85golang/</url>
      
        <content type="html"><![CDATA[<!--toc--><hr><p><a href="https://golang.google.cn/dl/">https://golang.google.cn/dl/</a></p><h1 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h1><h2 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://golang.google.cn/dl/go1.19.linux-amd64.tar.gz<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/08/26/gDPJvAlITqQGHC5.png"></p><h2 id="解压到文件夹下"><a href="#解压到文件夹下" class="headerlink" title="解压到文件夹下"></a>解压到文件夹下</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs go">sudo tar -xvzf go1<span class="hljs-number">.19</span>.linux-amd64.tar.gz -C /usr/local/<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/08/26/gDPJvAlITqQGHC5.png"></p><h2 id="编译配置环境变量"><a href="#编译配置环境变量" class="headerlink" title="编译配置环境变量"></a>编译配置环境变量</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> nano ~/.bashrc<br></code></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> GOPATH=/home/zic/gopath<br><br><span class="hljs-built_in">export</span> GOROOT=/usr/local/go<br><br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$GOROOT</span>/bin<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/08/26/vWKNQ3pZYO9ol6y.png"></p><p>配置完毕之后<br>然后使用命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><p>然后再终端中输入</p><blockquote><p>go version </p></blockquote><p><img src="https://s2.loli.net/2024/08/26/hcosbpRv5nIQe2F.png"></p><h2 id="运行hello-world"><a href="#运行hello-world" class="headerlink" title="运行hello,world"></a>运行hello,world</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">go run main.go<br></code></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2024/08/26/yhQINsl1dxrk2VF.png"></p><h1 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h1><h2 id="通过apt-get安装"><a href="#通过apt-get安装" class="headerlink" title="通过apt-get安装"></a>通过apt-get安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> apt-get install golang<br></code></pre></td></tr></table></figure><h1 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">export</span> GOPATH=/home/zic/gopath<br><br><span class="hljs-built_in">export</span> GOROOT=/usr/local/go<br><br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$GOROOT</span>/bin<br></code></pre></td></tr></table></figure><p>其他步骤一模一样 只不过这个版本不可选而已</p>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> golang </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu安装anconda3 与Miniconda</title>
      <link href="/2022/03/15/ubuntu%E5%AE%89%E8%A3%85anconda3/"/>
      <url>/2022/03/15/ubuntu%E5%AE%89%E8%A3%85anconda3/</url>
      
        <content type="html"><![CDATA[<h1 id="ubuntu-安装anaconda3"><a href="#ubuntu-安装anaconda3" class="headerlink" title="ubuntu 安装anaconda3"></a>ubuntu 安装anaconda3</h1><p>官网:<a href="https://www.anaconda.com/">https://www.anaconda.com/</a><br>下载:<a href="https://www.anaconda.com/products/individual#Downloads">https://www.anaconda.com/products/individual#Downloads</a><br>MiniAndonda:  <a href="https://docs.anaconda.com/miniconda/">https://docs.anaconda.com/miniconda/</a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>输入以下命令执行所下载的安装程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://repo.anaconda.com/archive/Anaconda3-2021.11-Linux-x86_64.sh<br><br>bash Anaconda3-2021.11-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><p>Miniconda</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh<br><br>bash Miniconda3-latest-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>为了下载库的时候速度更快，更换conda下载源为清华大学镜像</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arduino">conda config --add channels https:<span class="hljs-comment">//mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br>conda config --set show_channel_urls yes<br></code></pre></td></tr></table></figure><p>在 &#x2F;home&#x2F;xxx里面添加Anaconda-python路径</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ vim ~/.bashrc<br><br><span class="hljs-built_in">export</span> PATH=<span class="hljs-string">&quot;/home/xxx/anaconda3/bin:<span class="hljs-variable">$PATH</span>&quot;</span>  <span class="hljs-comment">## 在zshrc添加路径，然后保存退出</span><br><br>$ <span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><p>然后在ubuntu 输入命令</p><blockquote><p>conda –version</p></blockquote><p><strong>建立虚拟环境</strong></p><blockquote><p>conda create -n test python&#x3D;3.9</p></blockquote><p><strong>激活 虚拟环境</strong></p><blockquote><p>conda activate test</p></blockquote><p><strong>在虚拟环境安装软件</strong></p><blockquote><p>conda install spyder</p></blockquote><p><strong>关闭虚拟环境</strong></p><blockquote><p>deactivate</p></blockquote><p><strong>移除环境</strong></p><blockquote><p>conda remove –name test –all</p></blockquote><p><strong>删除已经设定好默认镜像源，恢复原来的源</strong></p><blockquote><p>conda config –remove-key channels</p></blockquote><p><strong>列出当前所有的环境</strong></p><blockquote><p>conda env list</p></blockquote><p><strong>重置Base环境</strong></p><blockquote><p>conda install –revision 0</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 快速安装 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
